# =============================================================================
# Second Brain - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# This file is used by:
#   - docker-compose.yml    (container configuration)
#   - backend/app/config.py (FastAPI application settings)
#   - scripts/setup_all.py  (vault setup scripts)
#
# =============================================================================

# =============================================================================
# DATA DIRECTORY (required)
# =============================================================================
# Root directory for all persistent data. All services store their data here:
#   ${DATA_DIR}/
#   ├── postgres/   - PostgreSQL database files
#   ├── redis/      - Redis append-only persistence
#   ├── neo4j/      - Neo4j graph database
#   └── obsidian/   - Obsidian vault (notes, templates, config)
#
# Use an absolute path for production. Relative paths are relative to the
# docker-compose.yml location.

DATA_DIR=~/workspace/second_brain_data

# =============================================================================
# PostgreSQL Configuration
# =============================================================================
# Used by: docker-compose.yml, backend/app/config.py
#
# The backend connects to PostgreSQL for:
#   - Content metadata storage
#   - Learning records and spaced repetition data
#   - User preferences and settings

POSTGRES_USER=secondbrain
POSTGRES_PASSWORD=changeme_postgres_password
POSTGRES_DB=secondbrain

# These are set in docker-compose.yml and typically don't need to be changed:
# POSTGRES_HOST=postgres  (container name)
# POSTGRES_PORT=5432

# =============================================================================
# Redis Configuration
# =============================================================================
# Used by: docker-compose.yml, backend/app/config.py
#
# Redis is used for:
#   - Session storage (user authentication state)
#   - Response caching (API performance)
#   - Task queues (background job processing)

# Full Redis URL (set in docker-compose.yml, override here if using external Redis)
# REDIS_URL=redis://redis:6379/0

# =============================================================================
# Neo4j Configuration
# =============================================================================
# Used by: docker-compose.yml, backend/app/config.py
#
# Neo4j stores the knowledge graph:
#   - Concept relationships
#   - Note connections and backlinks
#   - Topic hierarchies

NEO4J_PASSWORD=changeme_neo4j_password

# These are set in docker-compose.yml and typically don't need to be changed:
# NEO4J_URI=bolt://neo4j:7687
# NEO4J_USER=neo4j

# =============================================================================
# OpenAI Configuration (optional)
# =============================================================================
# Used by: backend/app/config.py
#
# Required for:
#   - Text embeddings for semantic search
#   - LLM-powered summarization
#   - Handwritten note OCR (vision models)
#
# Get your API key at: https://platform.openai.com/api-keys

OPENAI_API_KEY=

# =============================================================================
# Application Settings
# =============================================================================
# Used by: backend/app/config.py

# Enable debug mode (verbose logging, auto-reload)
DEBUG=false

# Application name (shown in API responses and health checks)
# APP_NAME=Second Brain

# =============================================================================
# IMPORTANT: Security Notes
# =============================================================================
# 1. NEVER commit .env to version control (it's in .gitignore)
# 2. Use strong, unique passwords for POSTGRES_PASSWORD and NEO4J_PASSWORD
# 3. Keep your OPENAI_API_KEY secret
# 4. For production, use a secrets manager (Vault, AWS Secrets Manager, etc.)
#
# To generate secure passwords:
#   openssl rand -base64 32
# =============================================================================
