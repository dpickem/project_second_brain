{
  "openapi": "3.1.0",
  "info": {
    "title": "Second Brain API",
    "description": "Knowledge management and learning system API",
    "version": "0.1.0"
  },
  "paths": {
    "/api/health": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Health Check",
        "description": "Basic health check.\n\nReturns a simple status response indicating the API is running.",
        "operationId": "health_check_api_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/health/detailed": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Detailed Health Check",
        "description": "Detailed health check with dependency status.\n\nChecks connectivity to:\n- PostgreSQL database\n- Redis cache\n- Neo4j graph database\n- Obsidian vault accessibility (with note count)\n- Vault watcher and sync services\n- Celery workers",
        "operationId": "detailed_health_check_api_health_detailed_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/health/ready": {
      "get": {
        "tags": [
          "health"
        ],
        "summary": "Readiness Check",
        "description": "Readiness probe for orchestration systems.\n\nReturns 200 only if the service is ready to accept traffic.\nChecks critical dependencies (database, Redis).\n\nUsed by: Docker health checks, load balancers, Kubernetes, etc.",
        "operationId": "readiness_check_api_health_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/capture/text": {
      "post": {
        "tags": [
          "capture"
        ],
        "summary": "Capture Text",
        "description": "Quick text capture for ideas, notes, and thoughts.\n\nImmediately queues content for processing and returns.\nProcessing includes: LLM tagging, Obsidian note creation, knowledge graph.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    content: The text content to capture (required).\n    title: Optional title for the note. If not provided, generated from content.\n    tags: Optional comma-separated list of tags (e.g., \"idea,work,urgent\").\n\nReturns:\n    dict: Response containing status, content ID, title, and processing message.",
        "operationId": "capture_text_api_capture_text_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_text_api_capture_text_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/capture/url": {
      "post": {
        "tags": [
          "capture"
        ],
        "summary": "Capture Url",
        "description": "Capture a URL for later processing.\n\nFetches page title immediately, then queues full content\nextraction for background processing.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    url: The URL to capture (must start with http:// or https://).\n    notes: Optional notes about why this URL was saved or key takeaways.\n    tags: Optional comma-separated list of tags (e.g., \"article,ai,research\").\n\nReturns:\n    dict: Response containing status, content ID, title, URL, and processing message.\n\nRaises:\n    HTTPException: 400 if URL doesn't start with http:// or https://.",
        "operationId": "capture_url_api_capture_url_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_url_api_capture_url_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/capture/photo": {
      "post": {
        "tags": [
          "capture"
        ],
        "summary": "Capture Photo",
        "description": "Capture a photo for OCR processing.\n\nSupports book pages, whiteboards, documents, and general photos.\nUses Vision LLM for text and handwriting extraction.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    file: The image file to process (JPEG, PNG, etc.).\n    capture_type: Type of photo being captured. Options:\n        - \"book_page\": Page from a physical book with potential margin notes.\n        - \"whiteboard\": Whiteboard or blackboard photo.\n        - \"document\": Printed document or form.\n        - \"general\": General photo with text (default).\n    notes: Optional notes or context about the photo.\n    book_title: Book title if capture_type is \"book_page\".\n\nReturns:\n    dict: Response containing status, content ID, file path, capture type,\n          and processing message.\n\nRaises:\n    HTTPException: 400 if file is not an image.",
        "operationId": "capture_photo_api_capture_photo_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_photo_api_capture_photo_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/capture/voice": {
      "post": {
        "tags": [
          "capture"
        ],
        "summary": "Capture Voice",
        "description": "Capture a voice memo for transcription.\n\nUses Whisper for transcription and optionally expands the\nraw transcript into a well-structured note.\n\nHigh-priority processing for quick turnaround.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    file: Audio file to transcribe. Supported formats: MP3, MP4, WAV, WebM,\n          M4A, OGG, FLAC.\n    expand: If True (default), uses LLM to expand raw transcript into a\n            structured, well-formatted note. If False, keeps raw transcript.\n\nReturns:\n    dict: Response containing status, content ID, file path, and processing\n          message indicating high-priority queue.\n\nRaises:\n    HTTPException: 400 if audio format is not supported.",
        "operationId": "capture_voice_api_capture_voice_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_voice_api_capture_voice_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/capture/pdf": {
      "post": {
        "tags": [
          "capture"
        ],
        "summary": "Capture Pdf",
        "description": "Upload a PDF for processing.\n\nExtracts text, digital highlights/comments, and optionally\nhandwritten annotations using Vision LLM.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    file: The PDF file to process.\n    content_type_hint: Optional hint about the PDF content type to optimize\n                      processing. Options:\n        - \"paper\": Academic paper with citations and abstract.\n        - \"article\": Web article or blog post.\n        - \"book\": Book chapter or full book.\n        - \"general\": General document (default).\n    detect_handwriting: If True (default), uses Vision LLM to detect and\n                       extract handwritten annotations in margins.\n\nReturns:\n    dict: Response containing status, content ID, file path, filename,\n          and processing message.\n\nRaises:\n    HTTPException: 400 if file is not a PDF.",
        "operationId": "capture_pdf_api_capture_pdf_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_pdf_api_capture_pdf_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/capture/book": {
      "post": {
        "tags": [
          "capture"
        ],
        "summary": "Capture Book",
        "description": "Capture multiple book page photos as a single book.\n\nUploads all images and processes them together using BookOCRPipeline.\nPages are processed in PARALLEL for faster results.\n\nNote: This endpoint requires individual file uploads rather than a directory path\nbecause the backend runs inside Docker and doesn't have access to the host\nfilesystem. Files are uploaded via multipart form data and saved to the\ncontainer's /uploads volume.\n\nThe pipeline:\n- Extracts page numbers via OCR (doesn't assume order from upload)\n- Detects chapters from running headers\n- Extracts printed text and handwritten margin notes\n- Aggregates all pages into a single Obsidian note\n\nPerformance:\n- 10 pages @ concurrency 5: ~30 seconds\n- 50 pages @ concurrency 10: ~75 seconds\n- 100 pages @ concurrency 10: ~150 seconds\n\nBest for: Capturing highlights and margin notes from physical books.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    files: List of image files (JPG, PNG, HEIC, WebP, TIFF) representing\n           book pages. Order doesn't matter; pages are sorted by detected\n           page numbers during OCR processing.\n    title: Optional book title. If not provided, the pipeline will attempt\n           to infer it from page headers or generate a timestamped title.\n    authors: Optional comma-separated list of author names\n             (e.g., \"Cal Newport, James Clear\").\n    isbn: Optional ISBN for metadata lookup and book identification.\n    notes: Optional notes about the book or why it was captured.\n\nReturns:\n    dict: Response containing status, content ID, title, page count,\n          file paths, and processing message.\n\nRaises:\n    HTTPException: 400 if no files provided or if any file is not a\n                  supported image format.",
        "operationId": "capture_book_api_capture_book_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_book_api_capture_book_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingestion/raindrop/sync": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Trigger Raindrop Sync",
        "description": "Trigger Raindrop.io sync.\n\nSyncs bookmarks created since the specified number of days ago.\n\nArgs:\n    background_tasks: FastAPI background task manager\n    request: Sync configuration with since_days, collection_id, and limit\n\nReturns:\n    Dict with sync status and parameters",
        "operationId": "trigger_raindrop_sync_api_ingestion_raindrop_sync_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RaindropSyncRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Trigger Raindrop Sync Api Ingestion Raindrop Sync Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingestion/github/sync": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Trigger Github Sync",
        "description": "Sync GitHub starred repositories.\n\nImports recently starred repos up to the specified limit.\n\nArgs:\n    background_tasks: FastAPI background task manager\n    request: Sync configuration with limit\n\nReturns:\n    Dict with sync status and parameters",
        "operationId": "trigger_github_sync_api_ingestion_github_sync_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GitHubSyncRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Trigger Github Sync Api Ingestion Github Sync Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingestion/status/{content_id}": {
      "get": {
        "tags": [
          "ingestion"
        ],
        "summary": "Get Processing Status",
        "description": "Get processing status for a content item.\n\nReturns current status and any error messages.\n\nArgs:\n    content_id: UUID of the content item to check\n\nReturns:\n    Dict with id, title, status, error, source_type, created_at, obsidian_path\n\nRaises:\n    HTTPException: 404 if content not found",
        "operationId": "get_processing_status_api_ingestion_status__content_id__get",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Processing Status Api Ingestion Status  Content Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingestion/queue/stats": {
      "get": {
        "tags": [
          "ingestion"
        ],
        "summary": "Get Queue Statistics",
        "description": "Get processing queue statistics.\n\nReturns counts of active, queued, and scheduled tasks.\n\nReturns:\n    Dict with status and queue statistics (active, queued, scheduled counts)",
        "operationId": "get_queue_statistics_api_ingestion_queue_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Queue Statistics Api Ingestion Queue Stats Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingestion/scheduled": {
      "get": {
        "tags": [
          "ingestion"
        ],
        "summary": "List Scheduled Jobs",
        "description": "List all scheduled sync jobs.\n\nReturns job IDs, names, and next run times.\n\nReturns:\n    Dict with jobs list and count",
        "operationId": "list_scheduled_jobs_api_ingestion_scheduled_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response List Scheduled Jobs Api Ingestion Scheduled Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingestion/scheduled/{job_id}/trigger": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Trigger Scheduled Job",
        "description": "Manually trigger a scheduled job immediately.\n\nUseful for testing or forcing an immediate sync.\n\nArgs:\n    job_id: ID of the scheduled job to trigger\n\nReturns:\n    Dict with trigger status and job_id\n\nRaises:\n    HTTPException: 404 if job not found",
        "operationId": "trigger_scheduled_job_api_ingestion_scheduled__job_id__trigger_post",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Trigger Scheduled Job Api Ingestion Scheduled  Job Id  Trigger Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingestion/pending": {
      "get": {
        "tags": [
          "ingestion"
        ],
        "summary": "List Pending Content",
        "description": "List content items pending processing.\n\nUseful for monitoring the processing backlog.\n\nArgs:\n    limit: Maximum number of items to return (default: 20)\n\nReturns:\n    Dict with count and list of pending content items",
        "operationId": "list_pending_content_api_ingestion_pending_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response List Pending Content Api Ingestion Pending Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/ingestion/taxonomy/sync": {
      "post": {
        "tags": [
          "ingestion"
        ],
        "summary": "Sync Taxonomy",
        "description": "Sync tag taxonomy from YAML to database.\n\nCreates any tags from the YAML taxonomy that don't exist in the database.\nThis is also run automatically daily at 4 AM UTC.\n\nReturns:\n    Dict with sync status and count of tags created",
        "operationId": "sync_taxonomy_api_ingestion_taxonomy_sync_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Sync Taxonomy Api Ingestion Taxonomy Sync Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/processing/trigger": {
      "post": {
        "tags": [
          "processing"
        ],
        "summary": "Trigger Processing",
        "description": "Trigger LLM processing for a content item.\n\nProcessing runs asynchronously in the background. Use the status\nendpoint to check progress.\n\nArgs:\n    request: Processing request with content_id and optional config\n\nReturns:\n    TriggerProcessingResponse with queued status",
        "operationId": "trigger_processing_api_processing_trigger_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TriggerProcessingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerProcessingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/processing/status/{content_id}": {
      "get": {
        "tags": [
          "processing"
        ],
        "summary": "Get Processing Status",
        "description": "Get processing status for a content item.\n\nReturns the current status and metadata about the most recent\nprocessing run.\n\nArgs:\n    content_id: UUID of the content\n\nReturns:\n    ProcessingStatusResponse with status and timing info",
        "operationId": "get_processing_status_api_processing_status__content_id__get",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProcessingStatusResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/processing/result/{content_id}": {
      "get": {
        "tags": [
          "processing"
        ],
        "summary": "Get Processing Result",
        "description": "Get full processing result for a content item.\n\nReturns the complete processing result including analysis,\nsummaries, concepts, tags, connections, and more.\n\nArgs:\n    content_id: UUID of the content\n\nReturns:\n    ProcessingResultResponse with all processing outputs\n\nRaises:\n    HTTPException 404: If content or processing result not found",
        "operationId": "get_processing_result_api_processing_result__content_id__get",
        "parameters": [
          {
            "name": "content_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProcessingResultResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/processing/pending": {
      "get": {
        "tags": [
          "processing"
        ],
        "summary": "Get Pending Content",
        "description": "Get all content items pending processing.\n\nReturns content that has been ingested but not yet processed,\noptionally including items that failed processing.\n\nArgs:\n    limit: Maximum number of items to return (default 100)\n    include_failed: Whether to include failed items (default False)\n\nReturns:\n    PendingContentResponse with list of pending items",
        "operationId": "get_pending_content_api_processing_pending_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "include_failed",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Include Failed"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PendingContentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/processing/reprocess": {
      "post": {
        "tags": [
          "processing"
        ],
        "summary": "Reprocess Content",
        "description": "Reprocess specific stages for existing content.\n\nUseful when prompts are updated or specific stages need to be re-run.\n\nArgs:\n    content_id: UUID of content to reprocess\n    stages: List of stages to run (e.g., [ProcessingStage.SUMMARIZATION])\n\nReturns:\n    Status indicating reprocessing was queued",
        "operationId": "reprocess_content_api_processing_reprocess_post",
        "parameters": [
          {
            "name": "content_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Content Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ProcessingStage"
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Stages"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/vault/status": {
      "get": {
        "tags": [
          "vault"
        ],
        "summary": "Get Vault Status",
        "description": "Get vault status and statistics.",
        "operationId": "get_vault_status_api_vault_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/vault/ensure-structure": {
      "post": {
        "tags": [
          "vault"
        ],
        "summary": "Ensure Vault Structure",
        "description": "Ensure vault folder structure exists (idempotent).\n\nCreates any missing folders. Safe to call multiple times.",
        "operationId": "ensure_vault_structure_api_vault_ensure_structure_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/vault/indices/regenerate": {
      "post": {
        "tags": [
          "vault"
        ],
        "summary": "Regenerate Indices",
        "description": "Regenerate all folder indices.",
        "operationId": "regenerate_indices_api_vault_indices_regenerate_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/vault/daily": {
      "post": {
        "tags": [
          "vault"
        ],
        "summary": "Create Daily Note",
        "description": "Create a daily note.",
        "operationId": "create_daily_note_api_vault_daily_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DailyNoteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/vault/daily/inbox": {
      "post": {
        "tags": [
          "vault"
        ],
        "summary": "Add Inbox Item",
        "description": "Add an item to today's daily note inbox.",
        "operationId": "add_inbox_item_api_vault_daily_inbox_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InboxItemRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/vault/sync": {
      "post": {
        "tags": [
          "vault"
        ],
        "summary": "Sync Vault To Neo4J",
        "description": "Sync entire vault to Neo4j (runs in background).",
        "operationId": "sync_vault_to_neo4j_api_vault_sync_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/vault/folders": {
      "get": {
        "tags": [
          "vault"
        ],
        "summary": "List Folders",
        "description": "List all content type folders in the vault.",
        "operationId": "list_folders_api_vault_folders_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/vault/watcher/status": {
      "get": {
        "tags": [
          "vault"
        ],
        "summary": "Get Vault Watcher Status",
        "description": "Get the current status of the vault file watcher.",
        "operationId": "get_vault_watcher_status_api_vault_watcher_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/vault/sync/status": {
      "get": {
        "tags": [
          "vault"
        ],
        "summary": "Get Vault Sync Status",
        "description": "Get the current status of vault-to-Neo4j sync.\n\nReturns:\n    - is_running: Whether a sync is currently in progress\n    - sync_type: Type of sync (\"full\" or \"reconciliation\")\n    - progress: Current progress (total, processed, synced, failed, percent)\n    - last_result: Result of the last completed sync\n    - last_completed_at: When the last sync completed\n    - last_error: Error message if the last sync failed",
        "operationId": "get_vault_sync_status_api_vault_sync_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/vault/notes": {
      "get": {
        "tags": [
          "vault"
        ],
        "summary": "List Notes",
        "description": "List notes in the vault with filtering and pagination.\n\nScans the vault for markdown files and returns metadata.\nSupports filtering by folder, search term, tag, and content type.",
        "operationId": "list_notes_api_vault_notes_get",
        "parameters": [
          {
            "name": "folder",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by folder path",
              "title": "Folder"
            },
            "description": "Filter by folder path"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search in file names",
              "title": "Search"
            },
            "description": "Search in file names"
          },
          {
            "name": "tag",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tag",
              "title": "Tag"
            },
            "description": "Filter by tag"
          },
          {
            "name": "content_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by content type",
              "title": "Content Type"
            },
            "description": "Filter by content type"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "Page number",
              "default": 1,
              "title": "Page"
            },
            "description": "Page number"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Notes per page",
              "default": 50,
              "title": "Page Size"
            },
            "description": "Notes per page"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort by: modified, name, size",
              "default": "modified",
              "title": "Sort By"
            },
            "description": "Sort by: modified, name, size"
          },
          {
            "name": "sort_desc",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Sort descending",
              "default": true,
              "title": "Sort Desc"
            },
            "description": "Sort descending"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotesListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/vault/notes/{note_path}": {
      "get": {
        "tags": [
          "vault"
        ],
        "summary": "Get Note",
        "description": "Get the full content of a specific note.\n\nArgs:\n    note_path: Relative path to the note from vault root (e.g., \"papers/my-paper.md\")\n\nReturns:\n    Full note content with parsed frontmatter.",
        "operationId": "get_note_api_vault_notes__note_path__get",
        "parameters": [
          {
            "name": "note_path",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Note Path"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteContent"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/knowledge/graph": {
      "get": {
        "tags": [
          "knowledge"
        ],
        "summary": "Get Graph Visualization",
        "description": "Get graph data for visualization.\n\nReturns nodes and edges in D3-compatible format for force-directed graphs.\n\nArgs:\n    center_id: Optional node ID to center the graph on\n    node_types: Comma-separated list of node types to include\n    depth: How many hops from center to traverse (only used with center_id)\n    limit: Maximum number of nodes to return\n\nReturns:\n    GraphResponse with nodes, edges, and metadata",
        "operationId": "get_graph_visualization_api_knowledge_graph_get",
        "parameters": [
          {
            "name": "center_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Center graph on this node ID",
              "title": "Center Id"
            },
            "description": "Center graph on this node ID"
          },
          {
            "name": "node_types",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Comma-separated node types",
              "default": "Content,Concept,Note",
              "title": "Node Types"
            },
            "description": "Comma-separated node types"
          },
          {
            "name": "depth",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 4,
              "minimum": 1,
              "description": "Traversal depth from center",
              "default": 2,
              "title": "Depth"
            },
            "description": "Traversal depth from center"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 10,
              "description": "Max nodes to return",
              "default": 100,
              "title": "Limit"
            },
            "description": "Max nodes to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/knowledge/stats": {
      "get": {
        "tags": [
          "knowledge"
        ],
        "summary": "Get Graph Stats",
        "description": "Get summary statistics for the knowledge graph.\n\nReturns:\n    GraphStats with node and relationship counts",
        "operationId": "get_graph_stats_api_knowledge_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphStats"
                }
              }
            }
          }
        }
      }
    },
    "/api/knowledge/node/{node_id}": {
      "get": {
        "tags": [
          "knowledge"
        ],
        "summary": "Get Node Details",
        "description": "Get detailed information about a specific node.\n\nArgs:\n    node_id: The node's unique identifier\n\nReturns:\n    NodeDetails with full node information\n\nRaises:\n    HTTPException 404: If node not found",
        "operationId": "get_node_details_api_knowledge_node__node_id__get",
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Node Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeDetails"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/knowledge/health": {
      "get": {
        "tags": [
          "knowledge"
        ],
        "summary": "Knowledge Graph Health",
        "description": "Check Neo4j connection health.\n\nReturns:\n    Health status dict with neo4j_connected boolean",
        "operationId": "knowledge_graph_health_api_knowledge_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Knowledge Graph Health Api Knowledge Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/knowledge/search": {
      "post": {
        "tags": [
          "knowledge"
        ],
        "summary": "Search Knowledge",
        "description": "Semantic search across knowledge base.\n\nUses embeddings to find semantically similar content when available,\notherwise falls back to keyword/fulltext matching. Searches across\nContent, Concepts, and Notes.\n\nArgs:\n    request: Search query and filters\n\nReturns:\n    SearchResponse with ranked results",
        "operationId": "search_knowledge_api_knowledge_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/knowledge/connections/{node_id}": {
      "get": {
        "tags": [
          "knowledge"
        ],
        "summary": "Get Connections",
        "description": "Get connections for a specific node.\n\nReturns incoming and outgoing relationships, optionally filtered by direction.\n\nArgs:\n    node_id: The node to get connections for\n    direction: incoming, outgoing, or both\n    limit: Maximum connections per direction\n\nReturns:\n    ConnectionsResponse with incoming and outgoing lists",
        "operationId": "get_connections_api_knowledge_connections__node_id__get",
        "parameters": [
          {
            "name": "node_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Node Id"
            }
          },
          {
            "name": "direction",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ConnectionDirection",
              "description": "Filter by direction",
              "default": "both"
            },
            "description": "Filter by direction"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Max connections per direction",
              "default": 20,
              "title": "Limit"
            },
            "description": "Max connections per direction"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/knowledge/topics": {
      "get": {
        "tags": [
          "knowledge"
        ],
        "summary": "Get Topic Hierarchy",
        "description": "Get hierarchical topic structure.\n\nTopics are organized in a tree based on their tag paths:\n- ml/\n  - ml/deep-learning/\n    - ml/deep-learning/transformers/\n\nArgs:\n    min_content: Filter out topics with fewer items\n\nReturns:\n    TopicHierarchyResponse with tree structure",
        "operationId": "get_topic_hierarchy_api_knowledge_topics_get",
        "parameters": [
          {
            "name": "min_content",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Min content count to include",
              "default": 0,
              "title": "Min Content"
            },
            "description": "Min content count to include"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopicHierarchyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/practice/session": {
      "post": {
        "tags": [
          "practice"
        ],
        "summary": "Create Session",
        "description": "Create a new practice session.\n\nReturns a balanced session with:\n- 40% due spaced rep cards\n- 30% weak spot exercises\n- 30% new/interleaved content",
        "operationId": "create_session_api_practice_session_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/practice/session/{session_id}/end": {
      "post": {
        "tags": [
          "practice"
        ],
        "summary": "End Session",
        "description": "End a practice session and get summary statistics.",
        "operationId": "end_session_api_practice_session__session_id__end_post",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/practice/exercise/generate": {
      "post": {
        "tags": [
          "practice"
        ],
        "summary": "Generate Exercise",
        "description": "Generate an adaptive exercise for a topic.\n\nExercise type and difficulty are selected based on mastery level:\n- < 0.3: Worked examples, code completions\n- 0.3-0.7: Free recall, implementations\n- > 0.7: Applications, teach-back",
        "operationId": "generate_exercise_api_practice_exercise_generate_post",
        "parameters": [
          {
            "name": "mastery_level",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1,
              "minimum": 0,
              "description": "Current mastery level",
              "default": 0.5,
              "title": "Mastery Level"
            },
            "description": "Current mastery level"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExerciseGenerateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExerciseResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/practice/exercises": {
      "get": {
        "tags": [
          "practice"
        ],
        "summary": "List Exercises",
        "description": "List all exercises with optional filtering.\n\nReturns exercises ordered by creation date (newest first).",
        "operationId": "list_exercises_api_practice_exercises_get",
        "parameters": [
          {
            "name": "topic",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by topic path",
              "title": "Topic"
            },
            "description": "Filter by topic path"
          },
          {
            "name": "exercise_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ExerciseType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by exercise type",
              "title": "Exercise Type"
            },
            "description": "Filter by exercise type"
          },
          {
            "name": "difficulty",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ExerciseDifficulty"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by difficulty",
              "title": "Difficulty"
            },
            "description": "Filter by difficulty"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum exercises to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum exercises to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Offset for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Offset for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExerciseResponse"
                  },
                  "title": "Response List Exercises Api Practice Exercises Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/practice/exercise/{exercise_id}": {
      "get": {
        "tags": [
          "practice"
        ],
        "summary": "Get Exercise",
        "description": "Get an exercise by ID.",
        "operationId": "get_exercise_api_practice_exercise__exercise_id__get",
        "parameters": [
          {
            "name": "exercise_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Exercise Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExerciseResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/practice/submit": {
      "post": {
        "tags": [
          "practice"
        ],
        "summary": "Submit Attempt",
        "description": "Submit an exercise attempt for evaluation.\n\nReturns detailed feedback including:\n- Score (0-1)\n- Covered and missing key points\n- Misconceptions identified\n- LLM-generated feedback\n- Solution reveal",
        "operationId": "submit_attempt_api_practice_submit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AttemptSubmitRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptEvaluationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/practice/attempt/{attempt_id}/confidence": {
      "patch": {
        "tags": [
          "practice"
        ],
        "summary": "Update Confidence",
        "description": "Update confidence rating after viewing feedback.",
        "operationId": "update_confidence_api_practice_attempt__attempt_id__confidence_patch",
        "parameters": [
          {
            "name": "attempt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Attempt Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AttemptConfidenceUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Update Confidence Api Practice Attempt  Attempt Id  Confidence Patch"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/review/cards": {
      "post": {
        "tags": [
          "review"
        ],
        "summary": "Create Card",
        "description": "Create a new spaced repetition card.\n\nCard is created in NEW state with FSRS initial parameters.",
        "operationId": "create_card_api_review_cards_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/review/cards/{card_id}": {
      "get": {
        "tags": [
          "review"
        ],
        "summary": "Get Card",
        "description": "Get a card by ID.",
        "operationId": "get_card_api_review_cards__card_id__get",
        "parameters": [
          {
            "name": "card_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Card Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/review/due": {
      "get": {
        "tags": [
          "review"
        ],
        "summary": "Get Due Cards",
        "description": "Get cards due for review.\n\nReturns cards ordered by due date (oldest first) with a review forecast.",
        "operationId": "get_due_cards_api_review_due_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Maximum cards to return",
              "default": 50,
              "title": "Limit"
            },
            "description": "Maximum cards to return"
          },
          {
            "name": "topic",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by topic tag",
              "title": "Topic"
            },
            "description": "Filter by topic tag"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DueCardsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/review/rate": {
      "post": {
        "tags": [
          "review"
        ],
        "summary": "Rate Card",
        "description": "Submit a review rating for a card.\n\nFSRS ratings:\n- AGAIN (1): Complete failure, reset to learning\n- HARD (2): Significant difficulty, shorter interval\n- GOOD (3): Correct with effort, normal interval\n- EASY (4): Too easy, longer interval\n\nReturns the new scheduling information.",
        "operationId": "rate_card_api_review_rate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardReviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardReviewResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/review/evaluate": {
      "post": {
        "tags": [
          "review"
        ],
        "summary": "Evaluate Card Answer",
        "description": "Evaluate a typed answer for a card using LLM.\n\nThis enables \"active recall\" mode where users type their answer\ninstead of just flipping the card. The LLM evaluates the answer\nsemantically and returns an appropriate FSRS rating.\n\nUse the returned rating with the /rate endpoint to save the review.\n\nReturns:\n- rating: FSRS rating (1-4) based on answer quality\n- is_correct: True if rating >= 3 (Good or Easy)\n- feedback: Explanation of what was correct/incorrect\n- expected_answer: The correct answer for comparison",
        "operationId": "evaluate_card_answer_api_review_evaluate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardEvaluateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardEvaluateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/review/stats": {
      "get": {
        "tags": [
          "review"
        ],
        "summary": "Get Card Stats",
        "description": "Get card statistics.\n\nReturns counts by state, average stability/difficulty, and due counts.",
        "operationId": "get_card_stats_api_review_stats_get",
        "parameters": [
          {
            "name": "topic",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by topic tag",
              "title": "Topic"
            },
            "description": "Filter by topic tag"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardStats"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/review/generate": {
      "post": {
        "tags": [
          "review"
        ],
        "summary": "Generate Cards",
        "description": "Generate spaced repetition cards for a topic on-demand.\n\nUses existing content and LLM to generate flashcards for the specified topic.\nUseful when starting a review session for a topic with few or no cards.",
        "operationId": "generate_cards_api_review_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/review/ensure-cards": {
      "post": {
        "tags": [
          "review"
        ],
        "summary": "Ensure Cards For Topic",
        "description": "Ensure a minimum number of cards exist for a topic.\n\nIf fewer than `minimum` cards exist, generates more using LLM.\nReturns immediately if enough cards already exist.",
        "operationId": "ensure_cards_for_topic_api_review_ensure_cards_post",
        "parameters": [
          {
            "name": "topic",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Topic path",
              "title": "Topic"
            },
            "description": "Topic path"
          },
          {
            "name": "minimum",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Minimum cards required",
              "default": 5,
              "title": "Minimum"
            },
            "description": "Minimum cards required"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/overview": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "Get Mastery Overview",
        "description": "Get overall mastery statistics.\n\nReturns:\n- Overall mastery score\n- Card counts by state\n- Topic masteries\n- Practice streak",
        "operationId": "get_mastery_overview_api_analytics_overview_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MasteryOverview"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/daily": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "Get Daily Stats",
        "description": "Get daily statistics for the dashboard.\n\nReturns today's learning status including:\n- Current streak and risk status\n- Due cards count\n- Cards reviewed today\n- Overall mastery\n- Practice time today",
        "operationId": "get_daily_stats_api_analytics_daily_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DailyStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/practice-history": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "Get Practice History",
        "description": "Get practice history for activity heatmap.\n\nReturns daily practice activity for the specified number of weeks,\nsuitable for rendering a GitHub-style contribution heatmap.",
        "operationId": "get_practice_history_api_analytics_practice_history_get",
        "parameters": [
          {
            "name": "weeks",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 104,
              "minimum": 1,
              "description": "Number of weeks of history",
              "default": 52,
              "title": "Weeks"
            },
            "description": "Number of weeks of history"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PracticeHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/mastery/{topic}": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "Get Topic Mastery",
        "description": "Get mastery state for a specific topic.\n\nTopic paths use slashes (e.g., \"ml/transformers/attention\").",
        "operationId": "get_topic_mastery_api_analytics_mastery__topic__get",
        "parameters": [
          {
            "name": "topic",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Topic"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MasteryState"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/weak-spots": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "Get Weak Spots",
        "description": "Get topics identified as weak spots.\n\nWeak spots are topics with:\n- Mastery score < 0.6\n- At least 3 practice attempts\n- Declining trends prioritized",
        "operationId": "get_weak_spots_api_analytics_weak_spots_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Maximum weak spots to return",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum weak spots to return"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WeakSpotsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/learning-curve": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "Get Learning Curve",
        "description": "Get learning curve data for visualization.\n\nReturns historical mastery data points for charting progress over time.",
        "operationId": "get_learning_curve_api_analytics_learning_curve_get",
        "parameters": [
          {
            "name": "topic",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Topic to get curve for (None for overall)",
              "title": "Topic"
            },
            "description": "Topic to get curve for (None for overall)"
          },
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 7,
              "description": "Number of days of history",
              "default": 30,
              "title": "Days"
            },
            "description": "Number of days of history"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningCurveResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/snapshot": {
      "post": {
        "tags": [
          "analytics"
        ],
        "summary": "Take Mastery Snapshot",
        "description": "Manually trigger a mastery snapshot.\n\nThis is normally done by a scheduled job at midnight,\nbut can be triggered manually for testing.",
        "operationId": "take_mastery_snapshot_api_analytics_snapshot_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Take Mastery Snapshot Api Analytics Snapshot Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/time-investment": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "Get Time Investment",
        "description": "Get time investment breakdown.\n\nShows how much time has been spent learning,\nbroken down by topic and activity type.\n\nArgs:\n    period: Time period to analyze (7d, 30d, 90d, 1y, all)\n    group_by: How to group the data (day, week, month)\n\nReturns:\n    Time investment summary with trends",
        "operationId": "get_time_investment_api_analytics_time_investment_get",
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/TimePeriod",
              "description": "Time period to analyze",
              "default": "30d"
            },
            "description": "Time period to analyze"
          },
          {
            "name": "group_by",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/GroupBy",
              "description": "How to group the data",
              "default": "day"
            },
            "description": "How to group the data"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimeInvestmentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/streak": {
      "get": {
        "tags": [
          "analytics"
        ],
        "summary": "Get Streak Data",
        "description": "Get practice streak information.\n\nA streak is maintained by practicing at least once per day.\nStreaks reset if a day is missed.\n\nReturns:\n    Current streak, history, and milestones",
        "operationId": "get_streak_data_api_analytics_streak_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StreakData"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/time-log": {
      "post": {
        "tags": [
          "analytics"
        ],
        "summary": "Log Learning Time",
        "description": "Log time spent on a learning activity.\n\nCalled by frontend to track time investment.\nDuration is calculated from started_at and ended_at.\n\nArgs:\n    request: Time log details\n\nReturns:\n    Created time log record",
        "operationId": "log_learning_time_api_analytics_time_log_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LogTimeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogTimeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/assistant/chat": {
      "post": {
        "tags": [
          "assistant"
        ],
        "summary": "Send Message",
        "description": "Send a message to the AI assistant and get a response.\n\nArgs:\n    request: Chat request with message and optional conversation_id.\n    service: Injected assistant service.\n\nReturns:\n    ChatResponse with conversation_id, response, and sources.\n\nRaises:\n    HTTPException 404: If specified conversation not found.\n    HTTPException 500: If chat processing fails.",
        "operationId": "send_message_api_assistant_chat_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/assistant/conversations": {
      "get": {
        "tags": [
          "assistant"
        ],
        "summary": "Get Conversations",
        "description": "Get paginated list of all conversations.\n\nArgs:\n    limit: Maximum conversations to return (1-100).\n    offset: Number to skip for pagination.\n    service: Injected assistant service.\n\nReturns:\n    ConversationListResponse with conversations and total count.\n\nRaises:\n    HTTPException 500: If retrieval fails.",
        "operationId": "get_conversations_api_assistant_conversations_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Max conversations to return",
              "default": 20,
              "title": "Limit"
            },
            "description": "Max conversations to return"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number to skip for pagination",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number to skip for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "assistant"
        ],
        "summary": "Clear All Conversations",
        "description": "Delete all conversations and messages.\n\nArgs:\n    service: Injected assistant service.\n\nReturns:\n    DeleteResponse with count of cleared conversations.\n\nRaises:\n    HTTPException 500: If clearing fails.",
        "operationId": "clear_all_conversations_api_assistant_conversations_delete",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/assistant/conversations/{conversation_id}": {
      "get": {
        "tags": [
          "assistant"
        ],
        "summary": "Get Conversation",
        "description": "Get a specific conversation with all its messages.\n\nArgs:\n    conversation_id: Unique conversation identifier.\n    service: Injected assistant service.\n\nReturns:\n    ConversationDetail with messages.\n\nRaises:\n    HTTPException 404: If conversation not found.\n    HTTPException 500: If retrieval fails.",
        "operationId": "get_conversation_api_assistant_conversations__conversation_id__get",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationDetail"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "assistant"
        ],
        "summary": "Delete Conversation",
        "description": "Delete a conversation and all its messages.\n\nArgs:\n    conversation_id: Unique conversation identifier.\n    service: Injected assistant service.\n\nReturns:\n    DeleteResponse with success status.\n\nRaises:\n    HTTPException 404: If conversation not found.\n    HTTPException 500: If deletion fails.",
        "operationId": "delete_conversation_api_assistant_conversations__conversation_id__delete",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "assistant"
        ],
        "summary": "Rename Conversation",
        "description": "Rename a conversation.\n\nArgs:\n    conversation_id: Unique conversation identifier.\n    request: Update request with new title.\n    service: Injected assistant service.\n\nReturns:\n    ConversationUpdateResponse with updated metadata.\n\nRaises:\n    HTTPException 404: If conversation not found.\n    HTTPException 500: If update fails.",
        "operationId": "rename_conversation_api_assistant_conversations__conversation_id__patch",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversationUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationUpdateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/assistant/conversations/{conversation_id}/messages": {
      "delete": {
        "tags": [
          "assistant"
        ],
        "summary": "Clear Conversation Messages",
        "description": "Clear all messages from a conversation.\n\nArgs:\n    conversation_id: Unique conversation identifier.\n    service: Injected assistant service.\n\nReturns:\n    DeleteResponse with count of cleared messages.\n\nRaises:\n    HTTPException 500: If clearing fails.",
        "operationId": "clear_conversation_messages_api_assistant_conversations__conversation_id__messages_delete",
        "parameters": [
          {
            "name": "conversation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conversation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/assistant/suggestions": {
      "get": {
        "tags": [
          "assistant"
        ],
        "summary": "Get Suggestions",
        "description": "Get AI-generated prompt suggestions based on current knowledge base.\n\nArgs:\n    service: Injected assistant service.\n\nReturns:\n    SuggestionsResponse with list of suggested prompts.\n\nRaises:\n    HTTPException 500: If suggestion generation fails.",
        "operationId": "get_suggestions_api_assistant_suggestions_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuggestionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/assistant/search": {
      "get": {
        "tags": [
          "assistant"
        ],
        "summary": "Search Knowledge",
        "description": "Search knowledge base for content relevant to a query.\n\nArgs:\n    q: Search query string.\n    service: Injected assistant service.\n\nReturns:\n    KnowledgeSearchResponse with search results.\n\nRaises:\n    HTTPException 500: If search fails.",
        "operationId": "search_knowledge_api_assistant_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "maxLength": 500,
              "description": "Search query",
              "title": "Q"
            },
            "description": "Search query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeSearchResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/assistant/recommendations": {
      "get": {
        "tags": [
          "assistant"
        ],
        "summary": "Get Recommendations",
        "description": "Get personalized study recommendations based on learning history.\n\nArgs:\n    service: Injected assistant service.\n\nReturns:\n    RecommendationsResponse with prioritized study recommendations.\n\nRaises:\n    HTTPException 500: If recommendation generation fails.",
        "operationId": "get_recommendations_api_assistant_recommendations_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecommendationsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/assistant/quiz": {
      "post": {
        "tags": [
          "assistant"
        ],
        "summary": "Generate Quiz",
        "description": "Generate a quiz on a specific topic.\n\nArgs:\n    request: Quiz parameters (topic_id and question_count).\n    service: Injected assistant service.\n\nReturns:\n    QuizResponse with generated questions.\n\nRaises:\n    HTTPException 500: If quiz generation fails.",
        "operationId": "generate_quiz_api_assistant_quiz_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuizRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuizResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/assistant/explain/{concept_id}": {
      "get": {
        "tags": [
          "assistant"
        ],
        "summary": "Explain Concept",
        "description": "Get an AI-generated explanation of a concept.\n\nArgs:\n    concept_id: Concept identifier to explain.\n    style: Explanation style ('simple', 'detailed', or 'eli5').\n    service: Injected assistant service.\n\nReturns:\n    ExplanationResponse with explanation, examples, and related concepts.\n\nRaises:\n    HTTPException 500: If explanation generation fails.",
        "operationId": "explain_concept_api_assistant_explain__concept_id__get",
        "parameters": [
          {
            "name": "concept_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Concept Id"
            }
          },
          {
            "name": "style",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ExplanationStyle",
              "description": "Explanation style: 'simple', 'detailed', or 'eli5'",
              "default": "detailed"
            },
            "description": "Explanation style: 'simple', 'detailed', or 'eli5'"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExplanationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/graph": {
      "get": {
        "summary": "Graph",
        "description": "Get all nodes and relationships from Neo4j.\n\nReturns a graph structure with nodes and relationships.",
        "operationId": "graph_graph_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Root endpoint with API information.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AttemptConfidenceUpdate": {
        "properties": {
          "confidence_after": {
            "type": "integer",
            "maximum": 5,
            "minimum": 1,
            "title": "Confidence After"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "confidence_after"
        ],
        "title": "AttemptConfidenceUpdate",
        "description": "Update confidence after viewing feedback.\n\nCaptures the learner's revised self-assessment after seeing the evaluation.\nComparing confidence_before and confidence_after reveals calibration accuracy\nwell-calibrated learners show smaller deltas between pre and post confidence.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "AttemptEvaluationResponse": {
        "properties": {
          "attempt_id": {
            "type": "integer",
            "title": "Attempt Id"
          },
          "attempt_uuid": {
            "type": "string",
            "title": "Attempt Uuid"
          },
          "score": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Score",
            "description": "Normalized score"
          },
          "is_correct": {
            "type": "boolean",
            "title": "Is Correct"
          },
          "feedback": {
            "type": "string",
            "title": "Feedback",
            "description": "LLM-generated feedback"
          },
          "covered_points": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Covered Points",
            "description": "Key points addressed"
          },
          "missing_points": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Missing Points",
            "description": "Key points missed"
          },
          "misconceptions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Misconceptions",
            "description": "Identified misconceptions"
          },
          "tests_passed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tests Passed"
          },
          "tests_total": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tests Total"
          },
          "test_results": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/CodeExecutionResult"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Results"
          },
          "execution_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Execution Error"
          },
          "exercise_with_solution": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ExerciseWithSolution"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "attempt_id",
          "attempt_uuid",
          "score",
          "is_correct",
          "feedback"
        ],
        "title": "AttemptEvaluationResponse",
        "description": "Evaluation result for an exercise attempt.\n\nContains LLM-generated feedback analyzing the response against expected key points.\nIdentifies covered points, missing concepts, and any misconceptions detected.\nFor code exercises, includes detailed test results from sandbox execution."
      },
      "AttemptSubmitRequest": {
        "properties": {
          "exercise_id": {
            "type": "integer",
            "title": "Exercise Id",
            "description": "Exercise ID"
          },
          "response": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response",
            "description": "Text response"
          },
          "response_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response Code",
            "description": "Code response"
          },
          "confidence_before": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Before",
            "description": "Self-reported confidence before (1-5)"
          },
          "time_spent_seconds": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Time Spent Seconds"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "exercise_id"
        ],
        "title": "AttemptSubmitRequest",
        "description": "Request to submit an exercise attempt.\n\nSupports both text responses (for conceptual exercises) and code responses\n(for programming exercises). The confidence_before field captures the learner's\nself-assessment prior to receiving feedback, enabling calibration tracking.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "Body_capture_book_api_capture_book_post": {
        "properties": {
          "files": {
            "items": {
              "type": "string",
              "format": "binary"
            },
            "type": "array",
            "title": "Files",
            "description": "Multiple book page images"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Book title"
          },
          "authors": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Authors",
            "description": "Comma-separated author names"
          },
          "isbn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Isbn",
            "description": "ISBN if known"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Optional notes about this book"
          },
          "max_concurrency": {
            "type": "integer",
            "title": "Max Concurrency",
            "description": "Max parallel OCR calls (5-20 recommended)",
            "default": 5
          }
        },
        "type": "object",
        "required": [
          "files"
        ],
        "title": "Body_capture_book_api_capture_book_post"
      },
      "Body_capture_pdf_api_capture_pdf_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "PDF file"
          },
          "content_type_hint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type Hint",
            "description": "Hint: paper, article, book, or general"
          },
          "detect_handwriting": {
            "type": "boolean",
            "title": "Detect Handwriting",
            "description": "Detect handwritten annotations",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_capture_pdf_api_capture_pdf_post"
      },
      "Body_capture_photo_api_capture_photo_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "Photo file"
          },
          "capture_type": {
            "type": "string",
            "title": "Capture Type",
            "description": "Type: book_page, whiteboard, document, or general",
            "default": "general"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Optional notes"
          },
          "book_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Book Title",
            "description": "Book title if known"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_capture_photo_api_capture_photo_post"
      },
      "Body_capture_text_api_capture_text_post": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Text content to capture"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "Optional title"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Comma-separated tags"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "Body_capture_text_api_capture_text_post"
      },
      "Body_capture_url_api_capture_url_post": {
        "properties": {
          "url": {
            "type": "string",
            "title": "Url",
            "description": "URL to capture"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Optional notes about this URL"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Comma-separated tags"
          }
        },
        "type": "object",
        "required": [
          "url"
        ],
        "title": "Body_capture_url_api_capture_url_post"
      },
      "Body_capture_voice_api_capture_voice_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "Audio file"
          },
          "expand": {
            "type": "boolean",
            "title": "Expand",
            "description": "Expand transcript into structured note",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_capture_voice_api_capture_voice_post"
      },
      "CardCreate": {
        "properties": {
          "card_type": {
            "type": "string",
            "title": "Card Type",
            "description": "Card type: concept, fact, application, cloze, code"
          },
          "front": {
            "type": "string",
            "title": "Front",
            "description": "Front side (question/prompt)"
          },
          "back": {
            "type": "string",
            "title": "Back",
            "description": "Back side (answer)"
          },
          "hints": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hints",
            "description": "Progressive hints"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Topic tags"
          },
          "content_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Id",
            "description": "Source content ID"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id",
            "description": "Related concept ID in Neo4j"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language",
            "description": "Programming language"
          },
          "starter_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Starter Code",
            "description": "Initial code template"
          },
          "solution_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Solution Code",
            "description": "Reference solution"
          },
          "test_cases": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Cases",
            "description": "Test cases for code cards"
          }
        },
        "type": "object",
        "required": [
          "card_type",
          "front",
          "back"
        ],
        "title": "CardCreate",
        "description": "Request to create a new spaced repetition card.\n\nExtends CardBase with optional source linking to content and Neo4j concepts.\nFor code cards, includes language, starter template, solution, and test cases\nthat enable automated evaluation in the code sandbox."
      },
      "CardEvaluateRequest": {
        "properties": {
          "card_id": {
            "type": "integer",
            "title": "Card Id",
            "description": "Card ID"
          },
          "user_answer": {
            "type": "string",
            "title": "User Answer",
            "description": "User's typed answer"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "card_id",
          "user_answer"
        ],
        "title": "CardEvaluateRequest",
        "description": "Request to evaluate a typed answer for a card.\n\nEnables \"active recall\" mode where users type their answer instead of just\nflipping the card. The LLM evaluates the answer semantically and returns\nan appropriate FSRS rating based on answer quality.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "CardEvaluateResponse": {
        "properties": {
          "card_id": {
            "type": "integer",
            "title": "Card Id"
          },
          "rating": {
            "type": "integer",
            "maximum": 4,
            "minimum": 1,
            "title": "Rating",
            "description": "FSRS rating (1-4)"
          },
          "is_correct": {
            "type": "boolean",
            "title": "Is Correct",
            "description": "Whether the answer is considered correct"
          },
          "feedback": {
            "type": "string",
            "title": "Feedback",
            "description": "Explanation for the learner"
          },
          "key_points_covered": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Key Points Covered"
          },
          "key_points_missed": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Key Points Missed"
          },
          "expected_answer": {
            "type": "string",
            "title": "Expected Answer",
            "description": "The correct answer for comparison"
          }
        },
        "type": "object",
        "required": [
          "card_id",
          "rating",
          "is_correct",
          "feedback",
          "expected_answer"
        ],
        "title": "CardEvaluateResponse",
        "description": "Response from card answer evaluation.\n\nContains the LLM's assessment of the user's typed answer including an FSRS\nrating (1-4), detailed feedback explaining what was correct/incorrect, and\nlists of key points covered and missed. The expected_answer is included for\ncomparison to help the learner understand the gap between their response\nand the ideal answer."
      },
      "CardGenerationRequest": {
        "properties": {
          "topic": {
            "type": "string",
            "title": "Topic",
            "description": "Topic path (e.g., 'ml/transformers')"
          },
          "count": {
            "type": "integer",
            "maximum": 50,
            "minimum": 1,
            "title": "Count",
            "description": "Number of cards to generate",
            "default": 10
          },
          "difficulty": {
            "type": "string",
            "title": "Difficulty",
            "description": "Difficulty: easy, medium, hard, mixed",
            "default": "mixed"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "topic"
        ],
        "title": "CardGenerationRequest",
        "description": "Request to generate cards for a topic.\n\nUses existing content and LLM to generate flashcards for the specified topic.\nThe difficulty parameter controls the mix of generated cards, while count\ndetermines how many cards to create in a single generation batch.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "CardGenerationResponse": {
        "properties": {
          "generated_count": {
            "type": "integer",
            "title": "Generated Count"
          },
          "total_cards": {
            "type": "integer",
            "title": "Total Cards"
          },
          "topic": {
            "type": "string",
            "title": "Topic"
          }
        },
        "type": "object",
        "required": [
          "generated_count",
          "total_cards",
          "topic"
        ],
        "title": "CardGenerationResponse",
        "description": "Response from card generation.\n\nReturns the number of cards generated along with the total card count for the\ntopic after generation. Useful for understanding how many new cards were added\nand the current size of the topic's card pool."
      },
      "CardResponse": {
        "properties": {
          "card_type": {
            "type": "string",
            "title": "Card Type",
            "description": "Card type: concept, fact, application, cloze, code"
          },
          "front": {
            "type": "string",
            "title": "Front",
            "description": "Front side (question/prompt)"
          },
          "back": {
            "type": "string",
            "title": "Back",
            "description": "Back side (answer)"
          },
          "hints": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hints",
            "description": "Progressive hints"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Topic tags"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "content_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Id"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "state": {
            "$ref": "#/components/schemas/CardState",
            "default": "new"
          },
          "stability": {
            "type": "number",
            "title": "Stability",
            "description": "Memory stability in days",
            "default": 0
          },
          "difficulty": {
            "type": "number",
            "minimum": 0,
            "title": "Difficulty",
            "description": "FSRS card difficulty (can exceed 1.0 after reviews)",
            "default": 0.3
          },
          "due_date": {
            "type": "string",
            "format": "date-time",
            "title": "Due Date"
          },
          "last_reviewed": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Reviewed"
          },
          "repetitions": {
            "type": "integer",
            "title": "Repetitions",
            "default": 0
          },
          "lapses": {
            "type": "integer",
            "title": "Lapses",
            "default": 0
          },
          "total_reviews": {
            "type": "integer",
            "title": "Total Reviews",
            "default": 0
          },
          "correct_reviews": {
            "type": "integer",
            "title": "Correct Reviews",
            "default": 0
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          }
        },
        "type": "object",
        "required": [
          "card_type",
          "front",
          "back",
          "id",
          "due_date"
        ],
        "title": "CardResponse",
        "description": "Card response with FSRS state.\n\nIncludes the full FSRS scheduling state: stability (memory strength in days),\ndifficulty (0-1 scale), and current learning state. The due_date indicates when\nthe card should next be reviewed based on the FSRS-4.5 optimal retention algorithm."
      },
      "CardReviewRequest": {
        "properties": {
          "card_id": {
            "type": "integer",
            "title": "Card Id",
            "description": "Card ID to review"
          },
          "rating": {
            "$ref": "#/components/schemas/Rating",
            "description": "Self-assessment rating (1-4)"
          },
          "response": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Response",
            "description": "Optional response text"
          },
          "time_spent_seconds": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Time Spent Seconds",
            "description": "Time spent on review"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "card_id",
          "rating"
        ],
        "title": "CardReviewRequest",
        "description": "Request to submit a card review rating.\n\nThe rating follows FSRS conventions: Again (1) for forgotten, Hard (2) for difficult\nrecall, Good (3) for successful recall with effort, Easy (4) for effortless recall.\nTime spent is tracked for analytics and can inform future difficulty adjustments.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "CardReviewResponse": {
        "properties": {
          "card_id": {
            "type": "integer",
            "title": "Card Id"
          },
          "new_state": {
            "$ref": "#/components/schemas/CardState"
          },
          "new_stability": {
            "type": "number",
            "title": "New Stability"
          },
          "new_difficulty": {
            "type": "number",
            "title": "New Difficulty"
          },
          "next_due_date": {
            "type": "string",
            "format": "date-time",
            "title": "Next Due Date"
          },
          "scheduled_days": {
            "type": "integer",
            "title": "Scheduled Days",
            "description": "Days until next review"
          },
          "was_correct": {
            "type": "boolean",
            "title": "Was Correct",
            "description": "Whether rating indicates success"
          }
        },
        "type": "object",
        "required": [
          "card_id",
          "new_state",
          "new_stability",
          "new_difficulty",
          "next_due_date",
          "scheduled_days",
          "was_correct"
        ],
        "title": "CardReviewResponse",
        "description": "Response after submitting a card review.\n\nContains the updated FSRS state after processing the review. The scheduled_days\nfield shows when the card will next be due, which can range from minutes (for\nAgain ratings) to months (for well-learned Easy cards with high stability)."
      },
      "CardState": {
        "type": "string",
        "enum": [
          "new",
          "learning",
          "review",
          "relearning"
        ],
        "title": "CardState",
        "description": "FSRS card states in the learning state machine.\n\nState transitions:\n- NEW  LEARNING (first review)\n- LEARNING  REVIEW (graduated) or LEARNING (still learning)\n- REVIEW  REVIEW (success) or RELEARNING (lapse)\n- RELEARNING  REVIEW (recovered) or RELEARNING (still struggling)"
      },
      "CardStats": {
        "properties": {
          "total_cards": {
            "type": "integer",
            "title": "Total Cards"
          },
          "cards_by_state": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Cards By State",
            "description": "Count per CardState"
          },
          "avg_stability": {
            "type": "number",
            "title": "Avg Stability",
            "default": 0
          },
          "avg_difficulty": {
            "type": "number",
            "title": "Avg Difficulty",
            "default": 0
          },
          "due_today": {
            "type": "integer",
            "title": "Due Today",
            "default": 0
          },
          "overdue": {
            "type": "integer",
            "title": "Overdue",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "total_cards"
        ],
        "title": "CardStats",
        "description": "Statistics about cards in the system.\n\nProvides aggregate metrics for the card collection including state distribution,\naverage stability/difficulty, and review workload. Useful for understanding\noverall system health and planning study capacity."
      },
      "ChatRequest": {
        "properties": {
          "conversation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Id",
            "description": "Conversation ID (null to start new conversation)"
          },
          "message": {
            "type": "string",
            "maxLength": 10000,
            "minLength": 1,
            "title": "Message"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "message"
        ],
        "title": "ChatRequest",
        "description": "Request to send a message to the AI assistant.\n\nAttributes:\n    conversation_id: Existing conversation ID (null to start new conversation)\n    message: User message content\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "ChatResponse": {
        "properties": {
          "conversation_id": {
            "type": "string",
            "title": "Conversation Id"
          },
          "response": {
            "type": "string",
            "title": "Response"
          },
          "sources": {
            "items": {
              "$ref": "#/components/schemas/SourceReference"
            },
            "type": "array",
            "title": "Sources"
          }
        },
        "type": "object",
        "required": [
          "conversation_id",
          "response"
        ],
        "title": "ChatResponse",
        "description": "Response from the AI assistant.\n\nAttributes:\n    conversation_id: The conversation this message belongs to\n    response: Assistant's response text\n    sources: Optional list of referenced sources"
      },
      "CodeExecutionResult": {
        "properties": {
          "test_index": {
            "type": "integer",
            "title": "Test Index"
          },
          "passed": {
            "type": "boolean",
            "title": "Passed"
          },
          "input_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Input Value"
          },
          "expected": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected"
          },
          "actual": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Actual"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "test_index",
          "passed"
        ],
        "title": "CodeExecutionResult",
        "description": "Result of a single test case execution.\n\nCaptures the outcome of running learner code against a test case in the sandbox.\nIncludes input/expected/actual values for debugging failed tests, and any\nexecution errors (syntax errors, exceptions, timeouts) that occurred.\n\nNote: Named CodeExecutionResult (not TestResult) to avoid pytest collection warnings."
      },
      "Concept": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Concept name"
          },
          "definition": {
            "type": "string",
            "title": "Definition",
            "description": "Clear definition in 1-2 sentences"
          },
          "context": {
            "type": "string",
            "title": "Context",
            "description": "How it's used in this specific content",
            "default": ""
          },
          "importance": {
            "type": "string",
            "title": "Importance",
            "description": "CORE, SUPPORTING, or TANGENTIAL",
            "default": "SUPPORTING"
          },
          "why_it_matters": {
            "type": "string",
            "title": "Why It Matters",
            "description": "Why this concept is important to understand",
            "default": ""
          },
          "properties": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Properties",
            "description": "Key characteristics of this concept"
          },
          "examples": {
            "items": {
              "$ref": "#/components/schemas/ConceptExample"
            },
            "type": "array",
            "title": "Examples",
            "description": "Concrete examples illustrating the concept"
          },
          "misconceptions": {
            "items": {
              "$ref": "#/components/schemas/ConceptMisconception"
            },
            "type": "array",
            "title": "Misconceptions",
            "description": "Common misunderstandings"
          },
          "prerequisites": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Prerequisites",
            "description": "Concepts that should be understood first"
          },
          "related_concepts": {
            "items": {
              "$ref": "#/components/schemas/ConceptRelation"
            },
            "type": "array",
            "title": "Related Concepts",
            "description": "Related concepts with relationship type"
          },
          "embedding": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Embedding",
            "description": "Vector embedding for similarity search (computed post-extraction)"
          },
          "neo4j_node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Neo4J Node Id",
            "description": "ID of corresponding Neo4j node (set after storage)"
          }
        },
        "type": "object",
        "required": [
          "name",
          "definition"
        ],
        "title": "Concept",
        "description": "Extracted concept with rich context for knowledge building.\n\nConcepts are the atomic units of knowledge in the graph. They enable\nrich querying, connection discovery, and knowledge gap identification.\n\nAttributes:\n    id: Unique identifier (UUID v4)\n    name: Concept name (e.g., \"attention mechanism\", \"transformer\")\n    definition: Clear, concise definition in 1-2 sentences\n    context: How this concept is used in THIS specific content\n    importance: Role in the content (core, supporting, tangential)\n    why_it_matters: Explanation of why this concept is important\n    properties: Key characteristics or attributes of the concept\n    examples: Concrete examples illustrating the concept\n    misconceptions: Common misunderstandings about the concept\n    prerequisites: Concepts that should be understood first\n    related_concepts: Other concepts this one connects to with relationship type\n    embedding: Vector embedding for similarity search (computed post-extraction)"
      },
      "ConceptExample": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Example title",
            "default": ""
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Example explanation"
          }
        },
        "type": "object",
        "required": [
          "content"
        ],
        "title": "ConceptExample",
        "description": "An example illustrating a concept."
      },
      "ConceptMisconception": {
        "properties": {
          "wrong": {
            "type": "string",
            "title": "Wrong",
            "description": "The incorrect belief"
          },
          "correct": {
            "type": "string",
            "title": "Correct",
            "description": "The correct understanding"
          }
        },
        "type": "object",
        "required": [
          "wrong",
          "correct"
        ],
        "title": "ConceptMisconception",
        "description": "A common misconception about a concept."
      },
      "ConceptRelation": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Related concept name"
          },
          "relationship": {
            "type": "string",
            "title": "Relationship",
            "description": "How they're related",
            "default": "relates to"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "ConceptRelation",
        "description": "A relationship to another concept."
      },
      "Connection": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "target_id": {
            "type": "string",
            "title": "Target Id",
            "description": "ID of connected content/concept"
          },
          "target_title": {
            "type": "string",
            "title": "Target Title",
            "description": "Title for display"
          },
          "relationship_type": {
            "type": "string",
            "title": "Relationship Type",
            "description": "RELATES_TO, EXTENDS, CONTRADICTS, PREREQUISITE_FOR, APPLIES",
            "default": "RELATES_TO"
          },
          "strength": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Strength",
            "description": "Connection strength (0-1)",
            "default": 0.5
          },
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "Why these are connected",
            "default": ""
          },
          "verified_by_user": {
            "type": "boolean",
            "title": "Verified By User",
            "description": "Whether user has confirmed this connection",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "target_id",
          "target_title"
        ],
        "title": "Connection",
        "description": "Connection to existing knowledge.\n\nRepresents a semantic relationship between new content and existing\ncontent in the knowledge graph. Enables the \"web\" of connections.\n\nAttributes:\n    id: Unique identifier for this connection\n    target_id: ID of the connected content/concept\n    target_title: Title of the connected item (for display)\n    relationship_type: Type of relationship (RELATES_TO, EXTENDS, etc.)\n    strength: Connection strength from 0.0 to 1.0\n    explanation: Brief explanation of why these are connected\n    verified_by_user: Whether user has confirmed this connection"
      },
      "ConnectionDirection": {
        "type": "string",
        "enum": [
          "incoming",
          "outgoing",
          "both"
        ],
        "title": "ConnectionDirection",
        "description": "Direction filter for connection queries.\n\nUsed by the /connections/{node_id} endpoint to filter\nrelationships by direction relative to the queried node.\n\nValues:\n    INCOMING: Only relationships pointing to the node\n    OUTGOING: Only relationships pointing from the node\n    BOTH: All relationships (default)"
      },
      "ConnectionsResponse": {
        "properties": {
          "node_id": {
            "type": "string",
            "title": "Node Id"
          },
          "incoming": {
            "items": {
              "$ref": "#/components/schemas/NodeConnection"
            },
            "type": "array",
            "title": "Incoming"
          },
          "outgoing": {
            "items": {
              "$ref": "#/components/schemas/NodeConnection"
            },
            "type": "array",
            "title": "Outgoing"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "node_id",
          "incoming",
          "outgoing",
          "total"
        ],
        "title": "ConnectionsResponse",
        "description": "Response containing connections for a node.\n\nReturns both incoming and outgoing relationships,\nenabling bidirectional graph exploration.\n\nAttributes:\n    node_id: The queried node's ID\n    incoming: Connections pointing to this node\n    outgoing: Connections pointing from this node\n    total: Total connection count"
      },
      "ContentAnalysis": {
        "properties": {
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "Type: paper, article, book, code, idea, voice_memo"
          },
          "domain": {
            "type": "string",
            "title": "Domain",
            "description": "Primary domain: ml, systems, leadership, productivity, etc."
          },
          "complexity": {
            "type": "string",
            "title": "Complexity",
            "description": "Difficulty: foundational, intermediate, advanced"
          },
          "estimated_length": {
            "type": "string",
            "title": "Estimated Length",
            "description": "Length category: short, medium, long"
          },
          "has_code": {
            "type": "boolean",
            "title": "Has Code",
            "default": false
          },
          "has_math": {
            "type": "boolean",
            "title": "Has Math",
            "default": false
          },
          "has_diagrams": {
            "type": "boolean",
            "title": "Has Diagrams",
            "default": false
          },
          "key_topics": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Key Topics",
            "description": "Main topics covered (up to 10)"
          },
          "language": {
            "type": "string",
            "title": "Language",
            "description": "ISO language code",
            "default": "en"
          }
        },
        "type": "object",
        "required": [
          "content_type",
          "domain",
          "complexity",
          "estimated_length"
        ],
        "title": "ContentAnalysis",
        "description": "Result of initial content analysis.\n\nThis is the first processing stage output that determines how subsequent\nstages behave. Identifying content type, domain, complexity, and key topics\nallows the pipeline to use appropriate prompts and model configurations.\n\nAttributes:\n    content_type: Type of content (paper, article, book, code, idea, voice_memo)\n    domain: Primary domain (ml, systems, leadership, productivity, etc.)\n    complexity: Difficulty level (foundational, intermediate, advanced)\n    estimated_length: Content length category (short, medium, long)\n    has_code: Whether content contains code snippets\n    has_math: Whether content contains mathematical notation\n    has_diagrams: Whether content contains diagrams or figures\n    key_topics: Main topics covered (up to 10)\n    language: ISO language code (default: en)"
      },
      "ContentSourcePreference": {
        "type": "string",
        "enum": [
          "prefer_existing",
          "generate_new",
          "existing_only"
        ],
        "title": "ContentSourcePreference",
        "description": "How to source content (exercises or cards) for a session.\n\nControls whether to use existing content from the database,\ngenerate new content via LLM, or a combination."
      },
      "ConversationDetail": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/MessageInfo"
            },
            "type": "array",
            "title": "Messages"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "created_at",
          "messages"
        ],
        "title": "ConversationDetail",
        "description": "Full conversation with all messages.\n\nAttributes:\n    id: Conversation unique identifier\n    title: Conversation title\n    created_at: When the conversation started\n    messages: All messages in chronological order"
      },
      "ConversationListResponse": {
        "properties": {
          "conversations": {
            "items": {
              "$ref": "#/components/schemas/ConversationSummary"
            },
            "type": "array",
            "title": "Conversations"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "conversations",
          "total"
        ],
        "title": "ConversationListResponse",
        "description": "Paginated list of conversations.\n\nAttributes:\n    conversations: List of conversation summaries\n    total: Total number of conversations"
      },
      "ConversationSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "created_at",
          "updated_at",
          "message_count"
        ],
        "title": "ConversationSummary",
        "description": "Summary of a conversation for list views.\n\nAttributes:\n    id: Conversation unique identifier\n    title: Conversation title (auto-generated or user-set)\n    created_at: When the conversation started\n    updated_at: When the conversation was last updated\n    message_count: Number of messages in the conversation"
      },
      "ConversationUpdateRequest": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Title"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "title"
        ],
        "title": "ConversationUpdateRequest",
        "description": "Request to update conversation metadata.\n\nAttributes:\n    title: New title for the conversation\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "ConversationUpdateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "updated_at"
        ],
        "title": "ConversationUpdateResponse",
        "description": "Response after updating a conversation.\n\nAttributes:\n    id: Conversation unique identifier\n    title: Updated title\n    updated_at: When the update was made"
      },
      "DailyNoteRequest": {
        "properties": {
          "date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date"
          }
        },
        "type": "object",
        "title": "DailyNoteRequest"
      },
      "DailyStatsResponse": {
        "properties": {
          "streak_days": {
            "type": "integer",
            "title": "Streak Days",
            "description": "Current consecutive practice days",
            "default": 0
          },
          "streak_at_risk": {
            "type": "boolean",
            "title": "Streak At Risk",
            "description": "True if no practice today yet",
            "default": false
          },
          "due_cards_count": {
            "type": "integer",
            "title": "Due Cards Count",
            "description": "Cards due for review today",
            "default": 0
          },
          "total_cards": {
            "type": "integer",
            "title": "Total Cards",
            "description": "Total cards in the system",
            "default": 0
          },
          "cards_reviewed_today": {
            "type": "integer",
            "title": "Cards Reviewed Today",
            "description": "Cards reviewed so far today",
            "default": 0
          },
          "overall_mastery": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Overall Mastery",
            "description": "Overall mastery score",
            "default": 0
          },
          "practice_time_today_minutes": {
            "type": "integer",
            "title": "Practice Time Today Minutes",
            "description": "Practice time today in minutes",
            "default": 0
          },
          "last_practice_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Practice Date",
            "description": "Date of last practice"
          }
        },
        "type": "object",
        "title": "DailyStatsResponse",
        "description": "Daily statistics for the dashboard.\n\nProvides a quick overview of today's learning status including due cards,\nstreak information, and recent activity. Used by the frontend dashboard\nto show the user's current learning status at a glance."
      },
      "DeleteResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "deleted_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted Id"
          },
          "cleared_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cleared Count"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "DeleteResponse",
        "description": "Generic deletion response.\n\nAttributes:\n    success: Whether the deletion was successful\n    deleted_id: ID of the deleted resource (optional)\n    cleared_count: Number of items cleared (optional)"
      },
      "DueCardsResponse": {
        "properties": {
          "cards": {
            "items": {
              "$ref": "#/components/schemas/CardResponse"
            },
            "type": "array",
            "title": "Cards"
          },
          "total_due": {
            "type": "integer",
            "title": "Total Due"
          },
          "review_forecast": {
            "$ref": "#/components/schemas/ReviewForecast"
          }
        },
        "type": "object",
        "required": [
          "cards",
          "total_due",
          "review_forecast"
        ],
        "title": "DueCardsResponse",
        "description": "Response with due cards and forecast.\n\nReturns cards ordered by due date (oldest first) along with the total count\nof due cards and a forecast of upcoming reviews. The forecast helps users\nunderstand their review backlog and plan study sessions accordingly."
      },
      "ExerciseDifficulty": {
        "type": "string",
        "enum": [
          "foundational",
          "intermediate",
          "advanced"
        ],
        "title": "ExerciseDifficulty",
        "description": "Difficulty levels aligned with mastery progression.\n\nDifficulty selection is adaptive based on learner mastery:\n- mastery < 0.3: FOUNDATIONAL (worked examples, completions)\n- mastery 0.3-0.7: INTERMEDIATE (free recall, implementations)\n- mastery > 0.7: ADVANCED (applications, refactoring)"
      },
      "ExerciseGenerateRequest": {
        "properties": {
          "topic": {
            "type": "string",
            "title": "Topic",
            "description": "Topic to generate exercise for"
          },
          "exercise_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ExerciseType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Specific type, or auto-select based on mastery"
          },
          "difficulty": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ExerciseDifficulty"
              },
              {
                "type": "null"
              }
            ],
            "description": "Specific difficulty, or auto-select based on mastery"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language",
            "description": "Programming language for code exercises"
          },
          "source_content_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Source Content Ids",
            "description": "Optional content IDs to base exercise on"
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "topic"
        ],
        "title": "ExerciseGenerateRequest",
        "description": "Request to generate an exercise.\n\nThe LLM exercise generator uses the topic and optional source content to create\na contextually relevant exercise. If type/difficulty are not specified, they are\nautomatically selected based on the learner's current mastery level for the topic.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "ExerciseResponse": {
        "properties": {
          "exercise_type": {
            "$ref": "#/components/schemas/ExerciseType"
          },
          "topic": {
            "type": "string",
            "title": "Topic",
            "description": "Topic path (e.g., ml/transformers)"
          },
          "difficulty": {
            "$ref": "#/components/schemas/ExerciseDifficulty",
            "default": "intermediate"
          },
          "prompt": {
            "type": "string",
            "title": "Prompt",
            "description": "Main exercise prompt"
          },
          "hints": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hints",
            "description": "Progressive hints"
          },
          "expected_key_points": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Expected Key Points",
            "description": "Key points for a good answer"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "exercise_uuid": {
            "type": "string",
            "title": "Exercise Uuid"
          },
          "worked_example": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Worked Example"
          },
          "follow_up_problem": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Follow Up Problem"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "starter_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Starter Code"
          },
          "buggy_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buggy Code"
          },
          "estimated_time_minutes": {
            "type": "integer",
            "title": "Estimated Time Minutes",
            "default": 10
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          }
        },
        "type": "object",
        "required": [
          "exercise_type",
          "topic",
          "prompt",
          "id",
          "exercise_uuid"
        ],
        "title": "ExerciseResponse",
        "description": "Exercise response (hides solution until attempted).\n\nReturns the exercise prompt and any scaffolding (hints, starter code, buggy code)\nbut withholds the solution until after the learner submits an attempt. This\nprevents premature exposure to answers and encourages genuine retrieval practice."
      },
      "ExerciseType": {
        "type": "string",
        "enum": [
          "free_recall",
          "self_explain",
          "worked_example",
          "application",
          "compare_contrast",
          "teach_back",
          "code_implement",
          "code_complete",
          "code_debug",
          "code_refactor",
          "code_explain"
        ],
        "title": "ExerciseType",
        "description": "Types of exercises for active learning.\n\nText-based exercises:\n- FREE_RECALL: Explain concept from memory\n- SELF_EXPLAIN: Explain why/how something works\n- WORKED_EXAMPLE: Step-by-step solution followed by similar problem\n- APPLICATION: Apply concept to novel situation\n- COMPARE_CONTRAST: Compare two concepts or approaches\n- TEACH_BACK: Explain as if teaching someone (Feynman technique)\n\nCode-based exercises:\n- CODE_IMPLEMENT: Write code from scratch\n- CODE_COMPLETE: Fill in blanks in code\n- CODE_DEBUG: Find and fix bugs\n- CODE_REFACTOR: Improve existing code\n- CODE_EXPLAIN: Explain what code does"
      },
      "ExerciseWithSolution": {
        "properties": {
          "exercise_type": {
            "$ref": "#/components/schemas/ExerciseType"
          },
          "topic": {
            "type": "string",
            "title": "Topic",
            "description": "Topic path (e.g., ml/transformers)"
          },
          "difficulty": {
            "$ref": "#/components/schemas/ExerciseDifficulty",
            "default": "intermediate"
          },
          "prompt": {
            "type": "string",
            "title": "Prompt",
            "description": "Main exercise prompt"
          },
          "hints": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hints",
            "description": "Progressive hints"
          },
          "expected_key_points": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Expected Key Points",
            "description": "Key points for a good answer"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "exercise_uuid": {
            "type": "string",
            "title": "Exercise Uuid"
          },
          "worked_example": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Worked Example"
          },
          "follow_up_problem": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Follow Up Problem"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "starter_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Starter Code"
          },
          "buggy_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buggy Code"
          },
          "estimated_time_minutes": {
            "type": "integer",
            "title": "Estimated Time Minutes",
            "default": 10
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "solution_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Solution Code"
          },
          "test_cases": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Cases"
          }
        },
        "type": "object",
        "required": [
          "exercise_type",
          "topic",
          "prompt",
          "id",
          "exercise_uuid"
        ],
        "title": "ExerciseWithSolution",
        "description": "Exercise with solution revealed (after attempt).\n\nExtends ExerciseResponse to include the reference solution and test cases.\nOnly returned after the learner submits an attempt, enabling comparison\nbetween their response and the expected answer for self-assessment."
      },
      "ExplanationResponse": {
        "properties": {
          "concept": {
            "type": "string",
            "title": "Concept"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation"
          },
          "examples": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Examples"
          },
          "related_concepts": {
            "items": {
              "$ref": "#/components/schemas/RelatedConcept"
            },
            "type": "array",
            "title": "Related Concepts"
          }
        },
        "type": "object",
        "required": [
          "concept",
          "explanation"
        ],
        "title": "ExplanationResponse",
        "description": "AI-generated explanation of a concept.\n\nAttributes:\n    concept: Concept name\n    explanation: Detailed explanation text\n    examples: Optional list of examples\n    related_concepts: Optional list of related concepts"
      },
      "ExplanationStyle": {
        "type": "string",
        "enum": [
          "simple",
          "detailed",
          "eli5"
        ],
        "title": "ExplanationStyle",
        "description": "Style for AI-generated concept explanations.\n\nControls the verbosity and complexity of explanations returned\nby the assistant's explain endpoint.\n\nUsage:\n    from app.enums import ExplanationStyle\n\n    style = ExplanationStyle.ELI5"
      },
      "ExtractionResult": {
        "properties": {
          "concepts": {
            "items": {
              "$ref": "#/components/schemas/Concept"
            },
            "type": "array",
            "title": "Concepts"
          },
          "key_findings": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Key Findings"
          },
          "methodologies": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Methodologies"
          },
          "tools_mentioned": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tools Mentioned"
          },
          "people_mentioned": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "People Mentioned"
          }
        },
        "type": "object",
        "title": "ExtractionResult",
        "description": "Result of concept extraction stage.\n\nContains all structured information extracted from content including\nconcepts, key findings, methodologies, tools, and people mentioned.\n\nAttributes:\n    concepts: List of extracted concepts with definitions\n    key_findings: Main insights, conclusions, or claims\n    methodologies: Approaches, techniques, algorithms described\n    tools_mentioned: Software, frameworks, libraries mentioned\n    people_mentioned: Authors, researchers, thought leaders referenced"
      },
      "FollowupTask": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "task": {
            "type": "string",
            "title": "Task",
            "description": "Specific, actionable task description"
          },
          "task_type": {
            "type": "string",
            "title": "Task Type",
            "description": "research, practice, connect, apply, review",
            "default": "research"
          },
          "priority": {
            "type": "string",
            "title": "Priority",
            "description": "high, medium, low",
            "default": "medium"
          },
          "estimated_time": {
            "type": "string",
            "title": "Estimated Time",
            "description": "15min, 30min, 1hr, 2hr+",
            "default": "30min"
          },
          "completed": {
            "type": "boolean",
            "title": "Completed",
            "description": "Whether task is done",
            "default": false
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "When the task was completed"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the task was created"
          }
        },
        "type": "object",
        "required": [
          "task"
        ],
        "title": "FollowupTask",
        "description": "Generated follow-up task.\n\nFollow-up tasks transform passive reading into active learning. They help\nusers engage more deeply with content by providing specific, actionable\nnext steps.\n\nAttributes:\n    id: Unique identifier\n    task: Specific, actionable task description\n    task_type: Category (research, practice, connect, apply, review)\n    priority: Importance level (high, medium, low)\n    estimated_time: Time estimate (15min, 30min, 1hr, 2hr+)\n    completed: Whether the task has been completed\n    completed_at: When the task was completed\n    created_at: When the task was created"
      },
      "GitHubSyncRequest": {
        "properties": {
          "limit": {
            "type": "integer",
            "title": "Limit",
            "default": 50
          }
        },
        "type": "object",
        "title": "GitHubSyncRequest",
        "description": "Request body for GitHub sync."
      },
      "GraphEdge": {
        "properties": {
          "source": {
            "type": "string",
            "title": "Source"
          },
          "target": {
            "type": "string",
            "title": "Target"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "strength": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Strength",
            "default": 1
          },
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          }
        },
        "type": "object",
        "required": [
          "source",
          "target",
          "type"
        ],
        "title": "GraphEdge",
        "description": "Lightweight edge for graph visualization.\n\nDesigned for bulk transfer in graph visualization responses where\nhundreds of edges may be returned. Contains only IDs and visual\nproperties - no display metadata to minimize payload size.\n\nFor detailed connection information with titles and context,\nsee NodeConnection which is used by the /connections endpoint.\n\nAttributes:\n    source: Source node ID\n    target: Target node ID\n    type: Relationship type (REFERENCES, RELATES_TO, etc.)\n    strength: Edge weight from 0.0 to 1.0 for visual thickness\n    label: Optional display label for the edge\n\nSee Also:\n    NodeConnection: Rich connection model with display metadata\n    GraphResponse: Uses GraphEdge for visualization data"
      },
      "GraphNode": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "label": {
            "type": "string",
            "title": "Label"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type"
          },
          "size": {
            "type": "integer",
            "title": "Size",
            "description": "Node size weight based on connections",
            "default": 1
          },
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color",
            "description": "Optional hex color code"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Additional properties"
          }
        },
        "type": "object",
        "required": [
          "id",
          "label",
          "type"
        ],
        "title": "GraphNode",
        "description": "Node in the knowledge graph visualization.\n\nRepresents a single entity (Content, Concept, or Note) in the graph\nwith properties needed for D3.js force-directed rendering.\n\nAttributes:\n    id: Unique node identifier (UUID or Neo4j ID)\n    label: Display title for the node\n    type: Node type - \"Content\", \"Concept\", or \"Note\"\n    content_type: For Content nodes, the specific type (paper, article, etc.)\n    size: Visual weight based on connection count (for node sizing)\n    color: Optional hex color code for custom styling\n    metadata: Additional properties (tags, etc.)"
      },
      "GraphResponse": {
        "properties": {
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/GraphNode"
            },
            "type": "array",
            "title": "Nodes"
          },
          "edges": {
            "items": {
              "$ref": "#/components/schemas/GraphEdge"
            },
            "type": "array",
            "title": "Edges"
          },
          "center_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Center Id"
          },
          "total_nodes": {
            "type": "integer",
            "title": "Total Nodes"
          },
          "total_edges": {
            "type": "integer",
            "title": "Total Edges"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges",
          "total_nodes",
          "total_edges"
        ],
        "title": "GraphResponse",
        "description": "Response containing graph data for visualization.\n\nReturns a subgraph suitable for rendering with D3.js or similar\nvisualization libraries. Includes metadata about the full graph size.\n\nAttributes:\n    nodes: List of nodes in the subgraph\n    edges: List of edges connecting the nodes\n    center_id: ID of the center node (if centered query)\n    total_nodes: Total nodes in the full graph (before limiting)\n    total_edges: Total edges in the returned subgraph"
      },
      "GraphStats": {
        "properties": {
          "total_content": {
            "type": "integer",
            "title": "Total Content"
          },
          "total_concepts": {
            "type": "integer",
            "title": "Total Concepts"
          },
          "total_notes": {
            "type": "integer",
            "title": "Total Notes"
          },
          "total_relationships": {
            "type": "integer",
            "title": "Total Relationships"
          },
          "content_by_type": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Content By Type"
          }
        },
        "type": "object",
        "required": [
          "total_content",
          "total_concepts",
          "total_notes",
          "total_relationships"
        ],
        "title": "GraphStats",
        "description": "Summary statistics for the knowledge graph.\n\nProvides aggregate metrics about the graph contents\nfor dashboard displays and health monitoring.\n\nAttributes:\n    total_content: Count of Content nodes\n    total_concepts: Count of Concept nodes\n    total_notes: Count of Note nodes\n    total_relationships: Count of all relationships\n    content_by_type: Breakdown of content by type (paper, article, etc.)"
      },
      "GroupBy": {
        "type": "string",
        "enum": [
          "day",
          "week",
          "month"
        ],
        "title": "GroupBy",
        "description": "Grouping strategy for time-series analytics data.\n\nDetermines how time investment and other metrics are bucketed\nfor visualization and trend analysis."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "InboxItemRequest": {
        "properties": {
          "item": {
            "type": "string",
            "title": "Item"
          },
          "date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date"
          }
        },
        "type": "object",
        "required": [
          "item"
        ],
        "title": "InboxItemRequest"
      },
      "KnowledgeSearchResponse": {
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/KnowledgeSearchResult"
            },
            "type": "array",
            "title": "Results"
          }
        },
        "type": "object",
        "required": [
          "results"
        ],
        "title": "KnowledgeSearchResponse",
        "description": "Response containing search results.\n\nAttributes:\n    results: List of matching results"
      },
      "KnowledgeSearchResult": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "snippet": {
            "type": "string",
            "title": "Snippet"
          },
          "score": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Score"
          },
          "type": {
            "type": "string",
            "title": "Type"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "snippet",
          "score",
          "type"
        ],
        "title": "KnowledgeSearchResult",
        "description": "A single search result from the knowledge base.\n\nAttributes:\n    id: Content or concept ID\n    title: Display title\n    snippet: Relevant text snippet\n    score: Relevance score (0-1)\n    type: Type of content (e.g., \"paper\", \"note\", \"concept\")"
      },
      "LearningCurveDataPoint": {
        "properties": {
          "date": {
            "type": "string",
            "format": "date-time",
            "title": "Date"
          },
          "mastery_score": {
            "type": "number",
            "title": "Mastery Score"
          },
          "retention_estimate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retention Estimate"
          },
          "cards_reviewed": {
            "type": "integer",
            "title": "Cards Reviewed",
            "description": "Number of cards reviewed on this day",
            "default": 0
          },
          "exercises_attempted": {
            "type": "integer",
            "title": "Exercises Attempted",
            "description": "Number of exercise attempts on this day",
            "default": 0
          },
          "exercise_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exercise Score",
            "description": "Average exercise score for this day (0-100)"
          },
          "time_minutes": {
            "type": "integer",
            "title": "Time Minutes",
            "description": "Total practice time in minutes",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "date",
          "mastery_score"
        ],
        "title": "LearningCurveDataPoint",
        "description": "Single data point for learning curve.\n\nRepresents a daily snapshot of mastery metrics for time-series visualization.\nThe retention_estimate shows predicted recall probability, while cards_reviewed\nindicates study activity level for that day.\n\nNow includes exercise activity for comprehensive progress tracking."
      },
      "LearningCurveResponse": {
        "properties": {
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic",
            "description": "Topic or None for overall"
          },
          "data_points": {
            "items": {
              "$ref": "#/components/schemas/LearningCurveDataPoint"
            },
            "type": "array",
            "title": "Data Points"
          },
          "trend": {
            "$ref": "#/components/schemas/MasteryTrend"
          },
          "projected_mastery_30d": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Projected Mastery 30D"
          }
        },
        "type": "object",
        "required": [
          "data_points",
          "trend"
        ],
        "title": "LearningCurveResponse",
        "description": "Learning curve data for visualization.\n\nContains historical mastery data points for charting progress over time.\nThe trend indicator and 30-day projection help learners understand their\ntrajectory and estimate when they'll reach mastery milestones."
      },
      "LogTimeRequest": {
        "properties": {
          "activity_type": {
            "type": "string",
            "title": "Activity Type",
            "description": "Type: review, practice, reading, exercise"
          },
          "started_at": {
            "type": "string",
            "format": "date-time",
            "title": "Started At"
          },
          "ended_at": {
            "type": "string",
            "format": "date-time",
            "title": "Ended At"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          },
          "content_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Id"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "items_completed": {
            "type": "integer",
            "minimum": 0,
            "title": "Items Completed",
            "default": 0
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "activity_type",
          "started_at",
          "ended_at"
        ],
        "title": "LogTimeRequest",
        "description": "Request to log learning time.\n\nCaptures time spent on learning activities for analytics. Supports various\nactivity types (review, practice, reading, exercise) and can be linked to\nspecific content, topics, or practice sessions for detailed tracking.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "LogTimeResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "duration_seconds": {
            "type": "integer",
            "title": "Duration Seconds"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "id",
          "duration_seconds",
          "message"
        ],
        "title": "LogTimeResponse",
        "description": "Response after logging time.\n\nConfirms the time log was recorded and returns the calculated duration.\nThe human-readable message provides quick feedback to the user about\nhow much time was logged."
      },
      "MasteryOverview": {
        "properties": {
          "overall_mastery": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Overall Mastery"
          },
          "topics": {
            "items": {
              "$ref": "#/components/schemas/MasteryState"
            },
            "type": "array",
            "title": "Topics"
          },
          "spaced_rep_cards_total": {
            "type": "integer",
            "title": "Spaced Rep Cards Total",
            "description": "Total spaced repetition cards",
            "default": 0
          },
          "spaced_rep_cards_mastered": {
            "type": "integer",
            "title": "Spaced Rep Cards Mastered",
            "description": "Cards with stability >= 21 days",
            "default": 0
          },
          "spaced_rep_cards_learning": {
            "type": "integer",
            "title": "Spaced Rep Cards Learning",
            "description": "Cards in learning/relearning/review state",
            "default": 0
          },
          "spaced_rep_cards_new": {
            "type": "integer",
            "title": "Spaced Rep Cards New",
            "description": "Cards never reviewed",
            "default": 0
          },
          "spaced_rep_reviews_total": {
            "type": "integer",
            "title": "Spaced Rep Reviews Total",
            "description": "Total card reviews completed",
            "default": 0
          },
          "exercises_total": {
            "type": "integer",
            "title": "Exercises Total",
            "description": "Total exercises available",
            "default": 0
          },
          "exercises_completed": {
            "type": "integer",
            "title": "Exercises Completed",
            "description": "Exercises with at least one attempt",
            "default": 0
          },
          "exercises_mastered": {
            "type": "integer",
            "title": "Exercises Mastered",
            "description": "Exercises with avg score >= 80%",
            "default": 0
          },
          "exercises_attempts_total": {
            "type": "integer",
            "title": "Exercises Attempts Total",
            "description": "Total exercise attempts",
            "default": 0
          },
          "exercises_avg_score": {
            "type": "number",
            "title": "Exercises Avg Score",
            "description": "Average score across all attempts",
            "default": 0
          },
          "streak_days": {
            "type": "integer",
            "title": "Streak Days",
            "description": "Consecutive practice days",
            "default": 0
          },
          "total_practice_time_hours": {
            "type": "number",
            "title": "Total Practice Time Hours",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "overall_mastery",
          "topics"
        ],
        "title": "MasteryOverview",
        "description": "Overall mastery statistics.\n\nProvides a dashboard view of learning progress across all topics. Card counts\nshow distribution across learning states (new, learning, mastered). The streak\ncounter motivates consistent daily practice through gamification.\n\nIncludes separate stats for spaced repetition cards and exercises to give\nusers clear visibility into both learning modalities."
      },
      "MasteryQuestion": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "question": {
            "type": "string",
            "title": "Question",
            "description": "Clear, specific question"
          },
          "question_type": {
            "type": "string",
            "title": "Question Type",
            "description": "conceptual, application, analysis, synthesis",
            "default": "conceptual"
          },
          "difficulty": {
            "type": "string",
            "title": "Difficulty",
            "description": "foundational, intermediate, advanced",
            "default": "intermediate"
          },
          "hints": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Hints",
            "description": "Progressive hints"
          },
          "key_points": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Key Points",
            "description": "Key points for a good answer"
          },
          "next_review_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Review At",
            "description": "When to show again (spaced repetition)"
          },
          "review_count": {
            "type": "integer",
            "title": "Review Count",
            "description": "Number of times reviewed",
            "default": 0
          },
          "ease_factor": {
            "type": "number",
            "title": "Ease Factor",
            "description": "SM-2 ease factor for spaced repetition",
            "default": 2.5
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "When the question was created"
          }
        },
        "type": "object",
        "required": [
          "question"
        ],
        "title": "MasteryQuestion",
        "description": "Generated mastery question.\n\nMastery questions enable active recall and self-testing. If a user can\nanswer these questions from memory, they truly understand the material.\n\nAttributes:\n    id: Unique identifier\n    question: Clear, specific question text\n    question_type: Category (conceptual, application, analysis, synthesis)\n    difficulty: Level (foundational, intermediate, advanced)\n    hints: Progressive hints for struggling users\n    key_points: Key points a good answer should include\n    next_review_at: When to show again (spaced repetition)\n    review_count: Number of times reviewed\n    ease_factor: SM-2 ease factor for spaced repetition\n    created_at: When the question was created"
      },
      "MasteryState": {
        "properties": {
          "topic_path": {
            "type": "string",
            "title": "Topic Path"
          },
          "mastery_score": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Mastery Score"
          },
          "confidence_avg": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Avg"
          },
          "practice_count": {
            "type": "integer",
            "title": "Practice Count",
            "default": 0
          },
          "success_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Success Rate"
          },
          "trend": {
            "$ref": "#/components/schemas/MasteryTrend",
            "default": "stable"
          },
          "last_practiced": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Practiced"
          },
          "retention_estimate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retention Estimate"
          },
          "days_since_review": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Days Since Review"
          }
        },
        "type": "object",
        "required": [
          "topic_path",
          "mastery_score"
        ],
        "title": "MasteryState",
        "description": "Mastery state for a topic.\n\nCombines card-based metrics (stability, success rate) with practice history\nto estimate topic mastery. The retention_estimate predicts current recall\nprobability based on time since last review and card stability."
      },
      "MasteryTrend": {
        "type": "string",
        "enum": [
          "improving",
          "stable",
          "declining"
        ],
        "title": "MasteryTrend",
        "description": "Trend direction for mastery tracking.\n\nCalculated by comparing current mastery to previous snapshot:\n- delta > 0.05: IMPROVING\n- delta < -0.05: DECLINING\n- else: STABLE"
      },
      "MessageInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "role": {
            "type": "string",
            "enum": [
              "user",
              "assistant"
            ],
            "title": "Role"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "role",
          "content",
          "timestamp"
        ],
        "title": "MessageInfo",
        "description": "A single message in a conversation.\n\nAttributes:\n    id: Message unique identifier\n    role: Message role (user or assistant)\n    content: Message content\n    timestamp: When the message was sent"
      },
      "NodeConnection": {
        "properties": {
          "source_id": {
            "type": "string",
            "title": "Source Id"
          },
          "target_id": {
            "type": "string",
            "title": "Target Id"
          },
          "target_title": {
            "type": "string",
            "title": "Target Title"
          },
          "target_type": {
            "type": "string",
            "title": "Target Type"
          },
          "relationship": {
            "type": "string",
            "title": "Relationship"
          },
          "strength": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Strength",
            "default": 1
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          }
        },
        "type": "object",
        "required": [
          "source_id",
          "target_id",
          "target_title",
          "target_type",
          "relationship"
        ],
        "title": "NodeConnection",
        "description": "Rich connection model with display metadata.\n\nUsed by the /connections/{node_id} endpoint to return detailed\ninformation about a node's relationships. Includes display-ready\nmetadata (titles, types, context) so the UI can render connection\nlists without additional lookups.\n\nFor bulk graph visualization where payload size matters,\nsee GraphEdge which contains only IDs and visual properties.\n\nNote: Named NodeConnection to distinguish from app.models.processing.Connection\nwhich represents LLM-discovered connections during content processing.\n\nAttributes:\n    source_id: Source node ID\n    target_id: Target node ID\n    target_title: Title of the connected node (for display)\n    target_type: Type of the connected node (Content, Concept, Note)\n    relationship: Relationship type (REFERENCES, RELATES_TO, etc.)\n    strength: Connection strength from 0.0 to 1.0\n    context: Optional explanation of why they're connected\n\nSee Also:\n    GraphEdge: Lightweight edge for visualization (IDs only)\n    ConnectionsResponse: Uses NodeConnection for detailed queries"
      },
      "NodeDetails": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "label": {
            "type": "string",
            "title": "Label"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "connections": {
            "type": "integer",
            "title": "Connections",
            "default": 0
          },
          "file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Path"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "label",
          "type"
        ],
        "title": "NodeDetails",
        "description": "Detailed information about a single node.\n\nReturns comprehensive metadata for a node detail view,\nincluding content summary, tags, and connection count.\n\nAttributes:\n    id: Node identifier\n    label: Display title\n    type: Node type (Content, Concept, Note)\n    content_type: Specific content type if applicable\n    summary: Brief summary text\n    tags: List of associated tags\n    source_url: Original source URL if applicable\n    created_at: Creation timestamp (ISO 8601)\n    connections: Count of connected nodes\n    file_path: Obsidian vault file path if applicable\n    name: Alternative name field (for Concepts)"
      },
      "NoteContent": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "frontmatter": {
            "additionalProperties": true,
            "type": "object",
            "title": "Frontmatter",
            "default": {}
          },
          "modified": {
            "type": "string",
            "format": "date-time",
            "title": "Modified"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          }
        },
        "type": "object",
        "required": [
          "path",
          "name",
          "content",
          "modified",
          "size"
        ],
        "title": "NoteContent",
        "description": "Full note content with metadata."
      },
      "NoteInfo": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "folder": {
            "type": "string",
            "title": "Folder"
          },
          "modified": {
            "type": "string",
            "format": "date-time",
            "title": "Modified"
          },
          "size": {
            "type": "integer",
            "title": "Size"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "default": []
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type"
          }
        },
        "type": "object",
        "required": [
          "path",
          "name",
          "folder",
          "modified",
          "size"
        ],
        "title": "NoteInfo",
        "description": "Summary info for a note in the vault."
      },
      "NotesListResponse": {
        "properties": {
          "notes": {
            "items": {
              "$ref": "#/components/schemas/NoteInfo"
            },
            "type": "array",
            "title": "Notes"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          }
        },
        "type": "object",
        "required": [
          "notes",
          "total",
          "page",
          "page_size",
          "has_more"
        ],
        "title": "NotesListResponse",
        "description": "Paginated list of notes."
      },
      "PendingContentItem": {
        "properties": {
          "content_id": {
            "type": "string",
            "title": "Content Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "content_type": {
            "type": "string",
            "title": "Content Type"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "content_id",
          "title",
          "content_type",
          "status",
          "created_at"
        ],
        "title": "PendingContentItem",
        "description": "A content item pending processing."
      },
      "PendingContentResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/PendingContentItem"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "total",
          "items"
        ],
        "title": "PendingContentResponse",
        "description": "Response with list of pending content items."
      },
      "PracticeHistoryDay": {
        "properties": {
          "date": {
            "type": "string",
            "format": "date",
            "title": "Date"
          },
          "count": {
            "type": "integer",
            "title": "Count",
            "description": "Number of practice items completed",
            "default": 0
          },
          "minutes": {
            "type": "integer",
            "title": "Minutes",
            "description": "Total practice minutes",
            "default": 0
          },
          "level": {
            "type": "integer",
            "maximum": 4,
            "minimum": 0,
            "title": "Level",
            "description": "Activity level 0-4 for heatmap coloring",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "date"
        ],
        "title": "PracticeHistoryDay",
        "description": "Single day of practice history for activity heatmap.\n\nContains practice activity metrics for one day, used to render\nGitHub-style activity heatmaps on the dashboard."
      },
      "PracticeHistoryResponse": {
        "properties": {
          "days": {
            "items": {
              "$ref": "#/components/schemas/PracticeHistoryDay"
            },
            "type": "array",
            "title": "Days"
          },
          "total_practice_days": {
            "type": "integer",
            "title": "Total Practice Days",
            "description": "Days with at least one practice",
            "default": 0
          },
          "total_items": {
            "type": "integer",
            "title": "Total Items",
            "description": "Total items practiced",
            "default": 0
          },
          "max_daily_count": {
            "type": "integer",
            "title": "Max Daily Count",
            "description": "Maximum items in a single day",
            "default": 0
          }
        },
        "type": "object",
        "title": "PracticeHistoryResponse",
        "description": "Practice history for activity heatmap visualization.\n\nReturns daily practice activity over a configurable time range,\ntypically 26 or 52 weeks. Used to render a contribution-style\nheatmap showing practice consistency over time."
      },
      "ProcessingConfigRequest": {
        "properties": {
          "generate_summaries": {
            "type": "boolean",
            "title": "Generate Summaries",
            "default": true
          },
          "extract_concepts": {
            "type": "boolean",
            "title": "Extract Concepts",
            "default": true
          },
          "assign_tags": {
            "type": "boolean",
            "title": "Assign Tags",
            "default": true
          },
          "generate_cards": {
            "type": "boolean",
            "title": "Generate Cards",
            "default": true
          },
          "generate_exercises": {
            "type": "boolean",
            "title": "Generate Exercises",
            "default": true
          },
          "discover_connections": {
            "type": "boolean",
            "title": "Discover Connections",
            "default": true
          },
          "generate_followups": {
            "type": "boolean",
            "title": "Generate Followups",
            "default": true
          },
          "generate_questions": {
            "type": "boolean",
            "title": "Generate Questions",
            "default": true
          },
          "create_obsidian_note": {
            "type": "boolean",
            "title": "Create Obsidian Note",
            "default": true
          },
          "create_neo4j_nodes": {
            "type": "boolean",
            "title": "Create Neo4J Nodes",
            "default": true
          },
          "validate_output": {
            "type": "boolean",
            "title": "Validate Output",
            "default": true
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "ProcessingConfigRequest",
        "description": "Configuration options for processing request.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "ProcessingResultResponse": {
        "properties": {
          "content_id": {
            "type": "string",
            "title": "Content Id"
          },
          "analysis": {
            "$ref": "#/components/schemas/ContentAnalysis"
          },
          "summaries": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Summaries"
          },
          "extraction": {
            "$ref": "#/components/schemas/ExtractionResult"
          },
          "tags": {
            "$ref": "#/components/schemas/TagAssignment"
          },
          "connections": {
            "items": {
              "$ref": "#/components/schemas/Connection"
            },
            "type": "array",
            "title": "Connections"
          },
          "followups": {
            "items": {
              "$ref": "#/components/schemas/FollowupTask"
            },
            "type": "array",
            "title": "Followups"
          },
          "questions": {
            "items": {
              "$ref": "#/components/schemas/MasteryQuestion"
            },
            "type": "array",
            "title": "Questions"
          },
          "obsidian_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Obsidian Path"
          },
          "neo4j_node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Neo4J Node Id"
          },
          "processing_time_seconds": {
            "type": "number",
            "title": "Processing Time Seconds"
          },
          "estimated_cost_usd": {
            "type": "number",
            "title": "Estimated Cost Usd"
          }
        },
        "type": "object",
        "required": [
          "content_id",
          "analysis",
          "summaries",
          "extraction",
          "tags",
          "connections",
          "followups",
          "questions",
          "processing_time_seconds",
          "estimated_cost_usd"
        ],
        "title": "ProcessingResultResponse",
        "description": "Response with full processing result."
      },
      "ProcessingStage": {
        "type": "string",
        "enum": [
          "ANALYSIS",
          "SUMMARIZATION",
          "EXTRACTION",
          "TAGGING",
          "CONNECTIONS",
          "FOLLOWUPS",
          "QUESTIONS"
        ],
        "title": "ProcessingStage",
        "description": "Processing pipeline stages that can be selectively run."
      },
      "ProcessingStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "content_id": {
            "type": "string",
            "title": "Content Id"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "processing_time_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time Seconds"
          },
          "estimated_cost_usd": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Cost Usd"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          }
        },
        "type": "object",
        "required": [
          "status",
          "content_id"
        ],
        "title": "ProcessingStatusResponse",
        "description": "Response for processing status check."
      },
      "PromptSuggestion": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "topic_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic Id"
          }
        },
        "type": "object",
        "required": [
          "text",
          "category"
        ],
        "title": "PromptSuggestion",
        "description": "A suggested prompt for the user.\n\nAttributes:\n    text: Suggested prompt text\n    category: Category of the suggestion (e.g., \"review\", \"explore\", \"learn\")\n    topic_id: Optional related topic ID"
      },
      "QuizQuestion": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "question": {
            "type": "string",
            "title": "Question"
          },
          "options": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Options"
          },
          "type": {
            "type": "string",
            "enum": [
              "multiple_choice",
              "free_response"
            ],
            "title": "Type"
          }
        },
        "type": "object",
        "required": [
          "id",
          "question",
          "type"
        ],
        "title": "QuizQuestion",
        "description": "A single quiz question.\n\nAttributes:\n    id: Question unique identifier\n    question: Question text\n    options: Multiple choice options (if applicable)\n    type: Question type"
      },
      "QuizRequest": {
        "properties": {
          "topic_id": {
            "type": "string",
            "title": "Topic Id"
          },
          "question_count": {
            "type": "integer",
            "maximum": 20,
            "minimum": 1,
            "title": "Question Count",
            "default": 5
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "topic_id"
        ],
        "title": "QuizRequest",
        "description": "Request to generate a quiz.\n\nAttributes:\n    topic_id: Topic ID to generate quiz for\n    question_count: Number of questions to generate\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "QuizResponse": {
        "properties": {
          "quiz_id": {
            "type": "string",
            "title": "Quiz Id"
          },
          "topic": {
            "type": "string",
            "title": "Topic"
          },
          "questions": {
            "items": {
              "$ref": "#/components/schemas/QuizQuestion"
            },
            "type": "array",
            "title": "Questions"
          }
        },
        "type": "object",
        "required": [
          "quiz_id",
          "topic",
          "questions"
        ],
        "title": "QuizResponse",
        "description": "Generated quiz response.\n\nAttributes:\n    quiz_id: Unique identifier for this quiz\n    topic: Topic name\n    questions: List of quiz questions"
      },
      "RaindropSyncRequest": {
        "properties": {
          "since_days": {
            "type": "integer",
            "title": "Since Days",
            "default": 1
          },
          "collection_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection Id",
            "default": 0
          },
          "limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit"
          }
        },
        "type": "object",
        "title": "RaindropSyncRequest",
        "description": "Request body for Raindrop sync."
      },
      "Rating": {
        "type": "integer",
        "enum": [
          1,
          2,
          3,
          4
        ],
        "title": "Rating",
        "description": "FSRS review ratings.\n\nUser self-assessment after reviewing a card or completing an exercise.\nMaps to FSRS algorithm parameters for scheduling."
      },
      "RecommendationsResponse": {
        "properties": {
          "recommendations": {
            "items": {
              "$ref": "#/components/schemas/StudyRecommendation"
            },
            "type": "array",
            "title": "Recommendations"
          }
        },
        "type": "object",
        "required": [
          "recommendations"
        ],
        "title": "RecommendationsResponse",
        "description": "Response containing study recommendations.\n\nAttributes:\n    recommendations: List of recommended topics"
      },
      "RelatedConcept": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "title": "RelatedConcept",
        "description": "A concept related to the explained topic.\n\nAttributes:\n    id: Concept ID\n    name: Concept name"
      },
      "ReviewForecast": {
        "properties": {
          "overdue": {
            "type": "integer",
            "title": "Overdue",
            "default": 0
          },
          "today": {
            "type": "integer",
            "title": "Today",
            "default": 0
          },
          "tomorrow": {
            "type": "integer",
            "title": "Tomorrow",
            "default": 0
          },
          "this_week": {
            "type": "integer",
            "title": "This Week",
            "default": 0
          },
          "later": {
            "type": "integer",
            "title": "Later",
            "default": 0
          }
        },
        "type": "object",
        "title": "ReviewForecast",
        "description": "Forecast of upcoming reviews.\n\nProvides a breakdown of review workload to help users plan their study sessions.\nOverdue cards should be prioritized, while the weekly forecast helps set\nexpectations for sustained learning commitment."
      },
      "SearchRequest": {
        "properties": {
          "query": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Query"
          },
          "node_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Node Types",
            "default": [
              "Content",
              "Concept"
            ]
          },
          "limit": {
            "type": "integer",
            "maximum": 100,
            "minimum": 1,
            "title": "Limit",
            "default": 20
          },
          "min_score": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Min Score",
            "default": 0.5
          },
          "use_vector": {
            "type": "boolean",
            "title": "Use Vector",
            "description": "Use vector search when available",
            "default": true
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SearchRequest",
        "description": "Search query parameters.\n\nConfigures semantic search across the knowledge graph\nwith filtering and scoring options.\n\nAttributes:\n    query: Search query text (1-500 characters)\n    node_types: Types to search (default: Content, Concept)\n    limit: Maximum results to return (1-100, default: 20)\n    min_score: Minimum relevance score threshold (0-1, default: 0.5)\n    use_vector: Whether to use vector/embedding search when available\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "SearchResponse": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/SearchResult"
            },
            "type": "array",
            "title": "Results"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "search_time_ms": {
            "type": "number",
            "title": "Search Time Ms"
          }
        },
        "type": "object",
        "required": [
          "query",
          "results",
          "total",
          "search_time_ms"
        ],
        "title": "SearchResponse",
        "description": "Search results response.\n\nContains ranked search results with query echo\nand performance metrics.\n\nAttributes:\n    query: Original search query\n    results: List of matching results, ranked by score\n    total: Total number of results returned\n    search_time_ms: Search execution time in milliseconds"
      },
      "SearchResult": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "node_type": {
            "type": "string",
            "title": "Node Type"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "score": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Score"
          },
          "highlights": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Highlights"
          }
        },
        "type": "object",
        "required": [
          "id",
          "node_type",
          "title",
          "score"
        ],
        "title": "SearchResult",
        "description": "Single search result with relevance score.\n\nRepresents a matched node from semantic or keyword search\nwith scoring and optional highlight snippets.\n\nAttributes:\n    id: Node identifier\n    node_type: Type of matched node (Content, Concept, Note)\n    title: Display title\n    summary: Brief summary or excerpt\n    score: Relevance score from 0.0 to 1.0\n    highlights: Matching text snippets (for keyword search)"
      },
      "SessionContentMode": {
        "type": "string",
        "enum": [
          "both",
          "exercises_only",
          "cards_only"
        ],
        "title": "SessionContentMode",
        "description": "What types of content to include in a session.\n\nControls whether sessions contain exercises, spaced rep cards, or both.\nUsed to customize the learning experience based on user preference."
      },
      "SessionCreateRequest": {
        "properties": {
          "duration_minutes": {
            "type": "integer",
            "maximum": 120,
            "minimum": 5,
            "title": "Duration Minutes",
            "description": "Target duration",
            "default": 15
          },
          "topic_filter": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic Filter",
            "description": "Optional topic to focus on"
          },
          "session_type": {
            "$ref": "#/components/schemas/SessionType",
            "default": "practice"
          },
          "content_mode": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SessionContentMode"
              },
              {
                "type": "null"
              }
            ],
            "description": "What to include: 'both', 'exercises_only', 'cards_only'. Uses SESSION_DEFAULT_CONTENT_MODE if not specified."
          },
          "exercise_source": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ContentSourcePreference"
              },
              {
                "type": "null"
              }
            ],
            "description": "How to source exercises: 'prefer_existing', 'generate_new', 'existing_only'. Uses SESSION_DEFAULT_EXERCISE_SOURCE if not specified."
          },
          "card_source": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ContentSourcePreference"
              },
              {
                "type": "null"
              }
            ],
            "description": "How to source cards: 'prefer_existing', 'generate_new', 'existing_only'. Uses SESSION_DEFAULT_CARD_SOURCE if not specified."
          },
          "exercise_ratio": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1,
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Exercise Ratio",
            "description": "Ratio of time for exercises (0-1). Card ratio is 1 - this value. Uses settings defaults if not specified."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "SessionCreateRequest",
        "description": "Request to create a practice session with configurable content mix.\n\nSession composition is controlled by:\n- content_mode: What to include (exercises, cards, or both)\n- exercise_source: How to source exercises (existing, generate, or both)\n- card_source: How to source cards (due cards, generate new, or both)\n- Time allocation ratios for exercises vs cards\n\nDefaults are configured in settings but can be overridden per-request.\nThe topic_filter focuses the session on a specific area.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "SessionItem": {
        "properties": {
          "item_type": {
            "type": "string",
            "title": "Item Type",
            "description": "'card' or 'exercise'"
          },
          "card": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CardResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "exercise": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ExerciseResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "estimated_minutes": {
            "type": "number",
            "title": "Estimated Minutes",
            "default": 2
          }
        },
        "type": "object",
        "required": [
          "item_type"
        ],
        "title": "SessionItem",
        "description": "Single item in a practice session (card or exercise).\n\nWraps either a spaced repetition card or an exercise with timing metadata.\nThe session service interleaves these items for optimal learning, placing\nworked examples first (scaffolding) then shuffling remaining items (interleaving)."
      },
      "SessionResponse": {
        "properties": {
          "session_id": {
            "type": "integer",
            "title": "Session Id"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/SessionItem"
            },
            "type": "array",
            "title": "Items"
          },
          "estimated_duration_minutes": {
            "type": "number",
            "title": "Estimated Duration Minutes"
          },
          "topics_covered": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Topics Covered"
          },
          "session_type": {
            "$ref": "#/components/schemas/SessionType"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "items",
          "estimated_duration_minutes",
          "topics_covered",
          "session_type"
        ],
        "title": "SessionResponse",
        "description": "Practice session with items.\n\nContains the ordered list of items to complete during the session. Items are\ninterleaved for optimal learning with worked examples placed first. The\nestimated duration helps users plan their available study time."
      },
      "SessionSummary": {
        "properties": {
          "session_id": {
            "type": "integer",
            "title": "Session Id"
          },
          "duration_minutes": {
            "type": "number",
            "title": "Duration Minutes"
          },
          "cards_reviewed": {
            "type": "integer",
            "title": "Cards Reviewed"
          },
          "exercises_completed": {
            "type": "integer",
            "title": "Exercises Completed"
          },
          "correct_count": {
            "type": "integer",
            "title": "Correct Count"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "average_score": {
            "type": "number",
            "title": "Average Score"
          },
          "mastery_changes": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Mastery Changes",
            "description": "Topic -> mastery delta"
          }
        },
        "type": "object",
        "required": [
          "session_id",
          "duration_minutes",
          "cards_reviewed",
          "exercises_completed",
          "correct_count",
          "total_count",
          "average_score"
        ],
        "title": "SessionSummary",
        "description": "Summary after completing a session.\n\nProvides performance metrics and mastery changes from the session. The\nmastery_changes dict shows how each practiced topic's mastery score changed,\nhelping learners see the impact of their study session."
      },
      "SessionType": {
        "type": "string",
        "enum": [
          "review",
          "practice",
          "focused",
          "weak_spots"
        ],
        "title": "SessionType",
        "description": "Types of practice sessions."
      },
      "SourceReference": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "relevance": {
            "type": "number",
            "maximum": 1,
            "minimum": 0,
            "title": "Relevance"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "relevance"
        ],
        "title": "SourceReference",
        "description": "A source referenced by the assistant in its response.\n\nAttributes:\n    id: Content or concept ID\n    title: Display title\n    relevance: Relevance score (0-1)"
      },
      "StreakData": {
        "properties": {
          "current_streak": {
            "type": "integer",
            "title": "Current Streak"
          },
          "longest_streak": {
            "type": "integer",
            "title": "Longest Streak"
          },
          "streak_start": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Streak Start"
          },
          "last_practice": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Practice"
          },
          "is_active_today": {
            "type": "boolean",
            "title": "Is Active Today"
          },
          "days_this_week": {
            "type": "integer",
            "title": "Days This Week"
          },
          "days_this_month": {
            "type": "integer",
            "title": "Days This Month"
          },
          "milestones_reached": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Milestones Reached"
          },
          "next_milestone": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Milestone"
          }
        },
        "type": "object",
        "required": [
          "current_streak",
          "longest_streak",
          "is_active_today",
          "days_this_week",
          "days_this_month"
        ],
        "title": "StreakData",
        "description": "Practice streak information.\n\nTracks consecutive days of practice to motivate consistent learning habits.\nIncludes current and longest streaks, milestone tracking, and weekly/monthly\nactivity counts. Gamification element that encourages daily engagement."
      },
      "StudyRecommendation": {
        "properties": {
          "topic_id": {
            "type": "string",
            "title": "Topic Id"
          },
          "topic_name": {
            "type": "string",
            "title": "Topic Name"
          },
          "reason": {
            "type": "string",
            "title": "Reason"
          },
          "priority": {
            "type": "string",
            "enum": [
              "high",
              "medium",
              "low"
            ],
            "title": "Priority"
          }
        },
        "type": "object",
        "required": [
          "topic_id",
          "topic_name",
          "reason",
          "priority"
        ],
        "title": "StudyRecommendation",
        "description": "A personalized study recommendation.\n\nAttributes:\n    topic_id: ID of the recommended topic\n    topic_name: Display name of the topic\n    reason: Why this topic is recommended\n    priority: Recommendation priority"
      },
      "SuggestionsResponse": {
        "properties": {
          "suggestions": {
            "items": {
              "$ref": "#/components/schemas/PromptSuggestion"
            },
            "type": "array",
            "title": "Suggestions"
          }
        },
        "type": "object",
        "required": [
          "suggestions"
        ],
        "title": "SuggestionsResponse",
        "description": "Response containing prompt suggestions.\n\nAttributes:\n    suggestions: List of suggested prompts"
      },
      "TagAssignment": {
        "properties": {
          "domain_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Domain Tags"
          },
          "meta_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Meta Tags"
          },
          "suggested_new_tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Suggested New Tags"
          },
          "reasoning": {
            "type": "string",
            "title": "Reasoning",
            "default": ""
          }
        },
        "type": "object",
        "title": "TagAssignment",
        "description": "Result of tag classification stage.\n\nTags are assigned from a controlled vocabulary (tag taxonomy) to ensure\nconsistency across the knowledge base. Tags enable filtering, grouping,\nand discovering content by domain, status, or quality level.\n\nAttributes:\n    domain_tags: Tags from the domain taxonomy (e.g., ml/transformers/attention)\n    meta_tags: Status and quality tags (e.g., status/actionable, quality/deep-dive)\n    suggested_new_tags: Tags suggested if taxonomy has gaps\n    reasoning: Brief explanation of tag choices"
      },
      "TimeInvestmentPeriod": {
        "properties": {
          "period_start": {
            "type": "string",
            "format": "date-time",
            "title": "Period Start"
          },
          "period_end": {
            "type": "string",
            "format": "date-time",
            "title": "Period End"
          },
          "total_minutes": {
            "type": "number",
            "title": "Total Minutes"
          },
          "by_topic": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "By Topic"
          },
          "by_activity": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "By Activity"
          }
        },
        "type": "object",
        "required": [
          "period_start",
          "period_end",
          "total_minutes"
        ],
        "title": "TimeInvestmentPeriod",
        "description": "Time investment for a specific period.\n\nRepresents aggregated learning time within a time window, broken down by topic\nand activity type. Used for building time-series visualizations of study habits."
      },
      "TimeInvestmentResponse": {
        "properties": {
          "total_minutes": {
            "type": "number",
            "title": "Total Minutes"
          },
          "periods": {
            "items": {
              "$ref": "#/components/schemas/TimeInvestmentPeriod"
            },
            "type": "array",
            "title": "Periods"
          },
          "top_topics": {
            "items": {
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array",
              "maxItems": 2,
              "minItems": 2
            },
            "type": "array",
            "title": "Top Topics"
          },
          "daily_average": {
            "type": "number",
            "title": "Daily Average"
          },
          "trend": {
            "type": "string",
            "title": "Trend"
          }
        },
        "type": "object",
        "required": [
          "total_minutes",
          "periods",
          "daily_average",
          "trend"
        ],
        "title": "TimeInvestmentResponse",
        "description": "Time investment summary response.\n\nProvides comprehensive time tracking data including period breakdowns, top topics\nby time spent, daily average, and trend analysis. Powers the time investment\ndashboard for understanding study patterns and consistency."
      },
      "TimePeriod": {
        "type": "string",
        "enum": [
          "7d",
          "30d",
          "90d",
          "1y",
          "all"
        ],
        "title": "TimePeriod",
        "description": "Time periods for analytics queries.\n\nUsed by time investment and other analytics endpoints to specify\nthe date range for data aggregation."
      },
      "TopicHierarchyResponse": {
        "properties": {
          "roots": {
            "items": {
              "$ref": "#/components/schemas/TopicNode"
            },
            "type": "array",
            "title": "Roots"
          },
          "total_topics": {
            "type": "integer",
            "title": "Total Topics"
          },
          "max_depth": {
            "type": "integer",
            "title": "Max Depth"
          }
        },
        "type": "object",
        "required": [
          "roots",
          "total_topics",
          "max_depth"
        ],
        "title": "TopicHierarchyResponse",
        "description": "Full topic hierarchy response.\n\nReturns the complete topic tree for navigation\nwith aggregate statistics.\n\nAttributes:\n    roots: Root-level topic nodes\n    total_topics: Total number of topics in the tree\n    max_depth: Maximum depth of the tree"
      },
      "TopicNode": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "depth": {
            "type": "integer",
            "title": "Depth"
          },
          "content_count": {
            "type": "integer",
            "title": "Content Count"
          },
          "children": {
            "items": {
              "$ref": "#/components/schemas/TopicNode"
            },
            "type": "array",
            "title": "Children"
          },
          "mastery_score": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1,
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Mastery Score",
            "description": "User mastery score for this topic"
          }
        },
        "type": "object",
        "required": [
          "path",
          "name",
          "depth",
          "content_count"
        ],
        "title": "TopicNode",
        "description": "A node in the topic hierarchy tree.\n\nTopics are organized hierarchically using slash-separated paths\n(e.g., \"ml/deep-learning/transformers\"). This model supports\nrecursive tree structures for navigation UIs.\n\nAttributes:\n    path: Full topic path (e.g., \"ml/deep-learning/transformers\")\n    name: Leaf name (e.g., \"transformers\")\n    depth: Depth in tree (0 = root)\n    content_count: Number of content items with this topic\n    children: Child topic nodes\n    mastery_score: Optional mastery score if user has learning data"
      },
      "TriggerProcessingRequest": {
        "properties": {
          "content_id": {
            "type": "string",
            "title": "Content Id",
            "description": "UUID of content to process"
          },
          "config": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ProcessingConfigRequest"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "additionalProperties": false,
        "type": "object",
        "required": [
          "content_id"
        ],
        "title": "TriggerProcessingRequest",
        "description": "Request body for triggering processing.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422."
      },
      "TriggerProcessingResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "content_id": {
            "type": "string",
            "title": "Content Id"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "status",
          "content_id",
          "message"
        ],
        "title": "TriggerProcessingResponse",
        "description": "Response for processing trigger."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WeakSpot": {
        "properties": {
          "topic": {
            "type": "string",
            "title": "Topic"
          },
          "mastery_score": {
            "type": "number",
            "title": "Mastery Score"
          },
          "success_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Success Rate"
          },
          "trend": {
            "$ref": "#/components/schemas/MasteryTrend"
          },
          "recommendation": {
            "type": "string",
            "title": "Recommendation",
            "description": "Suggested action"
          },
          "suggested_exercise_types": {
            "items": {
              "$ref": "#/components/schemas/ExerciseType"
            },
            "type": "array",
            "title": "Suggested Exercise Types"
          }
        },
        "type": "object",
        "required": [
          "topic",
          "mastery_score",
          "trend",
          "recommendation"
        ],
        "title": "WeakSpot",
        "description": "Topic identified as needing attention.\n\nFlagged when mastery score falls below threshold or shows declining trend.\nIncludes actionable recommendations and suggested exercise types tailored\nto the learner's current level (e.g., worked examples for novices)."
      },
      "WeakSpotsResponse": {
        "properties": {
          "weak_spots": {
            "items": {
              "$ref": "#/components/schemas/WeakSpot"
            },
            "type": "array",
            "title": "Weak Spots"
          },
          "total_topics": {
            "type": "integer",
            "title": "Total Topics"
          },
          "weak_spot_threshold": {
            "type": "number",
            "title": "Weak Spot Threshold",
            "default": 0.6
          }
        },
        "type": "object",
        "required": [
          "weak_spots",
          "total_topics"
        ],
        "title": "WeakSpotsResponse",
        "description": "Response with weak spots.\n\nReturns topics sorted by priority: declining trends first, then lowest mastery.\nThe threshold (default 0.6) determines what qualifies as a weak spot, helping\nlearners focus their limited study time on areas that need the most work."
      }
    }
  }
}
