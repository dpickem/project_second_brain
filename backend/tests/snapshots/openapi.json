{
  "components": {
    "schemas": {
      "AttemptConfidenceUpdate": {
        "additionalProperties": false,
        "description": "Update confidence after viewing feedback.\n\nCaptures the learner's revised self-assessment after seeing the evaluation.\nComparing confidence_before and confidence_after reveals calibration accuracy\u2014\nwell-calibrated learners show smaller deltas between pre and post confidence.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "confidence_after": {
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Confidence After",
            "type": "integer"
          }
        },
        "required": [
          "confidence_after"
        ],
        "title": "AttemptConfidenceUpdate",
        "type": "object"
      },
      "AttemptEvaluationResponse": {
        "description": "Evaluation result for an exercise attempt.\n\nContains LLM-generated feedback analyzing the response against expected key points.\nIdentifies covered points, missing concepts, and any misconceptions detected.\nFor code exercises, includes detailed test results from sandbox execution.",
        "properties": {
          "attempt_id": {
            "title": "Attempt Id",
            "type": "integer"
          },
          "attempt_uuid": {
            "title": "Attempt Uuid",
            "type": "string"
          },
          "covered_points": {
            "description": "Key points addressed",
            "items": {
              "type": "string"
            },
            "title": "Covered Points",
            "type": "array"
          },
          "execution_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Execution Error"
          },
          "exercise_with_solution": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ExerciseWithSolution"
              },
              {
                "type": "null"
              }
            ]
          },
          "feedback": {
            "description": "LLM-generated feedback",
            "title": "Feedback",
            "type": "string"
          },
          "is_correct": {
            "title": "Is Correct",
            "type": "boolean"
          },
          "misconceptions": {
            "description": "Identified misconceptions",
            "items": {
              "type": "string"
            },
            "title": "Misconceptions",
            "type": "array"
          },
          "missing_points": {
            "description": "Key points missed",
            "items": {
              "type": "string"
            },
            "title": "Missing Points",
            "type": "array"
          },
          "score": {
            "description": "Normalized score",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score",
            "type": "number"
          },
          "test_results": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/CodeExecutionResult"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Results"
          },
          "tests_passed": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tests Passed"
          },
          "tests_total": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tests Total"
          }
        },
        "required": [
          "attempt_id",
          "attempt_uuid",
          "score",
          "is_correct",
          "feedback"
        ],
        "title": "AttemptEvaluationResponse",
        "type": "object"
      },
      "AttemptSubmitRequest": {
        "additionalProperties": false,
        "description": "Request to submit an exercise attempt.\n\nSupports both text responses (for conceptual exercises) and code responses\n(for programming exercises). The confidence_before field captures the learner's\nself-assessment prior to receiving feedback, enabling calibration tracking.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "confidence_before": {
            "anyOf": [
              {
                "maximum": 5.0,
                "minimum": 1.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Self-reported confidence before (1-5)",
            "title": "Confidence Before"
          },
          "exercise_id": {
            "description": "Exercise ID",
            "title": "Exercise Id",
            "type": "integer"
          },
          "response": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Text response",
            "title": "Response"
          },
          "response_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Code response",
            "title": "Response Code"
          },
          "time_spent_seconds": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Time Spent Seconds"
          }
        },
        "required": [
          "exercise_id"
        ],
        "title": "AttemptSubmitRequest",
        "type": "object"
      },
      "Body_capture_book_api_capture_book_post": {
        "properties": {
          "authors": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Comma-separated author names",
            "title": "Authors"
          },
          "create_cards": {
            "default": true,
            "description": "Generate spaced repetition cards",
            "title": "Create Cards",
            "type": "boolean"
          },
          "create_exercises": {
            "default": true,
            "description": "Generate practice exercises",
            "title": "Create Exercises",
            "type": "boolean"
          },
          "files": {
            "description": "Multiple book page images",
            "items": {
              "format": "binary",
              "type": "string"
            },
            "title": "Files",
            "type": "array"
          },
          "isbn": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "ISBN if known",
            "title": "Isbn"
          },
          "max_concurrency": {
            "default": 5,
            "description": "Max parallel OCR calls (5-20 recommended)",
            "title": "Max Concurrency",
            "type": "integer"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional notes about this book",
            "title": "Notes"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Book title",
            "title": "Title"
          }
        },
        "required": [
          "files"
        ],
        "title": "Body_capture_book_api_capture_book_post",
        "type": "object"
      },
      "Body_capture_pdf_api_capture_pdf_post": {
        "properties": {
          "content_type_hint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Hint: paper, article, book, or general",
            "title": "Content Type Hint"
          },
          "create_cards": {
            "default": true,
            "description": "Generate spaced repetition cards",
            "title": "Create Cards",
            "type": "boolean"
          },
          "create_exercises": {
            "default": true,
            "description": "Generate practice exercises",
            "title": "Create Exercises",
            "type": "boolean"
          },
          "detect_handwriting": {
            "default": true,
            "description": "Detect handwritten annotations",
            "title": "Detect Handwriting",
            "type": "boolean"
          },
          "file": {
            "description": "PDF file",
            "format": "binary",
            "title": "File",
            "type": "string"
          }
        },
        "required": [
          "file"
        ],
        "title": "Body_capture_pdf_api_capture_pdf_post",
        "type": "object"
      },
      "Body_capture_photo_api_capture_photo_post": {
        "properties": {
          "book_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Book title if known",
            "title": "Book Title"
          },
          "capture_type": {
            "default": "general",
            "description": "Type: book_page, whiteboard, document, or general",
            "title": "Capture Type",
            "type": "string"
          },
          "create_cards": {
            "default": true,
            "description": "Generate spaced repetition cards",
            "title": "Create Cards",
            "type": "boolean"
          },
          "create_exercises": {
            "default": true,
            "description": "Generate practice exercises",
            "title": "Create Exercises",
            "type": "boolean"
          },
          "file": {
            "description": "Photo file",
            "format": "binary",
            "title": "File",
            "type": "string"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional notes",
            "title": "Notes"
          }
        },
        "required": [
          "file"
        ],
        "title": "Body_capture_photo_api_capture_photo_post",
        "type": "object"
      },
      "Body_capture_text_api_capture_text_post": {
        "properties": {
          "content": {
            "description": "Text content to capture",
            "title": "Content",
            "type": "string"
          },
          "create_cards": {
            "default": false,
            "description": "Generate spaced repetition cards",
            "title": "Create Cards",
            "type": "boolean"
          },
          "create_exercises": {
            "default": false,
            "description": "Generate practice exercises",
            "title": "Create Exercises",
            "type": "boolean"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Comma-separated tags",
            "title": "Tags"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional title",
            "title": "Title"
          }
        },
        "required": [
          "content"
        ],
        "title": "Body_capture_text_api_capture_text_post",
        "type": "object"
      },
      "Body_capture_url_api_capture_url_post": {
        "properties": {
          "create_cards": {
            "default": true,
            "description": "Generate spaced repetition cards",
            "title": "Create Cards",
            "type": "boolean"
          },
          "create_exercises": {
            "default": true,
            "description": "Generate practice exercises",
            "title": "Create Exercises",
            "type": "boolean"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional notes about this URL",
            "title": "Notes"
          },
          "tags": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Comma-separated tags",
            "title": "Tags"
          },
          "url": {
            "description": "URL to capture",
            "title": "Url",
            "type": "string"
          }
        },
        "required": [
          "url"
        ],
        "title": "Body_capture_url_api_capture_url_post",
        "type": "object"
      },
      "Body_capture_voice_api_capture_voice_post": {
        "properties": {
          "create_cards": {
            "default": true,
            "description": "Generate spaced repetition cards",
            "title": "Create Cards",
            "type": "boolean"
          },
          "create_exercises": {
            "default": true,
            "description": "Generate practice exercises",
            "title": "Create Exercises",
            "type": "boolean"
          },
          "expand": {
            "default": true,
            "description": "Expand transcript into structured note",
            "title": "Expand",
            "type": "boolean"
          },
          "file": {
            "description": "Audio file",
            "format": "binary",
            "title": "File",
            "type": "string"
          }
        },
        "required": [
          "file"
        ],
        "title": "Body_capture_voice_api_capture_voice_post",
        "type": "object"
      },
      "BudgetStatusResponse": {
        "description": "Budget status and alerts response.",
        "properties": {
          "alert_threshold": {
            "description": "Alert threshold percentage",
            "title": "Alert Threshold",
            "type": "number"
          },
          "current_spend_usd": {
            "description": "Current spend in USD",
            "title": "Current Spend Usd",
            "type": "number"
          },
          "is_alert_triggered": {
            "description": "Whether alert threshold exceeded",
            "title": "Is Alert Triggered",
            "type": "boolean"
          },
          "is_over_budget": {
            "description": "Whether budget is exceeded",
            "title": "Is Over Budget",
            "type": "boolean"
          },
          "limit_usd": {
            "description": "Budget limit in USD",
            "title": "Limit Usd",
            "type": "number"
          },
          "percentage_used": {
            "description": "Percentage of budget used",
            "title": "Percentage Used",
            "type": "number"
          },
          "period": {
            "description": "Budget period (monthly/daily)",
            "title": "Period",
            "type": "string"
          },
          "remaining_usd": {
            "description": "Remaining budget in USD",
            "title": "Remaining Usd",
            "type": "number"
          }
        },
        "required": [
          "period",
          "current_spend_usd",
          "limit_usd",
          "remaining_usd",
          "percentage_used",
          "is_over_budget",
          "alert_threshold",
          "is_alert_triggered"
        ],
        "title": "BudgetStatusResponse",
        "type": "object"
      },
      "CardCreate": {
        "description": "Request to create a new spaced repetition card.\n\nExtends CardBase with optional source linking to content and Neo4j concepts.\nFor code cards, includes language, starter template, solution, and test cases\nthat enable automated evaluation in the code sandbox.",
        "properties": {
          "back": {
            "description": "Back side (answer)",
            "title": "Back",
            "type": "string"
          },
          "card_type": {
            "description": "Card type: concept, fact, application, cloze, code",
            "title": "Card Type",
            "type": "string"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Related concept ID in Neo4j",
            "title": "Concept Id"
          },
          "content_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Source content UUID",
            "title": "Content Id"
          },
          "front": {
            "description": "Front side (question/prompt)",
            "title": "Front",
            "type": "string"
          },
          "hints": {
            "description": "Progressive hints",
            "items": {
              "type": "string"
            },
            "title": "Hints",
            "type": "array"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Programming language",
            "title": "Language"
          },
          "solution_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Reference solution",
            "title": "Solution Code"
          },
          "starter_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Initial code template",
            "title": "Starter Code"
          },
          "tags": {
            "description": "Topic tags",
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "test_cases": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Test cases for code cards",
            "title": "Test Cases"
          }
        },
        "required": [
          "card_type",
          "front",
          "back"
        ],
        "title": "CardCreate",
        "type": "object"
      },
      "CardEvaluateRequest": {
        "additionalProperties": false,
        "description": "Request to evaluate a typed answer for a card.\n\nEnables \"active recall\" mode where users type their answer instead of just\nflipping the card. The LLM evaluates the answer semantically and returns\nan appropriate FSRS rating based on answer quality.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "card_id": {
            "description": "Card ID",
            "title": "Card Id",
            "type": "integer"
          },
          "user_answer": {
            "description": "User's typed answer",
            "title": "User Answer",
            "type": "string"
          }
        },
        "required": [
          "card_id",
          "user_answer"
        ],
        "title": "CardEvaluateRequest",
        "type": "object"
      },
      "CardEvaluateResponse": {
        "description": "Response from card answer evaluation.\n\nContains the LLM's assessment of the user's typed answer including an FSRS\nrating (1-4), detailed feedback explaining what was correct/incorrect, and\nlists of key points covered and missed. The expected_answer is included for\ncomparison to help the learner understand the gap between their response\nand the ideal answer.",
        "properties": {
          "card_id": {
            "title": "Card Id",
            "type": "integer"
          },
          "expected_answer": {
            "description": "The correct answer for comparison",
            "title": "Expected Answer",
            "type": "string"
          },
          "feedback": {
            "description": "Explanation for the learner",
            "title": "Feedback",
            "type": "string"
          },
          "is_correct": {
            "description": "Whether the answer is considered correct",
            "title": "Is Correct",
            "type": "boolean"
          },
          "key_points_covered": {
            "items": {
              "type": "string"
            },
            "title": "Key Points Covered",
            "type": "array"
          },
          "key_points_missed": {
            "items": {
              "type": "string"
            },
            "title": "Key Points Missed",
            "type": "array"
          },
          "rating": {
            "description": "FSRS rating (1-4)",
            "maximum": 4.0,
            "minimum": 1.0,
            "title": "Rating",
            "type": "integer"
          }
        },
        "required": [
          "card_id",
          "rating",
          "is_correct",
          "feedback",
          "expected_answer"
        ],
        "title": "CardEvaluateResponse",
        "type": "object"
      },
      "CardGenerationRequest": {
        "additionalProperties": false,
        "description": "Request to generate cards for a topic.\n\nUses existing content and LLM to generate flashcards for the specified topic.\nThe difficulty parameter controls the mix of generated cards, while count\ndetermines how many cards to create in a single generation batch.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "count": {
            "default": 10,
            "description": "Number of cards to generate",
            "maximum": 50.0,
            "minimum": 1.0,
            "title": "Count",
            "type": "integer"
          },
          "difficulty": {
            "default": "mixed",
            "description": "Difficulty: easy, medium, hard, mixed",
            "title": "Difficulty",
            "type": "string"
          },
          "topic": {
            "description": "Topic path (e.g., 'ml/transformers')",
            "title": "Topic",
            "type": "string"
          }
        },
        "required": [
          "topic"
        ],
        "title": "CardGenerationRequest",
        "type": "object"
      },
      "CardGenerationResponse": {
        "description": "Response from card generation.\n\nReturns the number of cards generated along with the total card count for the\ntopic after generation. Useful for understanding how many new cards were added\nand the current size of the topic's card pool.",
        "properties": {
          "generated_count": {
            "title": "Generated Count",
            "type": "integer"
          },
          "topic": {
            "title": "Topic",
            "type": "string"
          },
          "total_cards": {
            "title": "Total Cards",
            "type": "integer"
          }
        },
        "required": [
          "generated_count",
          "total_cards",
          "topic"
        ],
        "title": "CardGenerationResponse",
        "type": "object"
      },
      "CardResponse": {
        "description": "Card response with FSRS state.\n\nIncludes the full FSRS scheduling state: stability (memory strength in days),\ndifficulty (0-1 scale), and current learning state. The due_date indicates when\nthe card should next be reviewed based on the FSRS-4.5 optimal retention algorithm.",
        "properties": {
          "back": {
            "description": "Back side (answer)",
            "title": "Back",
            "type": "string"
          },
          "card_type": {
            "description": "Card type: concept, fact, application, cloze, code",
            "title": "Card Type",
            "type": "string"
          },
          "concept_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Concept Id"
          },
          "content_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Id"
          },
          "correct_reviews": {
            "default": 0,
            "title": "Correct Reviews",
            "type": "integer"
          },
          "difficulty": {
            "default": 0.3,
            "description": "FSRS card difficulty (can exceed 1.0 after reviews)",
            "minimum": 0.0,
            "title": "Difficulty",
            "type": "number"
          },
          "due_date": {
            "format": "date-time",
            "title": "Due Date",
            "type": "string"
          },
          "front": {
            "description": "Front side (question/prompt)",
            "title": "Front",
            "type": "string"
          },
          "hints": {
            "description": "Progressive hints",
            "items": {
              "type": "string"
            },
            "title": "Hints",
            "type": "array"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "lapses": {
            "default": 0,
            "title": "Lapses",
            "type": "integer"
          },
          "last_reviewed": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Reviewed"
          },
          "repetitions": {
            "default": 0,
            "title": "Repetitions",
            "type": "integer"
          },
          "stability": {
            "default": 0.0,
            "description": "Memory stability in days",
            "title": "Stability",
            "type": "number"
          },
          "state": {
            "$ref": "#/components/schemas/CardState",
            "default": "new"
          },
          "tags": {
            "description": "Topic tags",
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "total_reviews": {
            "default": 0,
            "title": "Total Reviews",
            "type": "integer"
          }
        },
        "required": [
          "card_type",
          "front",
          "back",
          "id",
          "due_date"
        ],
        "title": "CardResponse",
        "type": "object"
      },
      "CardReviewRequest": {
        "additionalProperties": false,
        "description": "Request to submit a card review rating.\n\nThe rating follows FSRS conventions: Again (1) for forgotten, Hard (2) for difficult\nrecall, Good (3) for successful recall with effort, Easy (4) for effortless recall.\nTime spent is tracked for analytics and can inform future difficulty adjustments.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "card_id": {
            "description": "Card ID to review",
            "title": "Card Id",
            "type": "integer"
          },
          "rating": {
            "$ref": "#/components/schemas/Rating",
            "description": "Self-assessment rating (1-4)"
          },
          "response": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional response text",
            "title": "Response"
          },
          "time_spent_seconds": {
            "anyOf": [
              {
                "minimum": 0.0,
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Time spent on review",
            "title": "Time Spent Seconds"
          }
        },
        "required": [
          "card_id",
          "rating"
        ],
        "title": "CardReviewRequest",
        "type": "object"
      },
      "CardReviewResponse": {
        "description": "Response after submitting a card review.\n\nContains the updated FSRS state after processing the review. The scheduled_days\nfield shows when the card will next be due, which can range from minutes (for\nAgain ratings) to months (for well-learned Easy cards with high stability).",
        "properties": {
          "card_id": {
            "title": "Card Id",
            "type": "integer"
          },
          "new_difficulty": {
            "title": "New Difficulty",
            "type": "number"
          },
          "new_stability": {
            "title": "New Stability",
            "type": "number"
          },
          "new_state": {
            "$ref": "#/components/schemas/CardState"
          },
          "next_due_date": {
            "format": "date-time",
            "title": "Next Due Date",
            "type": "string"
          },
          "scheduled_days": {
            "description": "Days until next review",
            "title": "Scheduled Days",
            "type": "integer"
          },
          "was_correct": {
            "description": "Whether rating indicates success",
            "title": "Was Correct",
            "type": "boolean"
          }
        },
        "required": [
          "card_id",
          "new_state",
          "new_stability",
          "new_difficulty",
          "next_due_date",
          "scheduled_days",
          "was_correct"
        ],
        "title": "CardReviewResponse",
        "type": "object"
      },
      "CardState": {
        "description": "FSRS card states in the learning state machine.\n\nState transitions:\n- NEW \u2192 LEARNING (first review)\n- LEARNING \u2192 REVIEW (graduated) or LEARNING (still learning)\n- REVIEW \u2192 REVIEW (success) or RELEARNING (lapse)\n- RELEARNING \u2192 REVIEW (recovered) or RELEARNING (still struggling)",
        "enum": [
          "new",
          "learning",
          "review",
          "relearning"
        ],
        "title": "CardState",
        "type": "string"
      },
      "CardStats": {
        "description": "Statistics about cards in the system.\n\nProvides aggregate metrics for the card collection including state distribution,\naverage stability/difficulty, and review workload. Useful for understanding\noverall system health and planning study capacity.",
        "properties": {
          "avg_difficulty": {
            "default": 0.0,
            "title": "Avg Difficulty",
            "type": "number"
          },
          "avg_stability": {
            "default": 0.0,
            "title": "Avg Stability",
            "type": "number"
          },
          "cards_by_state": {
            "additionalProperties": {
              "type": "integer"
            },
            "description": "Count per CardState",
            "title": "Cards By State",
            "type": "object"
          },
          "due_today": {
            "default": 0,
            "title": "Due Today",
            "type": "integer"
          },
          "overdue": {
            "default": 0,
            "title": "Overdue",
            "type": "integer"
          },
          "total_cards": {
            "title": "Total Cards",
            "type": "integer"
          }
        },
        "required": [
          "total_cards"
        ],
        "title": "CardStats",
        "type": "object"
      },
      "ChatRequest": {
        "additionalProperties": false,
        "description": "Request to send a message to the AI assistant.\n\nAttributes:\n    conversation_id: Existing conversation ID (null to start new conversation)\n    message: User message content\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "conversation_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Conversation ID (null to start new conversation)",
            "title": "Conversation Id"
          },
          "message": {
            "maxLength": 10000,
            "minLength": 1,
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "message"
        ],
        "title": "ChatRequest",
        "type": "object"
      },
      "ChatResponse": {
        "description": "Response from the AI assistant.\n\nAttributes:\n    conversation_id: The conversation this message belongs to\n    response: Assistant's response text\n    sources: Optional list of referenced sources",
        "properties": {
          "conversation_id": {
            "title": "Conversation Id",
            "type": "string"
          },
          "response": {
            "title": "Response",
            "type": "string"
          },
          "sources": {
            "items": {
              "$ref": "#/components/schemas/SourceReference"
            },
            "title": "Sources",
            "type": "array"
          }
        },
        "required": [
          "conversation_id",
          "response"
        ],
        "title": "ChatResponse",
        "type": "object"
      },
      "CodeExecutionResult": {
        "description": "Result of a single test case execution.\n\nCaptures the outcome of running learner code against a test case in the sandbox.\nIncludes input/expected/actual values for debugging failed tests, and any\nexecution errors (syntax errors, exceptions, timeouts) that occurred.\n\nNote: Named CodeExecutionResult (not TestResult) to avoid pytest collection warnings.",
        "properties": {
          "actual": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Actual"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "expected": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expected"
          },
          "input_value": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Input Value"
          },
          "passed": {
            "title": "Passed",
            "type": "boolean"
          },
          "test_index": {
            "title": "Test Index",
            "type": "integer"
          }
        },
        "required": [
          "test_index",
          "passed"
        ],
        "title": "CodeExecutionResult",
        "type": "object"
      },
      "Concept": {
        "description": "Extracted concept with rich context for knowledge building.\n\nConcepts are the atomic units of knowledge in the graph. They enable\nrich querying, connection discovery, and knowledge gap identification.\n\nAttributes:\n    id: Unique identifier (UUID v4)\n    name: Concept name (e.g., \"attention mechanism\", \"transformer\")\n    definition: Clear, concise definition in 1-2 sentences\n    context: How this concept is used in THIS specific content\n    importance: Role in the content (core, supporting, tangential)\n    why_it_matters: Explanation of why this concept is important\n    properties: Key characteristics or attributes of the concept\n    examples: Concrete examples illustrating the concept\n    misconceptions: Common misunderstandings about the concept\n    prerequisites: Concepts that should be understood first\n    related_concepts: Other concepts this one connects to with relationship type\n    embedding: Vector embedding for similarity search (computed post-extraction)",
        "properties": {
          "context": {
            "default": "",
            "description": "How it's used in this specific content",
            "title": "Context",
            "type": "string"
          },
          "definition": {
            "description": "Clear definition in 1-2 sentences",
            "title": "Definition",
            "type": "string"
          },
          "embedding": {
            "anyOf": [
              {
                "items": {
                  "type": "number"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Vector embedding for similarity search (computed post-extraction)",
            "title": "Embedding"
          },
          "examples": {
            "description": "Concrete examples illustrating the concept",
            "items": {
              "$ref": "#/components/schemas/ConceptExample"
            },
            "title": "Examples",
            "type": "array"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "importance": {
            "default": "SUPPORTING",
            "description": "CORE, SUPPORTING, or TANGENTIAL",
            "title": "Importance",
            "type": "string"
          },
          "misconceptions": {
            "description": "Common misunderstandings",
            "items": {
              "$ref": "#/components/schemas/ConceptMisconception"
            },
            "title": "Misconceptions",
            "type": "array"
          },
          "name": {
            "description": "Concept name",
            "title": "Name",
            "type": "string"
          },
          "neo4j_node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "ID of corresponding Neo4j node (set after storage)",
            "title": "Neo4J Node Id"
          },
          "prerequisites": {
            "description": "Concepts that should be understood first",
            "items": {
              "type": "string"
            },
            "title": "Prerequisites",
            "type": "array"
          },
          "properties": {
            "description": "Key characteristics of this concept",
            "items": {
              "type": "string"
            },
            "title": "Properties",
            "type": "array"
          },
          "related_concepts": {
            "description": "Related concepts with relationship type",
            "items": {
              "$ref": "#/components/schemas/ConceptRelation"
            },
            "title": "Related Concepts",
            "type": "array"
          },
          "why_it_matters": {
            "default": "",
            "description": "Why this concept is important to understand",
            "title": "Why It Matters",
            "type": "string"
          }
        },
        "required": [
          "name",
          "definition"
        ],
        "title": "Concept",
        "type": "object"
      },
      "ConceptExample": {
        "description": "An example illustrating a concept.",
        "properties": {
          "content": {
            "description": "Example explanation",
            "title": "Content",
            "type": "string"
          },
          "title": {
            "default": "",
            "description": "Example title",
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "content"
        ],
        "title": "ConceptExample",
        "type": "object"
      },
      "ConceptMisconception": {
        "description": "A common misconception about a concept.",
        "properties": {
          "correct": {
            "description": "The correct understanding",
            "title": "Correct",
            "type": "string"
          },
          "wrong": {
            "description": "The incorrect belief",
            "title": "Wrong",
            "type": "string"
          }
        },
        "required": [
          "wrong",
          "correct"
        ],
        "title": "ConceptMisconception",
        "type": "object"
      },
      "ConceptRelation": {
        "description": "A relationship to another concept.",
        "properties": {
          "name": {
            "description": "Related concept name",
            "title": "Name",
            "type": "string"
          },
          "relationship": {
            "default": "relates to",
            "description": "How they're related",
            "title": "Relationship",
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "title": "ConceptRelation",
        "type": "object"
      },
      "Connection": {
        "description": "Connection to existing knowledge.\n\nRepresents a semantic relationship between new content and existing\ncontent in the knowledge graph. Enables the \"web\" of connections.\n\nAttributes:\n    id: Unique identifier for this connection\n    target_id: ID of the connected content/concept\n    target_title: Title of the connected item (for display)\n    relationship_type: Type of relationship (RELATES_TO, EXTENDS, etc.)\n    strength: Connection strength from 0.0 to 1.0\n    explanation: Brief explanation of why these are connected\n    verified_by_user: Whether user has confirmed this connection",
        "properties": {
          "explanation": {
            "default": "",
            "description": "Why these are connected",
            "title": "Explanation",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "relationship_type": {
            "default": "RELATES_TO",
            "description": "RELATES_TO, EXTENDS, CONTRADICTS, PREREQUISITE_FOR, APPLIES",
            "title": "Relationship Type",
            "type": "string"
          },
          "strength": {
            "default": 0.5,
            "description": "Connection strength (0-1)",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Strength",
            "type": "number"
          },
          "target_id": {
            "description": "ID of connected content/concept",
            "title": "Target Id",
            "type": "string"
          },
          "target_title": {
            "description": "Title for display",
            "title": "Target Title",
            "type": "string"
          },
          "verified_by_user": {
            "default": false,
            "description": "Whether user has confirmed this connection",
            "title": "Verified By User",
            "type": "boolean"
          }
        },
        "required": [
          "target_id",
          "target_title"
        ],
        "title": "Connection",
        "type": "object"
      },
      "ConnectionDirection": {
        "description": "Direction filter for connection queries.\n\nUsed by the /connections/{node_id} endpoint to filter\nrelationships by direction relative to the queried node.\n\nValues:\n    INCOMING: Only relationships pointing to the node\n    OUTGOING: Only relationships pointing from the node\n    BOTH: All relationships (default)",
        "enum": [
          "incoming",
          "outgoing",
          "both"
        ],
        "title": "ConnectionDirection",
        "type": "string"
      },
      "ConnectionsResponse": {
        "description": "Response containing connections for a node.\n\nReturns both incoming and outgoing relationships,\nenabling bidirectional graph exploration.\n\nAttributes:\n    node_id: The queried node's ID\n    incoming: Connections pointing to this node\n    outgoing: Connections pointing from this node\n    total: Total connection count",
        "properties": {
          "incoming": {
            "items": {
              "$ref": "#/components/schemas/NodeConnection"
            },
            "title": "Incoming",
            "type": "array"
          },
          "node_id": {
            "title": "Node Id",
            "type": "string"
          },
          "outgoing": {
            "items": {
              "$ref": "#/components/schemas/NodeConnection"
            },
            "title": "Outgoing",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "node_id",
          "incoming",
          "outgoing",
          "total"
        ],
        "title": "ConnectionsResponse",
        "type": "object"
      },
      "ContentAnalysis": {
        "description": "Result of initial content analysis.\n\nThis is the first processing stage output that determines how subsequent\nstages behave. Identifying content type, domain, complexity, and key topics\nallows the pipeline to use appropriate prompts and model configurations.\n\nAttributes:\n    content_type: Type of content (paper, article, book, code, idea, voice_memo)\n    domain: Primary domain (ml, systems, leadership, productivity, etc.)\n    complexity: Difficulty level (foundational, intermediate, advanced)\n    estimated_length: Content length category (short, medium, long)\n    has_code: Whether content contains code snippets\n    has_math: Whether content contains mathematical notation\n    has_diagrams: Whether content contains diagrams or figures\n    key_topics: Main topics covered (up to 10)\n    language: ISO language code (default: en)",
        "properties": {
          "complexity": {
            "description": "Difficulty: foundational, intermediate, advanced",
            "title": "Complexity",
            "type": "string"
          },
          "content_type": {
            "description": "Type: paper, article, book, code, idea, voice_memo",
            "title": "Content Type",
            "type": "string"
          },
          "domain": {
            "description": "Primary domain: ml, systems, leadership, productivity, etc.",
            "title": "Domain",
            "type": "string"
          },
          "estimated_length": {
            "description": "Length category: short, medium, long",
            "title": "Estimated Length",
            "type": "string"
          },
          "has_code": {
            "default": false,
            "title": "Has Code",
            "type": "boolean"
          },
          "has_diagrams": {
            "default": false,
            "title": "Has Diagrams",
            "type": "boolean"
          },
          "has_math": {
            "default": false,
            "title": "Has Math",
            "type": "boolean"
          },
          "key_topics": {
            "description": "Main topics covered (up to 10)",
            "items": {
              "type": "string"
            },
            "title": "Key Topics",
            "type": "array"
          },
          "language": {
            "default": "en",
            "description": "ISO language code",
            "title": "Language",
            "type": "string"
          }
        },
        "required": [
          "content_type",
          "domain",
          "complexity",
          "estimated_length"
        ],
        "title": "ContentAnalysis",
        "type": "object"
      },
      "ContentExerciseGenerateRequest": {
        "additionalProperties": false,
        "description": "Request to generate exercises for a specific content item.\n\nGenerates exercises based on the content's extracted concepts and/or\nfull summary. This is typically triggered from the Knowledge page UI\nwhen a user wants exercises for a specific piece of content.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "generate_from_concepts": {
            "default": true,
            "description": "Generate exercises from extracted concepts",
            "title": "Generate From Concepts",
            "type": "boolean"
          },
          "generate_from_content": {
            "default": true,
            "description": "Generate exercises from content summary",
            "title": "Generate From Content",
            "type": "boolean"
          },
          "max_from_concepts": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Max exercises from concepts (uses default if not set)",
            "title": "Max From Concepts"
          },
          "max_from_content": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Max exercises from content (uses default if not set)",
            "title": "Max From Content"
          }
        },
        "title": "ContentExerciseGenerateRequest",
        "type": "object"
      },
      "ContentExerciseGenerateResponse": {
        "description": "Response from content exercise generation.\n\nReturns both the status (including any pre-existing exercises) and\nthe newly generated exercises. Includes a warning if exercises\nalready existed for this content.",
        "properties": {
          "content_uuid": {
            "title": "Content Uuid",
            "type": "string"
          },
          "existing_exercise_count": {
            "default": 0,
            "title": "Existing Exercise Count",
            "type": "integer"
          },
          "generated_exercises": {
            "items": {
              "$ref": "#/components/schemas/ExerciseResponse"
            },
            "title": "Generated Exercises",
            "type": "array"
          },
          "total_exercises": {
            "default": 0,
            "title": "Total Exercises",
            "type": "integer"
          },
          "warning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Warning if exercises already existed",
            "title": "Warning"
          }
        },
        "required": [
          "content_uuid"
        ],
        "title": "ContentExerciseGenerateResponse",
        "type": "object"
      },
      "ContentExerciseStatus": {
        "description": "Status of exercises for a content item.\n\nUsed to check if a content item already has exercises before generating new ones.\nHelps prevent duplicate generation.",
        "properties": {
          "concept_names": {
            "description": "Concepts that have exercises",
            "items": {
              "type": "string"
            },
            "title": "Concept Names",
            "type": "array"
          },
          "content_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Title"
          },
          "content_uuid": {
            "title": "Content Uuid",
            "type": "string"
          },
          "exercises_from_concepts": {
            "title": "Exercises From Concepts",
            "type": "integer"
          },
          "exercises_from_content": {
            "title": "Exercises From Content",
            "type": "integer"
          },
          "has_exercises": {
            "title": "Has Exercises",
            "type": "boolean"
          },
          "total_exercises": {
            "title": "Total Exercises",
            "type": "integer"
          }
        },
        "required": [
          "content_uuid",
          "has_exercises",
          "total_exercises",
          "exercises_from_concepts",
          "exercises_from_content"
        ],
        "title": "ContentExerciseStatus",
        "type": "object"
      },
      "ContentSourcePreference": {
        "description": "How to source content (exercises or cards) for a session.\n\nControls whether to use existing content from the database,\ngenerate new content via LLM, or a combination.",
        "enum": [
          "prefer_existing",
          "generate_new",
          "existing_only"
        ],
        "title": "ContentSourcePreference",
        "type": "string"
      },
      "ConversationDetail": {
        "description": "Full conversation with all messages.\n\nAttributes:\n    id: Conversation unique identifier\n    title: Conversation title\n    created_at: When the conversation started\n    messages: All messages in chronological order",
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/MessageInfo"
            },
            "title": "Messages",
            "type": "array"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "created_at",
          "messages"
        ],
        "title": "ConversationDetail",
        "type": "object"
      },
      "ConversationListResponse": {
        "description": "Paginated list of conversations.\n\nAttributes:\n    conversations: List of conversation summaries\n    total: Total number of conversations",
        "properties": {
          "conversations": {
            "items": {
              "$ref": "#/components/schemas/ConversationSummary"
            },
            "title": "Conversations",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "conversations",
          "total"
        ],
        "title": "ConversationListResponse",
        "type": "object"
      },
      "ConversationSummary": {
        "description": "Summary of a conversation for list views.\n\nAttributes:\n    id: Conversation unique identifier\n    title: Conversation title (auto-generated or user-set)\n    created_at: When the conversation started\n    updated_at: When the conversation was last updated\n    message_count: Number of messages in the conversation",
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "message_count": {
            "title": "Message Count",
            "type": "integer"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "created_at",
          "updated_at",
          "message_count"
        ],
        "title": "ConversationSummary",
        "type": "object"
      },
      "ConversationUpdateRequest": {
        "additionalProperties": false,
        "description": "Request to update conversation metadata.\n\nAttributes:\n    title: New title for the conversation\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "title": {
            "maxLength": 200,
            "minLength": 1,
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "title"
        ],
        "title": "ConversationUpdateRequest",
        "type": "object"
      },
      "ConversationUpdateResponse": {
        "description": "Response after updating a conversation.\n\nAttributes:\n    id: Conversation unique identifier\n    title: Updated title\n    updated_at: When the update was made",
        "properties": {
          "id": {
            "title": "Id",
            "type": "string"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "updated_at"
        ],
        "title": "ConversationUpdateResponse",
        "type": "object"
      },
      "DailyNoteRequest": {
        "properties": {
          "date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date"
          }
        },
        "title": "DailyNoteRequest",
        "type": "object"
      },
      "DailyStatsResponse": {
        "description": "Daily statistics for the dashboard.\n\nProvides a quick overview of today's learning status including due cards,\nstreak information, and recent activity. Used by the frontend dashboard\nto show the user's current learning status at a glance.",
        "properties": {
          "cards_reviewed_today": {
            "default": 0,
            "description": "Cards reviewed so far today",
            "title": "Cards Reviewed Today",
            "type": "integer"
          },
          "due_cards_count": {
            "default": 0,
            "description": "Cards due for review today",
            "title": "Due Cards Count",
            "type": "integer"
          },
          "last_practice_date": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Date of last practice",
            "title": "Last Practice Date"
          },
          "overall_mastery": {
            "default": 0.0,
            "description": "Overall mastery score",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overall Mastery",
            "type": "number"
          },
          "practice_time_today_minutes": {
            "default": 0,
            "description": "Practice time today in minutes",
            "title": "Practice Time Today Minutes",
            "type": "integer"
          },
          "streak_at_risk": {
            "default": false,
            "description": "True if no practice today yet",
            "title": "Streak At Risk",
            "type": "boolean"
          },
          "streak_days": {
            "default": 0,
            "description": "Current consecutive practice days",
            "title": "Streak Days",
            "type": "integer"
          },
          "total_cards": {
            "default": 0,
            "description": "Total cards in the system",
            "title": "Total Cards",
            "type": "integer"
          }
        },
        "title": "DailyStatsResponse",
        "type": "object"
      },
      "DailyUsageResponse": {
        "description": "Daily usage summary response.",
        "properties": {
          "by_model": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "By Model",
            "type": "object"
          },
          "by_pipeline": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "By Pipeline",
            "type": "object"
          },
          "date": {
            "title": "Date",
            "type": "string"
          },
          "request_count": {
            "title": "Request Count",
            "type": "integer"
          },
          "total_cost_usd": {
            "title": "Total Cost Usd",
            "type": "number"
          },
          "total_tokens": {
            "title": "Total Tokens",
            "type": "integer"
          }
        },
        "required": [
          "date",
          "total_cost_usd",
          "request_count",
          "total_tokens",
          "by_model",
          "by_pipeline"
        ],
        "title": "DailyUsageResponse",
        "type": "object"
      },
      "DeleteResponse": {
        "description": "Generic deletion response.\n\nAttributes:\n    success: Whether the deletion was successful\n    deleted_id: ID of the deleted resource (optional)\n    cleared_count: Number of items cleared (optional)",
        "properties": {
          "cleared_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cleared Count"
          },
          "deleted_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deleted Id"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": [
          "success"
        ],
        "title": "DeleteResponse",
        "type": "object"
      },
      "DueCardsResponse": {
        "description": "Response with due cards and forecast.\n\nReturns cards ordered by due date (oldest first) along with the total count\nof due cards and a forecast of upcoming reviews. The forecast helps users\nunderstand their review backlog and plan study sessions accordingly.",
        "properties": {
          "cards": {
            "items": {
              "$ref": "#/components/schemas/CardResponse"
            },
            "title": "Cards",
            "type": "array"
          },
          "review_forecast": {
            "$ref": "#/components/schemas/ReviewForecast"
          },
          "total_due": {
            "title": "Total Due",
            "type": "integer"
          }
        },
        "required": [
          "cards",
          "total_due",
          "review_forecast"
        ],
        "title": "DueCardsResponse",
        "type": "object"
      },
      "ExerciseDifficulty": {
        "description": "Difficulty levels aligned with mastery progression.\n\nDifficulty selection is adaptive based on learner mastery:\n- mastery < 0.3: FOUNDATIONAL (worked examples, completions)\n- mastery 0.3-0.7: INTERMEDIATE (free recall, implementations)\n- mastery > 0.7: ADVANCED (applications, refactoring)",
        "enum": [
          "foundational",
          "intermediate",
          "advanced"
        ],
        "title": "ExerciseDifficulty",
        "type": "string"
      },
      "ExerciseGenerateRequest": {
        "additionalProperties": false,
        "description": "Request to generate an exercise.\n\nThe LLM exercise generator uses the topic and optional source content to create\na contextually relevant exercise. If type/difficulty are not specified, they are\nautomatically selected based on the learner's current mastery level for the topic.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "difficulty": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ExerciseDifficulty"
              },
              {
                "type": "null"
              }
            ],
            "description": "Specific difficulty, or auto-select based on mastery"
          },
          "exercise_type": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ExerciseType"
              },
              {
                "type": "null"
              }
            ],
            "description": "Specific type, or auto-select based on mastery"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Programming language for code exercises",
            "title": "Language"
          },
          "source_content_ids": {
            "description": "Optional content IDs to base exercise on",
            "items": {
              "type": "string"
            },
            "title": "Source Content Ids",
            "type": "array"
          },
          "topic": {
            "description": "Topic to generate exercise for",
            "title": "Topic",
            "type": "string"
          }
        },
        "required": [
          "topic"
        ],
        "title": "ExerciseGenerateRequest",
        "type": "object"
      },
      "ExerciseResponse": {
        "description": "Exercise response (hides solution until attempted).\n\nReturns the exercise prompt and any scaffolding (hints, starter code, buggy code)\nbut withholds the solution until after the learner submits an attempt. This\nprevents premature exposure to answers and encourages genuine retrieval practice.",
        "properties": {
          "buggy_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buggy Code"
          },
          "difficulty": {
            "$ref": "#/components/schemas/ExerciseDifficulty",
            "default": "intermediate"
          },
          "estimated_time_minutes": {
            "default": 10,
            "title": "Estimated Time Minutes",
            "type": "integer"
          },
          "exercise_type": {
            "$ref": "#/components/schemas/ExerciseType"
          },
          "exercise_uuid": {
            "title": "Exercise Uuid",
            "type": "string"
          },
          "expected_key_points": {
            "description": "Key points for a good answer",
            "items": {
              "type": "string"
            },
            "title": "Expected Key Points",
            "type": "array"
          },
          "follow_up_problem": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Follow Up Problem"
          },
          "hints": {
            "description": "Progressive hints",
            "items": {
              "type": "string"
            },
            "title": "Hints",
            "type": "array"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "prompt": {
            "description": "Main exercise prompt",
            "title": "Prompt",
            "type": "string"
          },
          "starter_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Starter Code"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "topic": {
            "description": "Topic path (e.g., ml/transformers)",
            "title": "Topic",
            "type": "string"
          },
          "worked_example": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Worked Example"
          }
        },
        "required": [
          "exercise_type",
          "topic",
          "prompt",
          "id",
          "exercise_uuid"
        ],
        "title": "ExerciseResponse",
        "type": "object"
      },
      "ExerciseType": {
        "description": "Types of exercises for active learning.\n\nText-based exercises:\n- FREE_RECALL: Explain concept from memory\n- SELF_EXPLAIN: Explain why/how something works\n- WORKED_EXAMPLE: Step-by-step solution followed by similar problem\n- APPLICATION: Apply concept to novel situation\n- COMPARE_CONTRAST: Compare two concepts or approaches\n- TEACH_BACK: Explain as if teaching someone (Feynman technique)\n\nCode-based exercises:\n- CODE_IMPLEMENT: Write code from scratch\n- CODE_COMPLETE: Fill in blanks in code\n- CODE_DEBUG: Find and fix bugs\n- CODE_REFACTOR: Improve existing code\n- CODE_EXPLAIN: Explain what code does",
        "enum": [
          "free_recall",
          "self_explain",
          "worked_example",
          "application",
          "compare_contrast",
          "teach_back",
          "code_implement",
          "code_complete",
          "code_debug",
          "code_refactor",
          "code_explain"
        ],
        "title": "ExerciseType",
        "type": "string"
      },
      "ExerciseWithSolution": {
        "description": "Exercise with solution revealed (after attempt).\n\nExtends ExerciseResponse to include the reference solution and test cases.\nOnly returned after the learner submits an attempt, enabling comparison\nbetween their response and the expected answer for self-assessment.",
        "properties": {
          "buggy_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Buggy Code"
          },
          "difficulty": {
            "$ref": "#/components/schemas/ExerciseDifficulty",
            "default": "intermediate"
          },
          "estimated_time_minutes": {
            "default": 10,
            "title": "Estimated Time Minutes",
            "type": "integer"
          },
          "exercise_type": {
            "$ref": "#/components/schemas/ExerciseType"
          },
          "exercise_uuid": {
            "title": "Exercise Uuid",
            "type": "string"
          },
          "expected_key_points": {
            "description": "Key points for a good answer",
            "items": {
              "type": "string"
            },
            "title": "Expected Key Points",
            "type": "array"
          },
          "follow_up_problem": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Follow Up Problem"
          },
          "hints": {
            "description": "Progressive hints",
            "items": {
              "type": "string"
            },
            "title": "Hints",
            "type": "array"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Language"
          },
          "prompt": {
            "description": "Main exercise prompt",
            "title": "Prompt",
            "type": "string"
          },
          "solution_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Solution Code"
          },
          "starter_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Starter Code"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "test_cases": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Test Cases"
          },
          "topic": {
            "description": "Topic path (e.g., ml/transformers)",
            "title": "Topic",
            "type": "string"
          },
          "worked_example": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Worked Example"
          }
        },
        "required": [
          "exercise_type",
          "topic",
          "prompt",
          "id",
          "exercise_uuid"
        ],
        "title": "ExerciseWithSolution",
        "type": "object"
      },
      "ExplanationResponse": {
        "description": "AI-generated explanation of a concept.\n\nAttributes:\n    concept: Concept name\n    explanation: Detailed explanation text\n    examples: Optional list of examples\n    related_concepts: Optional list of related concepts",
        "properties": {
          "concept": {
            "title": "Concept",
            "type": "string"
          },
          "examples": {
            "items": {
              "type": "string"
            },
            "title": "Examples",
            "type": "array"
          },
          "explanation": {
            "title": "Explanation",
            "type": "string"
          },
          "related_concepts": {
            "items": {
              "$ref": "#/components/schemas/RelatedConcept"
            },
            "title": "Related Concepts",
            "type": "array"
          }
        },
        "required": [
          "concept",
          "explanation"
        ],
        "title": "ExplanationResponse",
        "type": "object"
      },
      "ExplanationStyle": {
        "description": "Style for AI-generated concept explanations.\n\nControls the verbosity and complexity of explanations returned\nby the assistant's explain endpoint.\n\nUsage:\n    from app.enums import ExplanationStyle\n\n    style = ExplanationStyle.ELI5",
        "enum": [
          "simple",
          "detailed",
          "eli5"
        ],
        "title": "ExplanationStyle",
        "type": "string"
      },
      "ExtractionResult": {
        "description": "Result of concept extraction stage.\n\nContains all structured information extracted from content including\nconcepts, key findings, methodologies, tools, and people mentioned.\n\nAttributes:\n    concepts: List of extracted concepts with definitions\n    key_findings: Main insights, conclusions, or claims\n    methodologies: Approaches, techniques, algorithms described\n    tools_mentioned: Software, frameworks, libraries mentioned\n    people_mentioned: Authors, researchers, thought leaders referenced",
        "properties": {
          "concepts": {
            "items": {
              "$ref": "#/components/schemas/Concept"
            },
            "title": "Concepts",
            "type": "array"
          },
          "key_findings": {
            "items": {
              "type": "string"
            },
            "title": "Key Findings",
            "type": "array"
          },
          "methodologies": {
            "items": {
              "type": "string"
            },
            "title": "Methodologies",
            "type": "array"
          },
          "people_mentioned": {
            "items": {
              "type": "string"
            },
            "title": "People Mentioned",
            "type": "array"
          },
          "tools_mentioned": {
            "items": {
              "type": "string"
            },
            "title": "Tools Mentioned",
            "type": "array"
          }
        },
        "title": "ExtractionResult",
        "type": "object"
      },
      "FollowupTask": {
        "description": "Generated follow-up task.\n\nFollow-up tasks transform passive reading into active learning. They help\nusers engage more deeply with content by providing specific, actionable\nnext steps.\n\nAttributes:\n    id: Unique identifier\n    task: Specific, actionable task description\n    task_type: Category (research, practice, connect, apply, review)\n    priority: Importance level (high, medium, low)\n    estimated_time: Time estimate (15min, 30min, 1hr, 2hr+)\n    completed: Whether the task has been completed\n    completed_at: When the task was completed\n    created_at: When the task was created",
        "properties": {
          "completed": {
            "default": false,
            "description": "Whether task is done",
            "title": "Completed",
            "type": "boolean"
          },
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "When the task was completed",
            "title": "Completed At"
          },
          "created_at": {
            "description": "When the task was created",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "estimated_time": {
            "default": "30min",
            "description": "15min, 30min, 1hr, 2hr+",
            "title": "Estimated Time",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "priority": {
            "default": "medium",
            "description": "high, medium, low",
            "title": "Priority",
            "type": "string"
          },
          "task": {
            "description": "Specific, actionable task description",
            "title": "Task",
            "type": "string"
          },
          "task_type": {
            "default": "research",
            "description": "research, practice, connect, apply, review",
            "title": "Task Type",
            "type": "string"
          }
        },
        "required": [
          "task"
        ],
        "title": "FollowupTask",
        "type": "object"
      },
      "FollowupTaskListItem": {
        "description": "Follow-up task item for list response.",
        "properties": {
          "completed": {
            "title": "Completed",
            "type": "boolean"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "content_id": {
            "title": "Content Id",
            "type": "integer"
          },
          "content_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Title"
          },
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "estimated_time": {
            "title": "Estimated Time",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "priority": {
            "title": "Priority",
            "type": "string"
          },
          "task": {
            "title": "Task",
            "type": "string"
          },
          "task_type": {
            "title": "Task Type",
            "type": "string"
          }
        },
        "required": [
          "id",
          "content_id",
          "task",
          "task_type",
          "priority",
          "estimated_time",
          "completed",
          "created_at"
        ],
        "title": "FollowupTaskListItem",
        "type": "object"
      },
      "FollowupTaskListResponse": {
        "description": "Response for listing follow-up tasks.",
        "properties": {
          "tasks": {
            "items": {
              "$ref": "#/components/schemas/FollowupTaskListItem"
            },
            "title": "Tasks",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "total",
          "tasks"
        ],
        "title": "FollowupTaskListResponse",
        "type": "object"
      },
      "GitHubSyncRequest": {
        "description": "Request body for GitHub sync.",
        "properties": {
          "limit": {
            "default": 50,
            "title": "Limit",
            "type": "integer"
          }
        },
        "title": "GitHubSyncRequest",
        "type": "object"
      },
      "GraphEdge": {
        "description": "Lightweight edge for graph visualization.\n\nDesigned for bulk transfer in graph visualization responses where\nhundreds of edges may be returned. Contains only IDs and visual\nproperties - no display metadata to minimize payload size.\n\nFor detailed connection information with titles and context,\nsee NodeConnection which is used by the /connections endpoint.\n\nAttributes:\n    source: Source node ID\n    target: Target node ID\n    type: Relationship type (REFERENCES, RELATES_TO, etc.)\n    strength: Edge weight from 0.0 to 1.0 for visual thickness\n    label: Optional display label for the edge\n\nSee Also:\n    NodeConnection: Rich connection model with display metadata\n    GraphResponse: Uses GraphEdge for visualization data",
        "properties": {
          "label": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Label"
          },
          "source": {
            "title": "Source",
            "type": "string"
          },
          "strength": {
            "default": 1.0,
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Strength",
            "type": "number"
          },
          "target": {
            "title": "Target",
            "type": "string"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "source",
          "target",
          "type"
        ],
        "title": "GraphEdge",
        "type": "object"
      },
      "GraphNode": {
        "description": "Node in the knowledge graph visualization.\n\nRepresents a single entity (Content, Concept, or Note) in the graph\nwith properties needed for D3.js force-directed rendering.\n\nAttributes:\n    id: Unique node identifier (UUID or Neo4j ID)\n    label: Display title for the node\n    type: Node type - \"Content\", \"Concept\", or \"Note\"\n    content_type: For Content nodes, the specific type (paper, article, etc.)\n    size: Visual weight based on connection count (for node sizing)\n    color: Optional hex color code for custom styling\n    metadata: Additional properties (tags, etc.)",
        "properties": {
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional hex color code",
            "title": "Color"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "label": {
            "title": "Label",
            "type": "string"
          },
          "metadata": {
            "additionalProperties": true,
            "description": "Additional properties",
            "title": "Metadata",
            "type": "object"
          },
          "size": {
            "default": 1,
            "description": "Node size weight based on connections",
            "title": "Size",
            "type": "integer"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "id",
          "label",
          "type"
        ],
        "title": "GraphNode",
        "type": "object"
      },
      "GraphResponse": {
        "description": "Response containing graph data for visualization.\n\nReturns a subgraph suitable for rendering with D3.js or similar\nvisualization libraries. Includes metadata about the full graph size.\n\nAttributes:\n    nodes: List of nodes in the subgraph\n    edges: List of edges connecting the nodes\n    center_id: ID of the center node (if centered query)\n    total_nodes: Total nodes in the full graph (before limiting)\n    total_edges: Total edges in the returned subgraph",
        "properties": {
          "center_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Center Id"
          },
          "edges": {
            "items": {
              "$ref": "#/components/schemas/GraphEdge"
            },
            "title": "Edges",
            "type": "array"
          },
          "nodes": {
            "items": {
              "$ref": "#/components/schemas/GraphNode"
            },
            "title": "Nodes",
            "type": "array"
          },
          "total_edges": {
            "title": "Total Edges",
            "type": "integer"
          },
          "total_nodes": {
            "title": "Total Nodes",
            "type": "integer"
          }
        },
        "required": [
          "nodes",
          "edges",
          "total_nodes",
          "total_edges"
        ],
        "title": "GraphResponse",
        "type": "object"
      },
      "GraphStats": {
        "description": "Summary statistics for the knowledge graph.\n\nProvides aggregate metrics about the graph contents\nfor dashboard displays and health monitoring.\n\nAttributes:\n    total_content: Count of Content nodes\n    total_concepts: Count of Concept nodes\n    total_notes: Count of Note nodes\n    total_relationships: Count of all relationships\n    content_by_type: Breakdown of content by type (paper, article, etc.)",
        "properties": {
          "content_by_type": {
            "additionalProperties": {
              "type": "integer"
            },
            "title": "Content By Type",
            "type": "object"
          },
          "total_concepts": {
            "title": "Total Concepts",
            "type": "integer"
          },
          "total_content": {
            "title": "Total Content",
            "type": "integer"
          },
          "total_notes": {
            "title": "Total Notes",
            "type": "integer"
          },
          "total_relationships": {
            "title": "Total Relationships",
            "type": "integer"
          }
        },
        "required": [
          "total_content",
          "total_concepts",
          "total_notes",
          "total_relationships"
        ],
        "title": "GraphStats",
        "type": "object"
      },
      "GroupBy": {
        "description": "Grouping strategy for time-series analytics data.\n\nDetermines how time investment and other metrics are bucketed\nfor visualization and trend analysis.",
        "enum": [
          "day",
          "week",
          "month"
        ],
        "title": "GroupBy",
        "type": "string"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "InboxItemRequest": {
        "properties": {
          "date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Date"
          },
          "item": {
            "title": "Item",
            "type": "string"
          }
        },
        "required": [
          "item"
        ],
        "title": "InboxItemRequest",
        "type": "object"
      },
      "KnowledgeSearchResponse": {
        "description": "Response containing search results.\n\nAttributes:\n    results: List of matching results",
        "properties": {
          "results": {
            "items": {
              "$ref": "#/components/schemas/KnowledgeSearchResult"
            },
            "title": "Results",
            "type": "array"
          }
        },
        "required": [
          "results"
        ],
        "title": "KnowledgeSearchResponse",
        "type": "object"
      },
      "KnowledgeSearchResult": {
        "description": "A single search result from the knowledge base.\n\nAttributes:\n    id: Content or concept ID\n    title: Display title\n    snippet: Relevant text snippet\n    score: Relevance score (0-1)\n    type: Type of content (e.g., \"paper\", \"note\", \"concept\")",
        "properties": {
          "id": {
            "title": "Id",
            "type": "string"
          },
          "score": {
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score",
            "type": "number"
          },
          "snippet": {
            "title": "Snippet",
            "type": "string"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "snippet",
          "score",
          "type"
        ],
        "title": "KnowledgeSearchResult",
        "type": "object"
      },
      "LearningCurveDataPoint": {
        "description": "Single data point for learning curve.\n\nRepresents a daily snapshot of mastery metrics for time-series visualization.\nThe retention_estimate shows predicted recall probability, while cards_reviewed\nindicates study activity level for that day.\n\nNow includes exercise activity for comprehensive progress tracking.",
        "properties": {
          "card_time_minutes": {
            "default": 0,
            "description": "Time spent on card reviews in minutes",
            "title": "Card Time Minutes",
            "type": "integer"
          },
          "cards_reviewed": {
            "default": 0,
            "description": "Number of cards reviewed on this day",
            "title": "Cards Reviewed",
            "type": "integer"
          },
          "date": {
            "format": "date-time",
            "title": "Date",
            "type": "string"
          },
          "exercise_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Average exercise score for this day (0-100)",
            "title": "Exercise Score"
          },
          "exercise_time_minutes": {
            "default": 0,
            "description": "Time spent on exercises in minutes",
            "title": "Exercise Time Minutes",
            "type": "integer"
          },
          "exercises_attempted": {
            "default": 0,
            "description": "Number of exercise attempts on this day",
            "title": "Exercises Attempted",
            "type": "integer"
          },
          "mastery_score": {
            "title": "Mastery Score",
            "type": "number"
          },
          "retention_estimate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retention Estimate"
          },
          "time_minutes": {
            "default": 0,
            "description": "Total practice time in minutes",
            "title": "Time Minutes",
            "type": "integer"
          }
        },
        "required": [
          "date",
          "mastery_score"
        ],
        "title": "LearningCurveDataPoint",
        "type": "object"
      },
      "LearningCurveResponse": {
        "description": "Learning curve data for visualization.\n\nContains historical mastery data points for charting progress over time.\nThe trend indicator and 30-day projection help learners understand their\ntrajectory and estimate when they'll reach mastery milestones.",
        "properties": {
          "data_points": {
            "items": {
              "$ref": "#/components/schemas/LearningCurveDataPoint"
            },
            "title": "Data Points",
            "type": "array"
          },
          "projected_mastery_30d": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Projected Mastery 30D"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Topic or None for overall",
            "title": "Topic"
          },
          "trend": {
            "$ref": "#/components/schemas/MasteryTrend"
          }
        },
        "required": [
          "data_points",
          "trend"
        ],
        "title": "LearningCurveResponse",
        "type": "object"
      },
      "LogTimeRequest": {
        "additionalProperties": false,
        "description": "Request to log learning time.\n\nCaptures time spent on learning activities for analytics. Supports various\nactivity types (review, practice, reading, exercise) and can be linked to\nspecific content, topics, or practice sessions for detailed tracking.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "activity_type": {
            "description": "Type: review, practice, reading, exercise",
            "title": "Activity Type",
            "type": "string"
          },
          "content_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Id"
          },
          "ended_at": {
            "format": "date-time",
            "title": "Ended At",
            "type": "string"
          },
          "items_completed": {
            "default": 0,
            "minimum": 0.0,
            "title": "Items Completed",
            "type": "integer"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "started_at": {
            "format": "date-time",
            "title": "Started At",
            "type": "string"
          },
          "topic": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic"
          }
        },
        "required": [
          "activity_type",
          "started_at",
          "ended_at"
        ],
        "title": "LogTimeRequest",
        "type": "object"
      },
      "LogTimeResponse": {
        "description": "Response after logging time.\n\nConfirms the time log was recorded and returns the calculated duration.\nThe human-readable message provides quick feedback to the user about\nhow much time was logged.",
        "properties": {
          "duration_seconds": {
            "title": "Duration Seconds",
            "type": "integer"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "id",
          "duration_seconds",
          "message"
        ],
        "title": "LogTimeResponse",
        "type": "object"
      },
      "MasteryOverview": {
        "description": "Overall mastery statistics.\n\nProvides a dashboard view of learning progress across all topics. Card counts\nshow distribution across learning states (new, learning, mastered). The streak\ncounter motivates consistent daily practice through gamification.\n\nIncludes separate stats for spaced repetition cards and exercises to give\nusers clear visibility into both learning modalities.",
        "properties": {
          "exercises_attempts_total": {
            "default": 0,
            "description": "Total exercise attempts",
            "title": "Exercises Attempts Total",
            "type": "integer"
          },
          "exercises_avg_score": {
            "default": 0.0,
            "description": "Average score across all attempts",
            "title": "Exercises Avg Score",
            "type": "number"
          },
          "exercises_completed": {
            "default": 0,
            "description": "Exercises with at least one attempt",
            "title": "Exercises Completed",
            "type": "integer"
          },
          "exercises_mastered": {
            "default": 0,
            "description": "Exercises with avg score >= 80%",
            "title": "Exercises Mastered",
            "type": "integer"
          },
          "exercises_total": {
            "default": 0,
            "description": "Total exercises available",
            "title": "Exercises Total",
            "type": "integer"
          },
          "overall_mastery": {
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Overall Mastery",
            "type": "number"
          },
          "spaced_rep_cards_learning": {
            "default": 0,
            "description": "Cards in learning/relearning/review state",
            "title": "Spaced Rep Cards Learning",
            "type": "integer"
          },
          "spaced_rep_cards_mastered": {
            "default": 0,
            "description": "Cards with stability >= 21 days",
            "title": "Spaced Rep Cards Mastered",
            "type": "integer"
          },
          "spaced_rep_cards_new": {
            "default": 0,
            "description": "Cards never reviewed",
            "title": "Spaced Rep Cards New",
            "type": "integer"
          },
          "spaced_rep_cards_total": {
            "default": 0,
            "description": "Total spaced repetition cards",
            "title": "Spaced Rep Cards Total",
            "type": "integer"
          },
          "spaced_rep_reviews_total": {
            "default": 0,
            "description": "Total card reviews completed",
            "title": "Spaced Rep Reviews Total",
            "type": "integer"
          },
          "streak_days": {
            "default": 0,
            "description": "Consecutive practice days",
            "title": "Streak Days",
            "type": "integer"
          },
          "topics": {
            "items": {
              "$ref": "#/components/schemas/MasteryState"
            },
            "title": "Topics",
            "type": "array"
          },
          "total_practice_time_hours": {
            "default": 0.0,
            "title": "Total Practice Time Hours",
            "type": "number"
          }
        },
        "required": [
          "overall_mastery",
          "topics"
        ],
        "title": "MasteryOverview",
        "type": "object"
      },
      "MasteryQuestion": {
        "description": "Generated mastery question.\n\nMastery questions enable active recall and self-testing. If a user can\nanswer these questions from memory, they truly understand the material.\n\nAttributes:\n    id: Unique identifier\n    question: Clear, specific question text\n    question_type: Category (conceptual, application, analysis, synthesis)\n    difficulty: Level (foundational, intermediate, advanced)\n    hints: Progressive hints for struggling users\n    key_points: Key points a good answer should include\n    next_review_at: When to show again (spaced repetition)\n    review_count: Number of times reviewed\n    ease_factor: SM-2 ease factor for spaced repetition\n    created_at: When the question was created",
        "properties": {
          "created_at": {
            "description": "When the question was created",
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "difficulty": {
            "default": "intermediate",
            "description": "foundational, intermediate, advanced",
            "title": "Difficulty",
            "type": "string"
          },
          "ease_factor": {
            "default": 2.5,
            "description": "SM-2 ease factor for spaced repetition",
            "title": "Ease Factor",
            "type": "number"
          },
          "hints": {
            "description": "Progressive hints",
            "items": {
              "type": "string"
            },
            "title": "Hints",
            "type": "array"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "key_points": {
            "description": "Key points for a good answer",
            "items": {
              "type": "string"
            },
            "title": "Key Points",
            "type": "array"
          },
          "next_review_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "When to show again (spaced repetition)",
            "title": "Next Review At"
          },
          "question": {
            "description": "Clear, specific question",
            "title": "Question",
            "type": "string"
          },
          "question_type": {
            "default": "conceptual",
            "description": "conceptual, application, analysis, synthesis",
            "title": "Question Type",
            "type": "string"
          },
          "review_count": {
            "default": 0,
            "description": "Number of times reviewed",
            "title": "Review Count",
            "type": "integer"
          }
        },
        "required": [
          "question"
        ],
        "title": "MasteryQuestion",
        "type": "object"
      },
      "MasteryState": {
        "description": "Mastery state for a topic.\n\nCombines card-based metrics (stability, success rate) with practice history\nto estimate topic mastery. The retention_estimate predicts current recall\nprobability based on time since last review and card stability.\n\nNow includes separate card and exercise mastery for filtered views.",
        "properties": {
          "card_count": {
            "default": 0,
            "description": "Number of cards for this topic",
            "title": "Card Count",
            "type": "integer"
          },
          "card_mastery_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Card-based mastery score",
            "title": "Card Mastery Score"
          },
          "confidence_avg": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence Avg"
          },
          "days_since_review": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Days Since Review"
          },
          "exercise_count": {
            "default": 0,
            "description": "Number of exercises for this topic",
            "title": "Exercise Count",
            "type": "integer"
          },
          "exercise_mastery_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Exercise-based mastery score",
            "title": "Exercise Mastery Score"
          },
          "last_practiced": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Practiced"
          },
          "mastery_score": {
            "description": "Combined mastery score",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Mastery Score",
            "type": "number"
          },
          "practice_count": {
            "default": 0,
            "title": "Practice Count",
            "type": "integer"
          },
          "retention_estimate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Retention Estimate"
          },
          "success_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Success Rate"
          },
          "topic_path": {
            "title": "Topic Path",
            "type": "string"
          },
          "trend": {
            "$ref": "#/components/schemas/MasteryTrend",
            "default": "stable"
          }
        },
        "required": [
          "topic_path",
          "mastery_score"
        ],
        "title": "MasteryState",
        "type": "object"
      },
      "MasteryTrend": {
        "description": "Trend direction for mastery tracking.\n\nCalculated by comparing current mastery to previous snapshot:\n- delta > 0.05: IMPROVING\n- delta < -0.05: DECLINING\n- else: STABLE",
        "enum": [
          "improving",
          "stable",
          "declining"
        ],
        "title": "MasteryTrend",
        "type": "string"
      },
      "MessageInfo": {
        "description": "A single message in a conversation.\n\nAttributes:\n    id: Message unique identifier\n    role: Message role (user or assistant)\n    content: Message content\n    timestamp: When the message was sent",
        "properties": {
          "content": {
            "title": "Content",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "role": {
            "enum": [
              "user",
              "assistant"
            ],
            "title": "Role",
            "type": "string"
          },
          "timestamp": {
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          }
        },
        "required": [
          "id",
          "role",
          "content",
          "timestamp"
        ],
        "title": "MessageInfo",
        "type": "object"
      },
      "ModelBreakdown": {
        "description": "Usage breakdown by model.",
        "properties": {
          "cost_usd": {
            "title": "Cost Usd",
            "type": "number"
          },
          "model": {
            "title": "Model",
            "type": "string"
          },
          "request_count": {
            "title": "Request Count",
            "type": "integer"
          },
          "tokens": {
            "default": 0,
            "title": "Tokens",
            "type": "integer"
          }
        },
        "required": [
          "model",
          "cost_usd",
          "request_count"
        ],
        "title": "ModelBreakdown",
        "type": "object"
      },
      "MonthlyHistoryPoint": {
        "description": "Single month in monthly history.",
        "properties": {
          "cost_usd": {
            "title": "Cost Usd",
            "type": "number"
          },
          "month": {
            "title": "Month",
            "type": "integer"
          },
          "month_label": {
            "description": "Month label (e.g., 'Jan 2026')",
            "title": "Month Label",
            "type": "string"
          },
          "request_count": {
            "title": "Request Count",
            "type": "integer"
          },
          "tokens": {
            "title": "Tokens",
            "type": "integer"
          },
          "year": {
            "title": "Year",
            "type": "integer"
          }
        },
        "required": [
          "year",
          "month",
          "month_label",
          "cost_usd",
          "request_count",
          "tokens"
        ],
        "title": "MonthlyHistoryPoint",
        "type": "object"
      },
      "MonthlyHistoryResponse": {
        "description": "Monthly aggregated usage data response.",
        "properties": {
          "avg_monthly_cost": {
            "title": "Avg Monthly Cost",
            "type": "number"
          },
          "monthly_data": {
            "items": {
              "$ref": "#/components/schemas/MonthlyHistoryPoint"
            },
            "title": "Monthly Data",
            "type": "array"
          },
          "period_months": {
            "title": "Period Months",
            "type": "integer"
          },
          "total_cost_usd": {
            "title": "Total Cost Usd",
            "type": "number"
          },
          "total_requests": {
            "title": "Total Requests",
            "type": "integer"
          },
          "total_tokens": {
            "title": "Total Tokens",
            "type": "integer"
          }
        },
        "required": [
          "period_months",
          "total_cost_usd",
          "total_requests",
          "total_tokens",
          "monthly_data",
          "avg_monthly_cost"
        ],
        "title": "MonthlyHistoryResponse",
        "type": "object"
      },
      "MonthlyUsageResponse": {
        "description": "Monthly usage summary response.",
        "properties": {
          "by_day": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "By Day",
            "type": "array"
          },
          "by_model": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "By Model",
            "type": "object"
          },
          "month": {
            "title": "Month",
            "type": "integer"
          },
          "request_count": {
            "title": "Request Count",
            "type": "integer"
          },
          "total_cost_usd": {
            "title": "Total Cost Usd",
            "type": "number"
          },
          "total_tokens": {
            "title": "Total Tokens",
            "type": "integer"
          },
          "year": {
            "title": "Year",
            "type": "integer"
          }
        },
        "required": [
          "year",
          "month",
          "total_cost_usd",
          "request_count",
          "total_tokens",
          "by_day",
          "by_model"
        ],
        "title": "MonthlyUsageResponse",
        "type": "object"
      },
      "NodeConnection": {
        "description": "Rich connection model with display metadata.\n\nUsed by the /connections/{node_id} endpoint to return detailed\ninformation about a node's relationships. Includes display-ready\nmetadata (titles, types, context) so the UI can render connection\nlists without additional lookups.\n\nFor bulk graph visualization where payload size matters,\nsee GraphEdge which contains only IDs and visual properties.\n\nNote: Named NodeConnection to distinguish from app.models.processing.Connection\nwhich represents LLM-discovered connections during content processing.\n\nAttributes:\n    source_id: Source node ID\n    target_id: Target node ID\n    target_title: Title of the connected node (for display)\n    target_type: Type of the connected node (Content, Concept, Note)\n    relationship: Relationship type (REFERENCES, RELATES_TO, etc.)\n    strength: Connection strength from 0.0 to 1.0\n    context: Optional explanation of why they're connected\n\nSee Also:\n    GraphEdge: Lightweight edge for visualization (IDs only)\n    ConnectionsResponse: Uses NodeConnection for detailed queries",
        "properties": {
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "relationship": {
            "title": "Relationship",
            "type": "string"
          },
          "source_id": {
            "title": "Source Id",
            "type": "string"
          },
          "strength": {
            "default": 1.0,
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Strength",
            "type": "number"
          },
          "target_id": {
            "title": "Target Id",
            "type": "string"
          },
          "target_title": {
            "title": "Target Title",
            "type": "string"
          },
          "target_type": {
            "title": "Target Type",
            "type": "string"
          }
        },
        "required": [
          "source_id",
          "target_id",
          "target_title",
          "target_type",
          "relationship"
        ],
        "title": "NodeConnection",
        "type": "object"
      },
      "NodeDetails": {
        "description": "Detailed information about a single node.\n\nReturns comprehensive metadata for a node detail view,\nincluding content summary, tags, and connection count.\n\nAttributes:\n    id: Node identifier\n    label: Display title\n    type: Node type (Content, Concept, Note)\n    content_type: Specific content type if applicable\n    summary: Brief summary text\n    tags: List of associated tags\n    source_url: Original source URL if applicable\n    created_at: Creation timestamp (ISO 8601)\n    connections: Count of connected nodes\n    file_path: Obsidian vault file path if applicable\n    name: Alternative name field (for Concepts)",
        "properties": {
          "connections": {
            "default": 0,
            "title": "Connections",
            "type": "integer"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "file_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Path"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "label": {
            "title": "Label",
            "type": "string"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "id",
          "label",
          "type"
        ],
        "title": "NodeDetails",
        "type": "object"
      },
      "NoteContent": {
        "description": "Full note content with metadata.",
        "properties": {
          "content": {
            "title": "Content",
            "type": "string"
          },
          "frontmatter": {
            "additionalProperties": true,
            "default": {},
            "title": "Frontmatter",
            "type": "object"
          },
          "modified": {
            "format": "date-time",
            "title": "Modified",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "path": {
            "title": "Path",
            "type": "string"
          },
          "size": {
            "title": "Size",
            "type": "integer"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "required": [
          "path",
          "name",
          "content",
          "modified",
          "size"
        ],
        "title": "NoteContent",
        "type": "object"
      },
      "NoteInfo": {
        "description": "Summary info for a note in the vault.",
        "properties": {
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type"
          },
          "folder": {
            "title": "Folder",
            "type": "string"
          },
          "modified": {
            "format": "date-time",
            "title": "Modified",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "path": {
            "title": "Path",
            "type": "string"
          },
          "size": {
            "title": "Size",
            "type": "integer"
          },
          "tags": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "required": [
          "path",
          "name",
          "folder",
          "modified",
          "size"
        ],
        "title": "NoteInfo",
        "type": "object"
      },
      "NotesListResponse": {
        "description": "Paginated list of notes.",
        "properties": {
          "has_more": {
            "title": "Has More",
            "type": "boolean"
          },
          "notes": {
            "items": {
              "$ref": "#/components/schemas/NoteInfo"
            },
            "title": "Notes",
            "type": "array"
          },
          "page": {
            "title": "Page",
            "type": "integer"
          },
          "page_size": {
            "title": "Page Size",
            "type": "integer"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "notes",
          "total",
          "page",
          "page_size",
          "has_more"
        ],
        "title": "NotesListResponse",
        "type": "object"
      },
      "PendingContentItem": {
        "description": "A content item pending processing.",
        "properties": {
          "content_id": {
            "title": "Content Id",
            "type": "string"
          },
          "content_type": {
            "title": "Content Type",
            "type": "string"
          },
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "source_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source Url"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "content_id",
          "title",
          "content_type",
          "status",
          "created_at"
        ],
        "title": "PendingContentItem",
        "type": "object"
      },
      "PendingContentResponse": {
        "description": "Response with list of pending content items.",
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/PendingContentItem"
            },
            "title": "Items",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "total",
          "items"
        ],
        "title": "PendingContentResponse",
        "type": "object"
      },
      "PipelineBreakdown": {
        "description": "Usage breakdown by pipeline.",
        "properties": {
          "cost_usd": {
            "title": "Cost Usd",
            "type": "number"
          },
          "pipeline": {
            "title": "Pipeline",
            "type": "string"
          },
          "request_count": {
            "title": "Request Count",
            "type": "integer"
          }
        },
        "required": [
          "pipeline",
          "cost_usd",
          "request_count"
        ],
        "title": "PipelineBreakdown",
        "type": "object"
      },
      "PracticeHistoryDay": {
        "description": "Single day of practice history for activity heatmap.\n\nContains practice activity metrics for one day, used to render\nGitHub-style activity heatmaps on the dashboard.",
        "properties": {
          "count": {
            "default": 0,
            "description": "Number of practice items completed",
            "title": "Count",
            "type": "integer"
          },
          "date": {
            "format": "date",
            "title": "Date",
            "type": "string"
          },
          "level": {
            "default": 0,
            "description": "Activity level 0-4 for heatmap coloring",
            "maximum": 4.0,
            "minimum": 0.0,
            "title": "Level",
            "type": "integer"
          },
          "minutes": {
            "default": 0,
            "description": "Total practice minutes",
            "title": "Minutes",
            "type": "integer"
          }
        },
        "required": [
          "date"
        ],
        "title": "PracticeHistoryDay",
        "type": "object"
      },
      "PracticeHistoryResponse": {
        "description": "Practice history for activity heatmap visualization.\n\nReturns daily practice activity over a configurable time range,\ntypically 26 or 52 weeks. Used to render a contribution-style\nheatmap showing practice consistency over time.",
        "properties": {
          "days": {
            "items": {
              "$ref": "#/components/schemas/PracticeHistoryDay"
            },
            "title": "Days",
            "type": "array"
          },
          "max_daily_count": {
            "default": 0,
            "description": "Maximum items in a single day",
            "title": "Max Daily Count",
            "type": "integer"
          },
          "total_items": {
            "default": 0,
            "description": "Total items practiced",
            "title": "Total Items",
            "type": "integer"
          },
          "total_practice_days": {
            "default": 0,
            "description": "Days with at least one practice",
            "title": "Total Practice Days",
            "type": "integer"
          }
        },
        "title": "PracticeHistoryResponse",
        "type": "object"
      },
      "ProcessingConfigRequest": {
        "additionalProperties": false,
        "description": "Configuration options for processing request.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "assign_tags": {
            "default": true,
            "title": "Assign Tags",
            "type": "boolean"
          },
          "create_neo4j_nodes": {
            "default": true,
            "title": "Create Neo4J Nodes",
            "type": "boolean"
          },
          "create_obsidian_note": {
            "default": true,
            "title": "Create Obsidian Note",
            "type": "boolean"
          },
          "discover_connections": {
            "default": true,
            "title": "Discover Connections",
            "type": "boolean"
          },
          "extract_concepts": {
            "default": true,
            "title": "Extract Concepts",
            "type": "boolean"
          },
          "generate_cards": {
            "default": true,
            "title": "Generate Cards",
            "type": "boolean"
          },
          "generate_exercises": {
            "default": true,
            "title": "Generate Exercises",
            "type": "boolean"
          },
          "generate_followups": {
            "default": true,
            "title": "Generate Followups",
            "type": "boolean"
          },
          "generate_questions": {
            "default": true,
            "title": "Generate Questions",
            "type": "boolean"
          },
          "generate_summaries": {
            "default": true,
            "title": "Generate Summaries",
            "type": "boolean"
          },
          "validate_output": {
            "default": true,
            "title": "Validate Output",
            "type": "boolean"
          }
        },
        "title": "ProcessingConfigRequest",
        "type": "object"
      },
      "ProcessingResultResponse": {
        "description": "Response with full processing result.",
        "properties": {
          "analysis": {
            "$ref": "#/components/schemas/ContentAnalysis"
          },
          "connections": {
            "items": {
              "$ref": "#/components/schemas/Connection"
            },
            "title": "Connections",
            "type": "array"
          },
          "content_id": {
            "title": "Content Id",
            "type": "string"
          },
          "estimated_cost_usd": {
            "title": "Estimated Cost Usd",
            "type": "number"
          },
          "extraction": {
            "$ref": "#/components/schemas/ExtractionResult"
          },
          "followups": {
            "items": {
              "$ref": "#/components/schemas/FollowupTask"
            },
            "title": "Followups",
            "type": "array"
          },
          "neo4j_node_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Neo4J Node Id"
          },
          "obsidian_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Obsidian Path"
          },
          "processing_time_seconds": {
            "title": "Processing Time Seconds",
            "type": "number"
          },
          "questions": {
            "items": {
              "$ref": "#/components/schemas/MasteryQuestion"
            },
            "title": "Questions",
            "type": "array"
          },
          "summaries": {
            "additionalProperties": {
              "type": "string"
            },
            "title": "Summaries",
            "type": "object"
          },
          "tags": {
            "$ref": "#/components/schemas/TagAssignment"
          }
        },
        "required": [
          "content_id",
          "analysis",
          "summaries",
          "extraction",
          "tags",
          "connections",
          "followups",
          "questions",
          "processing_time_seconds",
          "estimated_cost_usd"
        ],
        "title": "ProcessingResultResponse",
        "type": "object"
      },
      "ProcessingStage": {
        "description": "Processing pipeline stages that can be selectively run.",
        "enum": [
          "ANALYSIS",
          "SUMMARIZATION",
          "EXTRACTION",
          "TAGGING",
          "CONNECTIONS",
          "FOLLOWUPS",
          "QUESTIONS"
        ],
        "title": "ProcessingStage",
        "type": "string"
      },
      "ProcessingStatusResponse": {
        "description": "Response for processing status check.",
        "properties": {
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "content_id": {
            "title": "Content Id",
            "type": "string"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "estimated_cost_usd": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Cost Usd"
          },
          "processing_time_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processing Time Seconds"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status",
          "content_id"
        ],
        "title": "ProcessingStatusResponse",
        "type": "object"
      },
      "PromptSuggestion": {
        "description": "A suggested prompt for the user.\n\nAttributes:\n    text: Suggested prompt text\n    category: Category of the suggestion (e.g., \"review\", \"explore\", \"learn\")\n    topic_id: Optional related topic ID",
        "properties": {
          "category": {
            "title": "Category",
            "type": "string"
          },
          "text": {
            "title": "Text",
            "type": "string"
          },
          "topic_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Topic Id"
          }
        },
        "required": [
          "text",
          "category"
        ],
        "title": "PromptSuggestion",
        "type": "object"
      },
      "QuizQuestion": {
        "description": "A single quiz question.\n\nAttributes:\n    id: Question unique identifier\n    question: Question text\n    options: Multiple choice options (if applicable)\n    type: Question type",
        "properties": {
          "id": {
            "title": "Id",
            "type": "string"
          },
          "options": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Options"
          },
          "question": {
            "title": "Question",
            "type": "string"
          },
          "type": {
            "enum": [
              "multiple_choice",
              "free_response"
            ],
            "title": "Type",
            "type": "string"
          }
        },
        "required": [
          "id",
          "question",
          "type"
        ],
        "title": "QuizQuestion",
        "type": "object"
      },
      "QuizRequest": {
        "additionalProperties": false,
        "description": "Request to generate a quiz.\n\nAttributes:\n    topic_id: Topic ID to generate quiz for\n    question_count: Number of questions to generate\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "question_count": {
            "default": 5,
            "maximum": 20.0,
            "minimum": 1.0,
            "title": "Question Count",
            "type": "integer"
          },
          "topic_id": {
            "title": "Topic Id",
            "type": "string"
          }
        },
        "required": [
          "topic_id"
        ],
        "title": "QuizRequest",
        "type": "object"
      },
      "QuizResponse": {
        "description": "Generated quiz response.\n\nAttributes:\n    quiz_id: Unique identifier for this quiz\n    topic: Topic name\n    questions: List of quiz questions",
        "properties": {
          "questions": {
            "items": {
              "$ref": "#/components/schemas/QuizQuestion"
            },
            "title": "Questions",
            "type": "array"
          },
          "quiz_id": {
            "title": "Quiz Id",
            "type": "string"
          },
          "topic": {
            "title": "Topic",
            "type": "string"
          }
        },
        "required": [
          "quiz_id",
          "topic",
          "questions"
        ],
        "title": "QuizResponse",
        "type": "object"
      },
      "RaindropSyncRequest": {
        "description": "Request body for Raindrop sync.",
        "properties": {
          "collection_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "default": 0,
            "title": "Collection Id"
          },
          "limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit"
          },
          "since_days": {
            "default": 1,
            "title": "Since Days",
            "type": "integer"
          }
        },
        "title": "RaindropSyncRequest",
        "type": "object"
      },
      "Rating": {
        "description": "FSRS review ratings.\n\nUser self-assessment after reviewing a card or completing an exercise.\nMaps to FSRS algorithm parameters for scheduling.",
        "enum": [
          1,
          2,
          3,
          4
        ],
        "title": "Rating",
        "type": "integer"
      },
      "RecommendationsResponse": {
        "description": "Response containing study recommendations.\n\nAttributes:\n    recommendations: List of recommended topics",
        "properties": {
          "recommendations": {
            "items": {
              "$ref": "#/components/schemas/StudyRecommendation"
            },
            "title": "Recommendations",
            "type": "array"
          }
        },
        "required": [
          "recommendations"
        ],
        "title": "RecommendationsResponse",
        "type": "object"
      },
      "RelatedConcept": {
        "description": "A concept related to the explained topic.\n\nAttributes:\n    id: Concept ID\n    name: Concept name",
        "properties": {
          "id": {
            "title": "Id",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name"
        ],
        "title": "RelatedConcept",
        "type": "object"
      },
      "ReviewForecast": {
        "description": "Forecast of upcoming reviews.\n\nProvides a breakdown of review workload to help users plan their study sessions.\nOverdue cards should be prioritized, while the weekly forecast helps set\nexpectations for sustained learning commitment.",
        "properties": {
          "later": {
            "default": 0,
            "title": "Later",
            "type": "integer"
          },
          "overdue": {
            "default": 0,
            "title": "Overdue",
            "type": "integer"
          },
          "this_week": {
            "default": 0,
            "title": "This Week",
            "type": "integer"
          },
          "today": {
            "default": 0,
            "title": "Today",
            "type": "integer"
          },
          "tomorrow": {
            "default": 0,
            "title": "Tomorrow",
            "type": "integer"
          }
        },
        "title": "ReviewForecast",
        "type": "object"
      },
      "SearchRequest": {
        "additionalProperties": false,
        "description": "Search query parameters.\n\nConfigures semantic search across the knowledge graph\nwith filtering and scoring options.\n\nAttributes:\n    query: Search query text (1-500 characters)\n    node_types: Types to search (default: Content, Concept)\n    limit: Maximum results to return (1-100, default: 20)\n    min_score: Minimum relevance score threshold (0-1, default: 0.5)\n    use_vector: Whether to use vector/embedding search when available\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "limit": {
            "default": 20,
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Limit",
            "type": "integer"
          },
          "min_score": {
            "default": 0.5,
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Min Score",
            "type": "number"
          },
          "node_types": {
            "default": [
              "Content",
              "Concept"
            ],
            "items": {
              "type": "string"
            },
            "title": "Node Types",
            "type": "array"
          },
          "query": {
            "maxLength": 500,
            "minLength": 1,
            "title": "Query",
            "type": "string"
          },
          "use_vector": {
            "default": true,
            "description": "Use vector search when available",
            "title": "Use Vector",
            "type": "boolean"
          }
        },
        "required": [
          "query"
        ],
        "title": "SearchRequest",
        "type": "object"
      },
      "SearchResponse": {
        "description": "Search results response.\n\nContains ranked search results with query echo\nand performance metrics.\n\nAttributes:\n    query: Original search query\n    results: List of matching results, ranked by score\n    total: Total number of results returned\n    search_time_ms: Search execution time in milliseconds",
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/SearchResult"
            },
            "title": "Results",
            "type": "array"
          },
          "search_time_ms": {
            "title": "Search Time Ms",
            "type": "number"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": [
          "query",
          "results",
          "total",
          "search_time_ms"
        ],
        "title": "SearchResponse",
        "type": "object"
      },
      "SearchResult": {
        "description": "Single search result with relevance score.\n\nRepresents a matched node from semantic or keyword search\nwith scoring and optional highlight snippets.\n\nAttributes:\n    id: Node identifier\n    node_type: Type of matched node (Content, Concept, Note)\n    title: Display title\n    summary: Brief summary or excerpt\n    score: Relevance score from 0.0 to 1.0\n    highlights: Matching text snippets (for keyword search)",
        "properties": {
          "highlights": {
            "items": {
              "type": "string"
            },
            "title": "Highlights",
            "type": "array"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "node_type": {
            "title": "Node Type",
            "type": "string"
          },
          "score": {
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score",
            "type": "number"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "id",
          "node_type",
          "title",
          "score"
        ],
        "title": "SearchResult",
        "type": "object"
      },
      "SessionContentMode": {
        "description": "What types of content to include in a session.\n\nControls whether sessions contain exercises, spaced rep cards, or both.\nUsed to customize the learning experience based on user preference.",
        "enum": [
          "both",
          "exercises_only",
          "cards_only"
        ],
        "title": "SessionContentMode",
        "type": "string"
      },
      "SessionCreateRequest": {
        "additionalProperties": false,
        "description": "Request to create a practice session with configurable content mix.\n\nSession composition is controlled by:\n- content_mode: What to include (exercises, cards, or both)\n- exercise_source: How to source exercises (existing, generate, or both)\n- card_source: How to source cards (due cards, generate new, or both)\n- Time allocation ratios for exercises vs cards\n\nDefaults are configured in settings but can be overridden per-request.\nThe topic_filter focuses the session on a specific area.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "card_source": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ContentSourcePreference"
              },
              {
                "type": "null"
              }
            ],
            "description": "How to source cards: 'prefer_existing', 'generate_new', 'existing_only'. Uses SESSION_DEFAULT_CARD_SOURCE if not specified."
          },
          "content_mode": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SessionContentMode"
              },
              {
                "type": "null"
              }
            ],
            "description": "What to include: 'both', 'exercises_only', 'cards_only'. Uses SESSION_DEFAULT_CONTENT_MODE if not specified."
          },
          "duration_minutes": {
            "default": 15,
            "description": "Target duration",
            "maximum": 120.0,
            "minimum": 5.0,
            "title": "Duration Minutes",
            "type": "integer"
          },
          "exercise_ratio": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Ratio of time for exercises (0-1). Card ratio is 1 - this value. Uses settings defaults if not specified.",
            "title": "Exercise Ratio"
          },
          "exercise_source": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ContentSourcePreference"
              },
              {
                "type": "null"
              }
            ],
            "description": "How to source exercises: 'prefer_existing', 'generate_new', 'existing_only'. Uses SESSION_DEFAULT_EXERCISE_SOURCE if not specified."
          },
          "session_type": {
            "$ref": "#/components/schemas/SessionType",
            "default": "practice"
          },
          "topic_filter": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional topic to focus on",
            "title": "Topic Filter"
          }
        },
        "title": "SessionCreateRequest",
        "type": "object"
      },
      "SessionItem": {
        "description": "Single item in a practice session (card or exercise).\n\nWraps either a spaced repetition card or an exercise with timing metadata.\nThe session service interleaves these items for optimal learning, placing\nworked examples first (scaffolding) then shuffling remaining items (interleaving).",
        "properties": {
          "card": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CardResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "estimated_minutes": {
            "default": 2.0,
            "title": "Estimated Minutes",
            "type": "number"
          },
          "exercise": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ExerciseResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "item_type": {
            "description": "'card' or 'exercise'",
            "title": "Item Type",
            "type": "string"
          }
        },
        "required": [
          "item_type"
        ],
        "title": "SessionItem",
        "type": "object"
      },
      "SessionResponse": {
        "description": "Practice session with items.\n\nContains the ordered list of items to complete during the session. Items are\ninterleaved for optimal learning with worked examples placed first. The\nestimated duration helps users plan their available study time.",
        "properties": {
          "estimated_duration_minutes": {
            "title": "Estimated Duration Minutes",
            "type": "number"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/SessionItem"
            },
            "title": "Items",
            "type": "array"
          },
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          },
          "session_type": {
            "$ref": "#/components/schemas/SessionType"
          },
          "topics_covered": {
            "items": {
              "type": "string"
            },
            "title": "Topics Covered",
            "type": "array"
          }
        },
        "required": [
          "session_id",
          "items",
          "estimated_duration_minutes",
          "topics_covered",
          "session_type"
        ],
        "title": "SessionResponse",
        "type": "object"
      },
      "SessionSummary": {
        "description": "Summary after completing a session.\n\nProvides performance metrics and mastery changes from the session. The\nmastery_changes dict shows how each practiced topic's mastery score changed,\nhelping learners see the impact of their study session.",
        "properties": {
          "average_score": {
            "title": "Average Score",
            "type": "number"
          },
          "cards_reviewed": {
            "title": "Cards Reviewed",
            "type": "integer"
          },
          "correct_count": {
            "title": "Correct Count",
            "type": "integer"
          },
          "duration_minutes": {
            "title": "Duration Minutes",
            "type": "number"
          },
          "exercises_completed": {
            "title": "Exercises Completed",
            "type": "integer"
          },
          "mastery_changes": {
            "additionalProperties": {
              "type": "number"
            },
            "description": "Topic -> mastery delta",
            "title": "Mastery Changes",
            "type": "object"
          },
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          },
          "total_count": {
            "title": "Total Count",
            "type": "integer"
          }
        },
        "required": [
          "session_id",
          "duration_minutes",
          "cards_reviewed",
          "exercises_completed",
          "correct_count",
          "total_count",
          "average_score"
        ],
        "title": "SessionSummary",
        "type": "object"
      },
      "SessionType": {
        "description": "Types of practice sessions.",
        "enum": [
          "review",
          "practice",
          "focused",
          "weak_spots"
        ],
        "title": "SessionType",
        "type": "string"
      },
      "SourceReference": {
        "description": "A source referenced by the assistant in its response.\n\nAttributes:\n    id: Content or concept ID\n    title: Display title\n    relevance: Relevance score (0-1)",
        "properties": {
          "id": {
            "title": "Id",
            "type": "string"
          },
          "relevance": {
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Relevance",
            "type": "number"
          },
          "title": {
            "title": "Title",
            "type": "string"
          }
        },
        "required": [
          "id",
          "title",
          "relevance"
        ],
        "title": "SourceReference",
        "type": "object"
      },
      "StreakData": {
        "description": "Practice streak information.\n\nTracks consecutive days of practice to motivate consistent learning habits.\nIncludes current and longest streaks, milestone tracking, and weekly/monthly\nactivity counts. Gamification element that encourages daily engagement.",
        "properties": {
          "current_streak": {
            "title": "Current Streak",
            "type": "integer"
          },
          "days_this_month": {
            "title": "Days This Month",
            "type": "integer"
          },
          "days_this_week": {
            "title": "Days This Week",
            "type": "integer"
          },
          "is_active_today": {
            "title": "Is Active Today",
            "type": "boolean"
          },
          "last_practice": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Practice"
          },
          "longest_streak": {
            "title": "Longest Streak",
            "type": "integer"
          },
          "milestones_reached": {
            "items": {
              "type": "integer"
            },
            "title": "Milestones Reached",
            "type": "array"
          },
          "next_milestone": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Milestone"
          },
          "streak_start": {
            "anyOf": [
              {
                "format": "date",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Streak Start"
          }
        },
        "required": [
          "current_streak",
          "longest_streak",
          "is_active_today",
          "days_this_week",
          "days_this_month"
        ],
        "title": "StreakData",
        "type": "object"
      },
      "StudyRecommendation": {
        "description": "A personalized study recommendation.\n\nAttributes:\n    topic_id: ID of the recommended topic\n    topic_name: Display name of the topic\n    reason: Why this topic is recommended\n    priority: Recommendation priority",
        "properties": {
          "priority": {
            "enum": [
              "high",
              "medium",
              "low"
            ],
            "title": "Priority",
            "type": "string"
          },
          "reason": {
            "title": "Reason",
            "type": "string"
          },
          "topic_id": {
            "title": "Topic Id",
            "type": "string"
          },
          "topic_name": {
            "title": "Topic Name",
            "type": "string"
          }
        },
        "required": [
          "topic_id",
          "topic_name",
          "reason",
          "priority"
        ],
        "title": "StudyRecommendation",
        "type": "object"
      },
      "SuggestionsResponse": {
        "description": "Response containing prompt suggestions.\n\nAttributes:\n    suggestions: List of suggested prompts",
        "properties": {
          "suggestions": {
            "items": {
              "$ref": "#/components/schemas/PromptSuggestion"
            },
            "title": "Suggestions",
            "type": "array"
          }
        },
        "required": [
          "suggestions"
        ],
        "title": "SuggestionsResponse",
        "type": "object"
      },
      "TagAssignment": {
        "description": "Result of tag classification stage.\n\nTags are assigned from a controlled vocabulary (tag taxonomy) to ensure\nconsistency across the knowledge base. Tags enable filtering, grouping,\nand discovering content by domain, status, or quality level.\n\nAttributes:\n    domain_tags: Tags from the domain taxonomy (e.g., ml/transformers/attention)\n    meta_tags: Status and quality tags (e.g., status/actionable, quality/deep-dive)\n    suggested_new_tags: Tags suggested if taxonomy has gaps\n    reasoning: Brief explanation of tag choices",
        "properties": {
          "domain_tags": {
            "items": {
              "type": "string"
            },
            "title": "Domain Tags",
            "type": "array"
          },
          "meta_tags": {
            "items": {
              "type": "string"
            },
            "title": "Meta Tags",
            "type": "array"
          },
          "reasoning": {
            "default": "",
            "title": "Reasoning",
            "type": "string"
          },
          "suggested_new_tags": {
            "items": {
              "type": "string"
            },
            "title": "Suggested New Tags",
            "type": "array"
          }
        },
        "title": "TagAssignment",
        "type": "object"
      },
      "TimeInvestmentPeriod": {
        "description": "Time investment for a specific period.\n\nRepresents aggregated learning time within a time window, broken down by topic\nand activity type. Used for building time-series visualizations of study habits.",
        "properties": {
          "by_activity": {
            "additionalProperties": {
              "type": "number"
            },
            "title": "By Activity",
            "type": "object"
          },
          "by_topic": {
            "additionalProperties": {
              "type": "number"
            },
            "title": "By Topic",
            "type": "object"
          },
          "period_end": {
            "format": "date-time",
            "title": "Period End",
            "type": "string"
          },
          "period_start": {
            "format": "date-time",
            "title": "Period Start",
            "type": "string"
          },
          "total_minutes": {
            "title": "Total Minutes",
            "type": "number"
          }
        },
        "required": [
          "period_start",
          "period_end",
          "total_minutes"
        ],
        "title": "TimeInvestmentPeriod",
        "type": "object"
      },
      "TimeInvestmentResponse": {
        "description": "Time investment summary response.\n\nProvides comprehensive time tracking data including period breakdowns, top topics\nby time spent, daily average, and trend analysis. Powers the time investment\ndashboard for understanding study patterns and consistency.",
        "properties": {
          "daily_average": {
            "title": "Daily Average",
            "type": "number"
          },
          "periods": {
            "items": {
              "$ref": "#/components/schemas/TimeInvestmentPeriod"
            },
            "title": "Periods",
            "type": "array"
          },
          "top_topics": {
            "items": {
              "maxItems": 2,
              "minItems": 2,
              "prefixItems": [
                {
                  "type": "string"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array"
            },
            "title": "Top Topics",
            "type": "array"
          },
          "total_minutes": {
            "title": "Total Minutes",
            "type": "number"
          },
          "trend": {
            "title": "Trend",
            "type": "string"
          }
        },
        "required": [
          "total_minutes",
          "periods",
          "daily_average",
          "trend"
        ],
        "title": "TimeInvestmentResponse",
        "type": "object"
      },
      "TimePeriod": {
        "description": "Time periods for analytics queries.\n\nUsed by time investment and other analytics endpoints to specify\nthe date range for data aggregation.",
        "enum": [
          "7d",
          "30d",
          "90d",
          "1y",
          "all"
        ],
        "title": "TimePeriod",
        "type": "string"
      },
      "TopConsumersResponse": {
        "description": "Top consumers of LLM resources.",
        "properties": {
          "by_model": {
            "items": {
              "$ref": "#/components/schemas/ModelBreakdown"
            },
            "title": "By Model",
            "type": "array"
          },
          "by_operation": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "By Operation",
            "type": "array"
          },
          "by_pipeline": {
            "items": {
              "$ref": "#/components/schemas/PipelineBreakdown"
            },
            "title": "By Pipeline",
            "type": "array"
          }
        },
        "required": [
          "by_model",
          "by_pipeline",
          "by_operation"
        ],
        "title": "TopConsumersResponse",
        "type": "object"
      },
      "TopicHierarchyResponse": {
        "description": "Full topic hierarchy response.\n\nReturns the complete topic tree for navigation\nwith aggregate statistics.\n\nAttributes:\n    roots: Root-level topic nodes\n    total_topics: Total number of topics in the tree\n    max_depth: Maximum depth of the tree",
        "properties": {
          "max_depth": {
            "title": "Max Depth",
            "type": "integer"
          },
          "roots": {
            "items": {
              "$ref": "#/components/schemas/TopicNode"
            },
            "title": "Roots",
            "type": "array"
          },
          "total_topics": {
            "title": "Total Topics",
            "type": "integer"
          }
        },
        "required": [
          "roots",
          "total_topics",
          "max_depth"
        ],
        "title": "TopicHierarchyResponse",
        "type": "object"
      },
      "TopicNode": {
        "description": "A node in the topic hierarchy tree.\n\nTopics are organized hierarchically using slash-separated paths\n(e.g., \"ml/deep-learning/transformers\"). This model supports\nrecursive tree structures for navigation UIs.\n\nAttributes:\n    path: Full topic path (e.g., \"ml/deep-learning/transformers\")\n    name: Leaf name (e.g., \"transformers\")\n    depth: Depth in tree (0 = root)\n    content_count: Number of content items with this topic\n    children: Child topic nodes\n    mastery_score: Optional mastery score if user has learning data",
        "properties": {
          "children": {
            "items": {
              "$ref": "#/components/schemas/TopicNode"
            },
            "title": "Children",
            "type": "array"
          },
          "content_count": {
            "title": "Content Count",
            "type": "integer"
          },
          "depth": {
            "title": "Depth",
            "type": "integer"
          },
          "mastery_score": {
            "anyOf": [
              {
                "maximum": 1.0,
                "minimum": 0.0,
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "User mastery score for this topic",
            "title": "Mastery Score"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "path": {
            "title": "Path",
            "type": "string"
          }
        },
        "required": [
          "path",
          "name",
          "depth",
          "content_count"
        ],
        "title": "TopicNode",
        "type": "object"
      },
      "TriggerProcessingRequest": {
        "additionalProperties": false,
        "description": "Request body for triggering processing.\n\nNote: Uses StrictRequest - unknown fields will be rejected with 422.",
        "properties": {
          "config": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ProcessingConfigRequest"
              },
              {
                "type": "null"
              }
            ]
          },
          "content_id": {
            "description": "UUID of content to process",
            "title": "Content Id",
            "type": "string"
          }
        },
        "required": [
          "content_id"
        ],
        "title": "TriggerProcessingRequest",
        "type": "object"
      },
      "TriggerProcessingResponse": {
        "description": "Response for processing trigger.",
        "properties": {
          "content_id": {
            "title": "Content Id",
            "type": "string"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "status",
          "content_id",
          "message"
        ],
        "title": "TriggerProcessingResponse",
        "type": "object"
      },
      "UpdateFollowupRequest": {
        "additionalProperties": false,
        "description": "Request body for updating a follow-up task.",
        "properties": {
          "completed": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed"
          }
        },
        "title": "UpdateFollowupRequest",
        "type": "object"
      },
      "UpdateFollowupResponse": {
        "description": "Response for updating a follow-up task.",
        "properties": {
          "completed": {
            "title": "Completed",
            "type": "boolean"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "message": {
            "title": "Message",
            "type": "string"
          }
        },
        "required": [
          "id",
          "completed",
          "message"
        ],
        "title": "UpdateFollowupResponse",
        "type": "object"
      },
      "UsageHistoryPoint": {
        "description": "Single point in usage history.",
        "properties": {
          "cost_usd": {
            "title": "Cost Usd",
            "type": "number"
          },
          "date": {
            "title": "Date",
            "type": "string"
          },
          "request_count": {
            "title": "Request Count",
            "type": "integer"
          },
          "tokens": {
            "title": "Tokens",
            "type": "integer"
          }
        },
        "required": [
          "date",
          "cost_usd",
          "request_count",
          "tokens"
        ],
        "title": "UsageHistoryPoint",
        "type": "object"
      },
      "UsageHistoryResponse": {
        "description": "Historical usage data response.",
        "properties": {
          "avg_daily_cost": {
            "title": "Avg Daily Cost",
            "type": "number"
          },
          "daily_data": {
            "items": {
              "$ref": "#/components/schemas/UsageHistoryPoint"
            },
            "title": "Daily Data",
            "type": "array"
          },
          "period_days": {
            "title": "Period Days",
            "type": "integer"
          },
          "total_cost_usd": {
            "title": "Total Cost Usd",
            "type": "number"
          },
          "total_requests": {
            "title": "Total Requests",
            "type": "integer"
          },
          "total_tokens": {
            "title": "Total Tokens",
            "type": "integer"
          },
          "trend_direction": {
            "description": "up, down, or stable",
            "title": "Trend Direction",
            "type": "string"
          }
        },
        "required": [
          "period_days",
          "total_cost_usd",
          "total_requests",
          "total_tokens",
          "daily_data",
          "avg_daily_cost",
          "trend_direction"
        ],
        "title": "UsageHistoryResponse",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      },
      "WeakSpot": {
        "description": "Topic identified as needing attention.\n\nFlagged when mastery score falls below threshold or shows declining trend.\nIncludes actionable recommendations and suggested exercise types tailored\nto the learner's current level (e.g., worked examples for novices).",
        "properties": {
          "mastery_score": {
            "title": "Mastery Score",
            "type": "number"
          },
          "recommendation": {
            "description": "Suggested action",
            "title": "Recommendation",
            "type": "string"
          },
          "success_rate": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Success Rate"
          },
          "suggested_exercise_types": {
            "items": {
              "$ref": "#/components/schemas/ExerciseType"
            },
            "title": "Suggested Exercise Types",
            "type": "array"
          },
          "topic": {
            "title": "Topic",
            "type": "string"
          },
          "trend": {
            "$ref": "#/components/schemas/MasteryTrend"
          }
        },
        "required": [
          "topic",
          "mastery_score",
          "trend",
          "recommendation"
        ],
        "title": "WeakSpot",
        "type": "object"
      },
      "WeakSpotsResponse": {
        "description": "Response with weak spots.\n\nReturns topics sorted by priority: declining trends first, then lowest mastery.\nThe threshold (default 0.6) determines what qualifies as a weak spot, helping\nlearners focus their limited study time on areas that need the most work.",
        "properties": {
          "total_topics": {
            "title": "Total Topics",
            "type": "integer"
          },
          "weak_spot_threshold": {
            "default": 0.6,
            "title": "Weak Spot Threshold",
            "type": "number"
          },
          "weak_spots": {
            "items": {
              "$ref": "#/components/schemas/WeakSpot"
            },
            "title": "Weak Spots",
            "type": "array"
          }
        },
        "required": [
          "weak_spots",
          "total_topics"
        ],
        "title": "WeakSpotsResponse",
        "type": "object"
      }
    },
    "securitySchemes": {
      "APIKeyHeader": {
        "in": "header",
        "name": "X-API-Key",
        "type": "apiKey"
      }
    }
  },
  "info": {
    "description": "Knowledge management and learning system API",
    "title": "Second Brain API",
    "version": "0.1.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/": {
      "get": {
        "description": "Root endpoint with API information.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Root  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Root"
      }
    },
    "/api/analytics/daily": {
      "get": {
        "description": "Get daily statistics for the dashboard.\n\nReturns today's learning status including:\n- Current streak and risk status\n- Due cards count\n- Cards reviewed today\n- Overall mastery\n- Practice time today",
        "operationId": "get_daily_stats_api_analytics_daily_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DailyStatsResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Daily Stats",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/learning-curve": {
      "get": {
        "description": "Get learning curve data for visualization.\n\nReturns historical mastery data points for charting progress over time.",
        "operationId": "get_learning_curve_api_analytics_learning_curve_get",
        "parameters": [
          {
            "description": "Topic to get curve for (None for overall)",
            "in": "query",
            "name": "topic",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Topic to get curve for (None for overall)",
              "title": "Topic"
            }
          },
          {
            "description": "Number of days of history",
            "in": "query",
            "name": "days",
            "required": false,
            "schema": {
              "default": 30,
              "description": "Number of days of history",
              "maximum": 365,
              "minimum": 7,
              "title": "Days",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LearningCurveResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Learning Curve",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/mastery/{topic}": {
      "get": {
        "description": "Get mastery state for a specific topic.\n\nTopic paths use slashes (e.g., \"ml/transformers/attention\").",
        "operationId": "get_topic_mastery_api_analytics_mastery__topic__get",
        "parameters": [
          {
            "in": "path",
            "name": "topic",
            "required": true,
            "schema": {
              "title": "Topic",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MasteryState"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Topic Mastery",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/overview": {
      "get": {
        "description": "Get overall mastery statistics.\n\nReturns:\n- Overall mastery score\n- Card counts by state\n- Topic masteries\n- Practice streak",
        "operationId": "get_mastery_overview_api_analytics_overview_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MasteryOverview"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Mastery Overview",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/practice-history": {
      "get": {
        "description": "Get practice history for activity heatmap.\n\nReturns daily practice activity for the specified number of weeks,\nsuitable for rendering a GitHub-style contribution heatmap.",
        "operationId": "get_practice_history_api_analytics_practice_history_get",
        "parameters": [
          {
            "description": "Number of weeks of history",
            "in": "query",
            "name": "weeks",
            "required": false,
            "schema": {
              "default": 52,
              "description": "Number of weeks of history",
              "maximum": 104,
              "minimum": 1,
              "title": "Weeks",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PracticeHistoryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Practice History",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/snapshot": {
      "post": {
        "description": "Manually trigger a mastery snapshot.\n\nThis is normally done by a scheduled job at midnight,\nbut can be triggered manually for testing.",
        "operationId": "take_mastery_snapshot_api_analytics_snapshot_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Take Mastery Snapshot Api Analytics Snapshot Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Take Mastery Snapshot",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/streak": {
      "get": {
        "description": "Get practice streak information.\n\nA streak is maintained by practicing at least once per day.\nStreaks reset if a day is missed.\n\nReturns:\n    Current streak, history, and milestones",
        "operationId": "get_streak_data_api_analytics_streak_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StreakData"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Streak Data",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/time-investment": {
      "get": {
        "description": "Get time investment breakdown.\n\nShows how much time has been spent learning,\nbroken down by topic and activity type.\n\nArgs:\n    period: Time period to analyze (7d, 30d, 90d, 1y, all)\n    group_by: How to group the data (day, week, month)\n\nReturns:\n    Time investment summary with trends",
        "operationId": "get_time_investment_api_analytics_time_investment_get",
        "parameters": [
          {
            "description": "Time period to analyze",
            "in": "query",
            "name": "period",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/TimePeriod",
              "default": "30d",
              "description": "Time period to analyze"
            }
          },
          {
            "description": "How to group the data",
            "in": "query",
            "name": "group_by",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/GroupBy",
              "default": "day",
              "description": "How to group the data"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimeInvestmentResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Time Investment",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/time-log": {
      "post": {
        "description": "Log time spent on a learning activity.\n\nCalled by frontend to track time investment.\nDuration is calculated from started_at and ended_at.\n\nArgs:\n    request: Time log details\n\nReturns:\n    Created time log record",
        "operationId": "log_learning_time_api_analytics_time_log_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LogTimeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogTimeResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Log Learning Time",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/analytics/weak-spots": {
      "get": {
        "description": "Get topics identified as weak spots.\n\nWeak spots are topics with:\n- Mastery score < 0.6\n- At least 3 practice attempts\n- Declining trends prioritized",
        "operationId": "get_weak_spots_api_analytics_weak_spots_get",
        "parameters": [
          {
            "description": "Maximum weak spots to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "description": "Maximum weak spots to return",
              "maximum": 50,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WeakSpotsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Weak Spots",
        "tags": [
          "analytics"
        ]
      }
    },
    "/api/assistant/chat": {
      "post": {
        "description": "Send a message to the AI assistant and get a response.\n\nArgs:\n    request: Chat request with message and optional conversation_id.\n    service: Injected assistant service.\n\nReturns:\n    ChatResponse with conversation_id, response, and sources.\n\nRaises:\n    HTTPException 404: If specified conversation not found.\n    HTTPException 500: If chat processing fails.",
        "operationId": "send_message_api_assistant_chat_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Send Message",
        "tags": [
          "assistant"
        ]
      }
    },
    "/api/assistant/conversations": {
      "delete": {
        "description": "Delete all conversations and messages.\n\nArgs:\n    service: Injected assistant service.\n\nReturns:\n    DeleteResponse with count of cleared conversations.\n\nRaises:\n    HTTPException 500: If clearing fails.",
        "operationId": "clear_all_conversations_api_assistant_conversations_delete",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Clear All Conversations",
        "tags": [
          "assistant"
        ]
      },
      "get": {
        "description": "Get paginated list of all conversations.\n\nArgs:\n    limit: Maximum conversations to return (1-100).\n    offset: Number to skip for pagination.\n    service: Injected assistant service.\n\nReturns:\n    ConversationListResponse with conversations and total count.\n\nRaises:\n    HTTPException 500: If retrieval fails.",
        "operationId": "get_conversations_api_assistant_conversations_get",
        "parameters": [
          {
            "description": "Max conversations to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Max conversations to return",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Number to skip for pagination",
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Number to skip for pagination",
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Conversations",
        "tags": [
          "assistant"
        ]
      }
    },
    "/api/assistant/conversations/{conversation_id}": {
      "delete": {
        "description": "Delete a conversation and all its messages.\n\nArgs:\n    conversation_id: Unique conversation identifier.\n    service: Injected assistant service.\n\nReturns:\n    DeleteResponse with success status.\n\nRaises:\n    HTTPException 404: If conversation not found.\n    HTTPException 500: If deletion fails.",
        "operationId": "delete_conversation_api_assistant_conversations__conversation_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "conversation_id",
            "required": true,
            "schema": {
              "title": "Conversation Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Conversation",
        "tags": [
          "assistant"
        ]
      },
      "get": {
        "description": "Get a specific conversation with all its messages.\n\nArgs:\n    conversation_id: Unique conversation identifier.\n    service: Injected assistant service.\n\nReturns:\n    ConversationDetail with messages.\n\nRaises:\n    HTTPException 404: If conversation not found.\n    HTTPException 500: If retrieval fails.",
        "operationId": "get_conversation_api_assistant_conversations__conversation_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "conversation_id",
            "required": true,
            "schema": {
              "title": "Conversation Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationDetail"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Conversation",
        "tags": [
          "assistant"
        ]
      },
      "patch": {
        "description": "Rename a conversation.\n\nArgs:\n    conversation_id: Unique conversation identifier.\n    request: Update request with new title.\n    service: Injected assistant service.\n\nReturns:\n    ConversationUpdateResponse with updated metadata.\n\nRaises:\n    HTTPException 404: If conversation not found.\n    HTTPException 500: If update fails.",
        "operationId": "rename_conversation_api_assistant_conversations__conversation_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "conversation_id",
            "required": true,
            "schema": {
              "title": "Conversation Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversationUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationUpdateResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Rename Conversation",
        "tags": [
          "assistant"
        ]
      }
    },
    "/api/assistant/conversations/{conversation_id}/messages": {
      "delete": {
        "description": "Clear all messages from a conversation.\n\nArgs:\n    conversation_id: Unique conversation identifier.\n    service: Injected assistant service.\n\nReturns:\n    DeleteResponse with count of cleared messages.\n\nRaises:\n    HTTPException 500: If clearing fails.",
        "operationId": "clear_conversation_messages_api_assistant_conversations__conversation_id__messages_delete",
        "parameters": [
          {
            "in": "path",
            "name": "conversation_id",
            "required": true,
            "schema": {
              "title": "Conversation Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Clear Conversation Messages",
        "tags": [
          "assistant"
        ]
      }
    },
    "/api/assistant/explain/{concept_id}": {
      "get": {
        "description": "Get an AI-generated explanation of a concept.\n\nArgs:\n    concept_id: Concept identifier to explain.\n    style: Explanation style ('simple', 'detailed', or 'eli5').\n    service: Injected assistant service.\n\nReturns:\n    ExplanationResponse with explanation, examples, and related concepts.\n\nRaises:\n    HTTPException 500: If explanation generation fails.",
        "operationId": "explain_concept_api_assistant_explain__concept_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "concept_id",
            "required": true,
            "schema": {
              "title": "Concept Id",
              "type": "string"
            }
          },
          {
            "description": "Explanation style: 'simple', 'detailed', or 'eli5'",
            "in": "query",
            "name": "style",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ExplanationStyle",
              "default": "detailed",
              "description": "Explanation style: 'simple', 'detailed', or 'eli5'"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExplanationResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Explain Concept",
        "tags": [
          "assistant"
        ]
      }
    },
    "/api/assistant/quiz": {
      "post": {
        "description": "Generate a quiz on a specific topic.\n\nArgs:\n    request: Quiz parameters (topic_id and question_count).\n    service: Injected assistant service.\n\nReturns:\n    QuizResponse with generated questions.\n\nRaises:\n    HTTPException 500: If quiz generation fails.",
        "operationId": "generate_quiz_api_assistant_quiz_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuizRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuizResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Generate Quiz",
        "tags": [
          "assistant"
        ]
      }
    },
    "/api/assistant/recommendations": {
      "get": {
        "description": "Get personalized study recommendations based on learning history.\n\nArgs:\n    service: Injected assistant service.\n\nReturns:\n    RecommendationsResponse with prioritized study recommendations.\n\nRaises:\n    HTTPException 500: If recommendation generation fails.",
        "operationId": "get_recommendations_api_assistant_recommendations_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecommendationsResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Recommendations",
        "tags": [
          "assistant"
        ]
      }
    },
    "/api/assistant/search": {
      "get": {
        "description": "Search knowledge base for content relevant to a query.\n\nArgs:\n    q: Search query string.\n    service: Injected assistant service.\n\nReturns:\n    KnowledgeSearchResponse with search results.\n\nRaises:\n    HTTPException 500: If search fails.",
        "operationId": "search_knowledge_api_assistant_search_get",
        "parameters": [
          {
            "description": "Search query",
            "in": "query",
            "name": "q",
            "required": true,
            "schema": {
              "description": "Search query",
              "maxLength": 500,
              "minLength": 1,
              "title": "Q",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeSearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Knowledge",
        "tags": [
          "assistant"
        ]
      }
    },
    "/api/assistant/suggestions": {
      "get": {
        "description": "Get AI-generated prompt suggestions based on current knowledge base.\n\nArgs:\n    service: Injected assistant service.\n\nReturns:\n    SuggestionsResponse with list of suggested prompts.\n\nRaises:\n    HTTPException 500: If suggestion generation fails.",
        "operationId": "get_suggestions_api_assistant_suggestions_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuggestionsResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Suggestions",
        "tags": [
          "assistant"
        ]
      }
    },
    "/api/capture/book": {
      "post": {
        "description": "Capture multiple book page photos as a single book.\n\nUploads all images and processes them together using BookOCRPipeline.\nPages are processed in PARALLEL for faster results.\n\nNote: This endpoint requires individual file uploads rather than a directory path\nbecause the backend runs inside Docker and doesn't have access to the host\nfilesystem. Files are uploaded via multipart form data and saved to the\ncontainer's /uploads volume.\n\nThe pipeline:\n- Extracts page numbers via OCR (doesn't assume order from upload)\n- Detects chapters from running headers\n- Extracts printed text and handwritten margin notes\n- Aggregates all pages into a single Obsidian note\n\nPerformance:\n- 10 pages @ concurrency 5: ~30 seconds\n- 50 pages @ concurrency 10: ~75 seconds\n- 100 pages @ concurrency 10: ~150 seconds\n\nBest for: Capturing highlights and margin notes from physical books.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    files: List of image files (JPG, PNG, HEIC, WebP, TIFF) representing\n           book pages. Order doesn't matter; pages are sorted by detected\n           page numbers during OCR processing.\n    title: Optional book title. If not provided, the pipeline will attempt\n           to infer it from page headers or generate a timestamped title.\n    authors: Optional comma-separated list of author names\n             (e.g., \"Cal Newport, James Clear\").\n    isbn: Optional ISBN for metadata lookup and book identification.\n    notes: Optional notes about the book or why it was captured.\n\nReturns:\n    dict: Response containing status, content ID, title, page count,\n          file paths, and processing message.\n\nRaises:\n    HTTPException: 400 if no files provided or if any file is not a\n                  supported image format.",
        "operationId": "capture_book_api_capture_book_post",
        "parameters": [
          {
            "in": "header",
            "name": "api_key",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Key"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_book_api_capture_book_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "summary": "Capture Book",
        "tags": [
          "capture"
        ]
      }
    },
    "/api/capture/pdf": {
      "post": {
        "description": "Upload a PDF for processing.\n\nExtracts text, digital highlights/comments, and optionally\nhandwritten annotations using Vision LLM.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    file: The PDF file to process.\n    content_type_hint: Optional hint about the PDF content type to optimize\n                      processing. Options:\n        - \"paper\": Academic paper with citations and abstract.\n        - \"article\": Web article or blog post.\n        - \"book\": Book chapter or full book.\n        - \"general\": General document (default).\n    detect_handwriting: If True (default), uses Vision LLM to detect and\n                       extract handwritten annotations in margins.\n    create_cards: Whether to generate spaced repetition cards (default: True).\n    create_exercises: Whether to generate practice exercises (default: True).\n\nReturns:\n    dict: Response containing status, content ID, file path, filename,\n          and processing message.\n\nRaises:\n    HTTPException: 400 if file is not a PDF.",
        "operationId": "capture_pdf_api_capture_pdf_post",
        "parameters": [
          {
            "in": "header",
            "name": "api_key",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Key"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_pdf_api_capture_pdf_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "summary": "Capture Pdf",
        "tags": [
          "capture"
        ]
      }
    },
    "/api/capture/photo": {
      "post": {
        "description": "Capture a photo for OCR processing.\n\nSupports book pages, whiteboards, documents, and general photos.\nUses Vision LLM for text and handwriting extraction.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    file: The image file to process (JPEG, PNG, etc.).\n    capture_type: Type of photo being captured. Options:\n        - \"book_page\": Page from a physical book with potential margin notes.\n        - \"whiteboard\": Whiteboard or blackboard photo.\n        - \"document\": Printed document or form.\n        - \"general\": General photo with text (default).\n    notes: Optional notes or context about the photo.\n    book_title: Book title if capture_type is \"book_page\".\n    create_cards: Whether to generate spaced repetition cards (default: True).\n    create_exercises: Whether to generate practice exercises (default: True).\n\nReturns:\n    dict: Response containing status, content ID, file path, capture type,\n          and processing message.\n\nRaises:\n    HTTPException: 400 if file is not an image.",
        "operationId": "capture_photo_api_capture_photo_post",
        "parameters": [
          {
            "in": "header",
            "name": "api_key",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Key"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_photo_api_capture_photo_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "summary": "Capture Photo",
        "tags": [
          "capture"
        ]
      }
    },
    "/api/capture/text": {
      "post": {
        "description": "Quick text capture for ideas, notes, and thoughts.\n\nImmediately queues content for processing and returns.\nProcessing includes: LLM tagging, Obsidian note creation, knowledge graph.\nOptionally generates spaced repetition cards and practice exercises.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    content: The text content to capture (required).\n    title: Optional title for the note. If not provided, generated from content.\n    tags: Optional comma-separated list of tags (e.g., \"idea,work,urgent\").\n    create_cards: Whether to generate spaced repetition cards (default: False).\n    create_exercises: Whether to generate practice exercises (default: False).\n\nReturns:\n    dict: Response containing status, content ID, title, and processing message.",
        "operationId": "capture_text_api_capture_text_post",
        "parameters": [
          {
            "in": "header",
            "name": "api_key",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Key"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_text_api_capture_text_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "summary": "Capture Text",
        "tags": [
          "capture"
        ]
      }
    },
    "/api/capture/url": {
      "post": {
        "description": "Capture a URL for later processing.\n\nFetches page title immediately, then queues full content\nextraction for background processing.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    url: The URL to capture (must start with http:// or https://).\n    notes: Optional notes about why this URL was saved or key takeaways.\n    tags: Optional comma-separated list of tags (e.g., \"article,ai,research\").\n    create_cards: Whether to generate spaced repetition cards (default: True).\n    create_exercises: Whether to generate practice exercises (default: True).\n\nReturns:\n    dict: Response containing status, content ID, title, URL, and processing message.\n\nRaises:\n    HTTPException: 400 if URL doesn't start with http:// or https://.",
        "operationId": "capture_url_api_capture_url_post",
        "parameters": [
          {
            "in": "header",
            "name": "api_key",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Key"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_url_api_capture_url_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "summary": "Capture Url",
        "tags": [
          "capture"
        ]
      }
    },
    "/api/capture/voice": {
      "post": {
        "description": "Capture a voice memo for transcription.\n\nUses Whisper for transcription and optionally expands the\nraw transcript into a well-structured note.\n\nHigh-priority processing for quick turnaround.\n\nArgs:\n    background_tasks: FastAPI background tasks handler for async processing.\n    file: Audio file to transcribe. Supported formats: MP3, MP4, WAV, WebM,\n          M4A, OGG, FLAC.\n    expand: If True (default), uses LLM to expand raw transcript into a\n            structured, well-formatted note. If False, keeps raw transcript.\n    create_cards: Whether to generate spaced repetition cards (default: True).\n    create_exercises: Whether to generate practice exercises (default: True).\n\nReturns:\n    dict: Response containing status, content ID, file path, and processing\n          message indicating high-priority queue.\n\nRaises:\n    HTTPException: 400 if audio format is not supported.",
        "operationId": "capture_voice_api_capture_voice_post",
        "parameters": [
          {
            "in": "header",
            "name": "api_key",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Api Key"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_capture_voice_api_capture_voice_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "summary": "Capture Voice",
        "tags": [
          "capture"
        ]
      }
    },
    "/api/health": {
      "get": {
        "description": "Basic health check.\n\nReturns a simple status response indicating the API is running.",
        "operationId": "health_check_api_health_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Health Check Api Health Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Health Check",
        "tags": [
          "health"
        ]
      }
    },
    "/api/health/detailed": {
      "get": {
        "description": "Detailed health check with dependency status.\n\nChecks connectivity to:\n- PostgreSQL database\n- Redis cache\n- Neo4j graph database\n- Obsidian vault accessibility (with note count)\n- Vault watcher and sync services\n- Celery workers",
        "operationId": "detailed_health_check_api_health_detailed_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Detailed Health Check Api Health Detailed Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Detailed Health Check",
        "tags": [
          "health"
        ]
      }
    },
    "/api/health/ready": {
      "get": {
        "description": "Readiness probe for orchestration systems.\n\nReturns 200 only if the service is ready to accept traffic.\nChecks critical dependencies (database, Redis).\n\nUsed by: Docker health checks, load balancers, Kubernetes, etc.",
        "operationId": "readiness_check_api_health_ready_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Readiness Check Api Health Ready Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Readiness Check",
        "tags": [
          "health"
        ]
      }
    },
    "/api/ingestion/github/sync": {
      "post": {
        "description": "Sync GitHub starred repositories.\n\nImports recently starred repos up to the specified limit.\n\nArgs:\n    background_tasks: FastAPI background task manager\n    request: Sync configuration with limit\n\nReturns:\n    Dict with sync status and parameters",
        "operationId": "trigger_github_sync_api_ingestion_github_sync_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GitHubSyncRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Trigger Github Sync Api Ingestion Github Sync Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Trigger Github Sync",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/api/ingestion/pending": {
      "get": {
        "description": "List content items pending processing.\n\nUseful for monitoring the processing backlog.\n\nArgs:\n    limit: Maximum number of items to return (default: 20)\n\nReturns:\n    Dict with count and list of pending content items",
        "operationId": "list_pending_content_api_ingestion_pending_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response List Pending Content Api Ingestion Pending Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Pending Content",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/api/ingestion/queue/stats": {
      "get": {
        "description": "Get processing queue statistics.\n\nReturns counts of active, queued, and scheduled tasks.\n\nReturns:\n    Dict with status and queue statistics (active, queued, scheduled counts)",
        "operationId": "get_queue_statistics_api_ingestion_queue_stats_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Queue Statistics Api Ingestion Queue Stats Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Queue Statistics",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/api/ingestion/raindrop/sync": {
      "post": {
        "description": "Trigger Raindrop.io sync.\n\nSyncs bookmarks created since the specified number of days ago.\n\nArgs:\n    background_tasks: FastAPI background task manager\n    request: Sync configuration with since_days, collection_id, and limit\n\nReturns:\n    Dict with sync status and parameters",
        "operationId": "trigger_raindrop_sync_api_ingestion_raindrop_sync_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RaindropSyncRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Trigger Raindrop Sync Api Ingestion Raindrop Sync Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Trigger Raindrop Sync",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/api/ingestion/scheduled": {
      "get": {
        "description": "List all scheduled sync jobs.\n\nReturns job IDs, names, and next run times.\n\nReturns:\n    Dict with jobs list and count",
        "operationId": "list_scheduled_jobs_api_ingestion_scheduled_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response List Scheduled Jobs Api Ingestion Scheduled Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Scheduled Jobs",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/api/ingestion/scheduled/{job_id}/trigger": {
      "post": {
        "description": "Manually trigger a scheduled job immediately.\n\nUseful for testing or forcing an immediate sync.\n\nArgs:\n    job_id: ID of the scheduled job to trigger\n\nReturns:\n    Dict with trigger status and job_id\n\nRaises:\n    HTTPException: 404 if job not found",
        "operationId": "trigger_scheduled_job_api_ingestion_scheduled__job_id__trigger_post",
        "parameters": [
          {
            "in": "path",
            "name": "job_id",
            "required": true,
            "schema": {
              "title": "Job Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Trigger Scheduled Job Api Ingestion Scheduled  Job Id  Trigger Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Trigger Scheduled Job",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/api/ingestion/status/{content_id}": {
      "get": {
        "description": "Get processing status for a content item.\n\nReturns current status and any error messages.\n\nArgs:\n    content_id: UUID of the content item to check\n\nReturns:\n    Dict with id, title, status, error, source_type, created_at, obsidian_path\n\nRaises:\n    HTTPException: 404 if content not found",
        "operationId": "get_processing_status_api_ingestion_status__content_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "content_id",
            "required": true,
            "schema": {
              "title": "Content Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Processing Status Api Ingestion Status  Content Id  Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Processing Status",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/api/ingestion/taxonomy/sync": {
      "post": {
        "description": "Sync tag taxonomy from YAML to database.\n\nCreates any tags from the YAML taxonomy that don't exist in the database.\nThis is also run automatically daily at 4 AM UTC.\n\nReturns:\n    Dict with sync status and count of tags created",
        "operationId": "sync_taxonomy_api_ingestion_taxonomy_sync_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Sync Taxonomy Api Ingestion Taxonomy Sync Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Sync Taxonomy",
        "tags": [
          "ingestion"
        ]
      }
    },
    "/api/knowledge/connections/{node_id}": {
      "get": {
        "description": "Get connections for a specific node.\n\nReturns incoming and outgoing relationships, optionally filtered by direction.\n\nArgs:\n    node_id: The node to get connections for\n    direction: incoming, outgoing, or both\n    limit: Maximum connections per direction\n\nReturns:\n    ConnectionsResponse with incoming and outgoing lists",
        "operationId": "get_connections_api_knowledge_connections__node_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          },
          {
            "description": "Filter by direction",
            "in": "query",
            "name": "direction",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ConnectionDirection",
              "default": "both",
              "description": "Filter by direction"
            }
          },
          {
            "description": "Max connections per direction",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "description": "Max connections per direction",
              "maximum": 100,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Connections",
        "tags": [
          "knowledge"
        ]
      }
    },
    "/api/knowledge/graph": {
      "get": {
        "description": "Get graph data for visualization.\n\nReturns nodes and edges in D3-compatible format for force-directed graphs.\n\nArgs:\n    center_id: Optional node ID to center the graph on\n    node_types: Comma-separated list of node types to include\n    depth: How many hops from center to traverse (only used with center_id)\n    limit: Maximum number of nodes to return\n\nReturns:\n    GraphResponse with nodes, edges, and metadata",
        "operationId": "get_graph_visualization_api_knowledge_graph_get",
        "parameters": [
          {
            "description": "Center graph on this node ID",
            "in": "query",
            "name": "center_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Center graph on this node ID",
              "title": "Center Id"
            }
          },
          {
            "description": "Comma-separated node types",
            "in": "query",
            "name": "node_types",
            "required": false,
            "schema": {
              "default": "Content,Concept,Note",
              "description": "Comma-separated node types",
              "title": "Node Types",
              "type": "string"
            }
          },
          {
            "description": "Traversal depth from center",
            "in": "query",
            "name": "depth",
            "required": false,
            "schema": {
              "default": 2,
              "description": "Traversal depth from center",
              "maximum": 4,
              "minimum": 1,
              "title": "Depth",
              "type": "integer"
            }
          },
          {
            "description": "Max nodes to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "description": "Max nodes to return",
              "maximum": 500,
              "minimum": 10,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Graph Visualization",
        "tags": [
          "knowledge"
        ]
      }
    },
    "/api/knowledge/health": {
      "get": {
        "description": "Check Neo4j connection health.\n\nReturns:\n    Health status dict with neo4j_connected boolean",
        "operationId": "knowledge_graph_health_api_knowledge_health_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Knowledge Graph Health Api Knowledge Health Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Knowledge Graph Health",
        "tags": [
          "knowledge"
        ]
      }
    },
    "/api/knowledge/link-content-notes": {
      "post": {
        "description": "Create REPRESENTS relationships between Content and Note nodes.\n\nContent nodes (from LLM processing) and Note nodes (from vault sync) may\nrepresent the same file but aren't automatically linked. This endpoint\ncreates REPRESENTS relationships for all Content/Note pairs that share\nthe same file_path.\n\nThis is a backfill operation for existing data. New Content and Note nodes\nare automatically linked during creation.\n\nReturns:\n    Dict with count of newly created links",
        "operationId": "link_content_to_notes_api_knowledge_link_content_notes_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Link Content To Notes Api Knowledge Link Content Notes Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Link Content To Notes",
        "tags": [
          "knowledge"
        ]
      }
    },
    "/api/knowledge/node/{node_id}": {
      "get": {
        "description": "Get detailed information about a specific node.\n\nArgs:\n    node_id: The node's unique identifier\n\nReturns:\n    NodeDetails with full node information\n\nRaises:\n    HTTPException 404: If node not found",
        "operationId": "get_node_details_api_knowledge_node__node_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "node_id",
            "required": true,
            "schema": {
              "title": "Node Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NodeDetails"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Node Details",
        "tags": [
          "knowledge"
        ]
      }
    },
    "/api/knowledge/search": {
      "post": {
        "description": "Semantic search across knowledge base.\n\nUses embeddings to find semantically similar content when available,\notherwise falls back to keyword/fulltext matching. Searches across\nContent, Concepts, and Notes.\n\nArgs:\n    request: Search query and filters\n\nReturns:\n    SearchResponse with ranked results",
        "operationId": "search_knowledge_api_knowledge_search_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Knowledge",
        "tags": [
          "knowledge"
        ]
      }
    },
    "/api/knowledge/stats": {
      "get": {
        "description": "Get summary statistics for the knowledge graph.\n\nReturns:\n    GraphStats with node and relationship counts",
        "operationId": "get_graph_stats_api_knowledge_stats_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GraphStats"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Graph Stats",
        "tags": [
          "knowledge"
        ]
      }
    },
    "/api/knowledge/topics": {
      "get": {
        "description": "Get hierarchical topic structure.\n\nTopics are organized in a tree based on their tag paths:\n- ml/\n  - ml/deep-learning/\n    - ml/deep-learning/transformers/\n\nArgs:\n    min_content: Filter out topics with fewer items\n\nReturns:\n    TopicHierarchyResponse with tree structure",
        "operationId": "get_topic_hierarchy_api_knowledge_topics_get",
        "parameters": [
          {
            "description": "Min content count to include",
            "in": "query",
            "name": "min_content",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Min content count to include",
              "minimum": 0,
              "title": "Min Content",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopicHierarchyResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Topic Hierarchy",
        "tags": [
          "knowledge"
        ]
      }
    },
    "/api/llm-usage/budget": {
      "get": {
        "description": "Get current budget status and alerts.\n\nChecks spend against configured budget limits and returns\nwhether alerts should be triggered.",
        "operationId": "get_budget_status_api_llm_usage_budget_get",
        "parameters": [
          {
            "description": "Budget period: 'daily' or 'monthly'",
            "in": "query",
            "name": "period",
            "required": false,
            "schema": {
              "default": "monthly",
              "description": "Budget period: 'daily' or 'monthly'",
              "title": "Period",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BudgetStatusResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Budget Status",
        "tags": [
          "llm-usage"
        ]
      }
    },
    "/api/llm-usage/daily": {
      "get": {
        "description": "Get LLM usage summary for a specific day.\n\nReturns:\n- Total cost and token count\n- Breakdown by model\n- Breakdown by pipeline",
        "operationId": "get_daily_usage_api_llm_usage_daily_get",
        "parameters": [
          {
            "description": "Date in YYYY-MM-DD format (defaults to today)",
            "in": "query",
            "name": "date",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Date in YYYY-MM-DD format (defaults to today)",
              "title": "Date"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DailyUsageResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Daily Usage",
        "tags": [
          "llm-usage"
        ]
      }
    },
    "/api/llm-usage/history": {
      "get": {
        "description": "Get historical LLM usage data.\n\nReturns daily usage data for the specified period,\nalong with aggregated totals and trend analysis.",
        "operationId": "get_usage_history_api_llm_usage_history_get",
        "parameters": [
          {
            "description": "Number of days of history",
            "in": "query",
            "name": "days",
            "required": false,
            "schema": {
              "default": 30,
              "description": "Number of days of history",
              "maximum": 365,
              "minimum": 1,
              "title": "Days",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageHistoryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Usage History",
        "tags": [
          "llm-usage"
        ]
      }
    },
    "/api/llm-usage/monthly": {
      "get": {
        "description": "Get LLM usage summary for a specific month.\n\nReturns:\n- Total cost and token count\n- Daily breakdown\n- Breakdown by model",
        "operationId": "get_monthly_usage_api_llm_usage_monthly_get",
        "parameters": [
          {
            "description": "Year (defaults to current year)",
            "in": "query",
            "name": "year",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Year (defaults to current year)",
              "title": "Year"
            }
          },
          {
            "description": "Month (defaults to current month)",
            "in": "query",
            "name": "month",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "maximum": 12,
                  "minimum": 1,
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Month (defaults to current month)",
              "title": "Month"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonthlyUsageResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Monthly Usage",
        "tags": [
          "llm-usage"
        ]
      }
    },
    "/api/llm-usage/monthly-history": {
      "get": {
        "description": "Get historical LLM usage data aggregated by month.\n\nReturns monthly usage data for the specified period,\nalong with aggregated totals.",
        "operationId": "get_monthly_history_api_llm_usage_monthly_history_get",
        "parameters": [
          {
            "description": "Number of months of history",
            "in": "query",
            "name": "months",
            "required": false,
            "schema": {
              "default": 12,
              "description": "Number of months of history",
              "maximum": 24,
              "minimum": 1,
              "title": "Months",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MonthlyHistoryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Monthly History",
        "tags": [
          "llm-usage"
        ]
      }
    },
    "/api/llm-usage/top-consumers": {
      "get": {
        "description": "Get top consumers of LLM resources.\n\nIdentifies which models, pipelines, and operations are using\nthe most tokens and generating the most cost.",
        "operationId": "get_top_consumers_api_llm_usage_top_consumers_get",
        "parameters": [
          {
            "description": "Number of days to analyze",
            "in": "query",
            "name": "days",
            "required": false,
            "schema": {
              "default": 30,
              "description": "Number of days to analyze",
              "maximum": 365,
              "minimum": 1,
              "title": "Days",
              "type": "integer"
            }
          },
          {
            "description": "Number of top items to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "description": "Number of top items to return",
              "maximum": 50,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TopConsumersResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Top Consumers",
        "tags": [
          "llm-usage"
        ]
      }
    },
    "/api/practice/attempt/{attempt_id}/confidence": {
      "patch": {
        "description": "Update confidence rating after viewing feedback.",
        "operationId": "update_confidence_api_practice_attempt__attempt_id__confidence_patch",
        "parameters": [
          {
            "in": "path",
            "name": "attempt_id",
            "required": true,
            "schema": {
              "title": "Attempt Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AttemptConfidenceUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Update Confidence Api Practice Attempt  Attempt Id  Confidence Patch",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Confidence",
        "tags": [
          "practice"
        ]
      }
    },
    "/api/practice/content/{content_uuid}/exercises": {
      "get": {
        "description": "Get the exercise status for a specific content item.\n\nReturns information about existing exercises for this content,\nincluding which concepts have exercises. Use this before generating\nnew exercises to warn users about potential duplicates.",
        "operationId": "get_content_exercise_status_api_practice_content__content_uuid__exercises_get",
        "parameters": [
          {
            "in": "path",
            "name": "content_uuid",
            "required": true,
            "schema": {
              "title": "Content Uuid",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentExerciseStatus"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Content Exercise Status",
        "tags": [
          "practice"
        ]
      }
    },
    "/api/practice/content/{content_uuid}/generate": {
      "post": {
        "description": "Generate exercises for a specific content item.\n\nGenerates exercises based on extracted concepts and/or the content summary.\nReturns a warning if the content already has exercises (deduplication will\nskip existing concepts, but user should be informed).\n\nOptions:\n- generate_from_concepts: Create exercises from extracted concepts\n- generate_from_content: Create exercises from content summary",
        "operationId": "generate_content_exercises_api_practice_content__content_uuid__generate_post",
        "parameters": [
          {
            "in": "path",
            "name": "content_uuid",
            "required": true,
            "schema": {
              "title": "Content Uuid",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContentExerciseGenerateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContentExerciseGenerateResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Generate Content Exercises",
        "tags": [
          "practice"
        ]
      }
    },
    "/api/practice/exercise/generate": {
      "post": {
        "description": "Generate an adaptive exercise for a topic.\n\nExercise type and difficulty are selected based on mastery level:\n- < 0.3: Worked examples, code completions\n- 0.3-0.7: Free recall, implementations\n- > 0.7: Applications, teach-back",
        "operationId": "generate_exercise_api_practice_exercise_generate_post",
        "parameters": [
          {
            "description": "Current mastery level",
            "in": "query",
            "name": "mastery_level",
            "required": false,
            "schema": {
              "default": 0.5,
              "description": "Current mastery level",
              "maximum": 1.0,
              "minimum": 0.0,
              "title": "Mastery Level",
              "type": "number"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExerciseGenerateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExerciseResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Generate Exercise",
        "tags": [
          "practice"
        ]
      }
    },
    "/api/practice/exercise/{exercise_id}": {
      "get": {
        "description": "Get an exercise by ID.",
        "operationId": "get_exercise_api_practice_exercise__exercise_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "exercise_id",
            "required": true,
            "schema": {
              "title": "Exercise Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExerciseResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Exercise",
        "tags": [
          "practice"
        ]
      }
    },
    "/api/practice/exercises": {
      "get": {
        "description": "List all exercises with optional filtering.\n\nReturns exercises ordered by creation date (newest first).",
        "operationId": "list_exercises_api_practice_exercises_get",
        "parameters": [
          {
            "description": "Filter by topic path",
            "in": "query",
            "name": "topic",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by topic path",
              "title": "Topic"
            }
          },
          {
            "description": "Filter by exercise type",
            "in": "query",
            "name": "exercise_type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ExerciseType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by exercise type",
              "title": "Exercise Type"
            }
          },
          {
            "description": "Filter by difficulty",
            "in": "query",
            "name": "difficulty",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/ExerciseDifficulty"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by difficulty",
              "title": "Difficulty"
            }
          },
          {
            "description": "Maximum exercises to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "description": "Maximum exercises to return",
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Offset for pagination",
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Offset for pagination",
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ExerciseResponse"
                  },
                  "title": "Response List Exercises Api Practice Exercises Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Exercises",
        "tags": [
          "practice"
        ]
      }
    },
    "/api/practice/session": {
      "post": {
        "description": "Create a new practice session.\n\nReturns a balanced session with:\n- 40% due spaced rep cards\n- 30% weak spot exercises\n- 30% new/interleaved content",
        "operationId": "create_session_api_practice_session_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Session",
        "tags": [
          "practice"
        ]
      }
    },
    "/api/practice/session/{session_id}/end": {
      "post": {
        "description": "End a practice session and get summary statistics.",
        "operationId": "end_session_api_practice_session__session_id__end_post",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionSummary"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "End Session",
        "tags": [
          "practice"
        ]
      }
    },
    "/api/practice/submit": {
      "post": {
        "description": "Submit an exercise attempt for evaluation.\n\nReturns detailed feedback including:\n- Score (0-1)\n- Covered and missing key points\n- Misconceptions identified\n- LLM-generated feedback\n- Solution reveal",
        "operationId": "submit_attempt_api_practice_submit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AttemptSubmitRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptEvaluationResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Submit Attempt",
        "tags": [
          "practice"
        ]
      }
    },
    "/api/processing/followups": {
      "get": {
        "description": "List follow-up tasks with optional filtering.\n\nArgs:\n    content_id: Filter by specific content (optional)\n    completed: Filter by completion status (optional)\n    priority: Filter by priority: high, medium, low (optional)\n    task_type: Filter by task type: research, practice, connect, apply, review (optional)\n    limit: Maximum number of tasks to return (default 100)\n    offset: Offset for pagination (default 0)\n\nReturns:\n    FollowupTaskListResponse with list of tasks",
        "operationId": "list_followup_tasks_api_processing_followups_get",
        "parameters": [
          {
            "in": "query",
            "name": "content_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Content Id"
            }
          },
          {
            "in": "query",
            "name": "completed",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Completed"
            }
          },
          {
            "in": "query",
            "name": "priority",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Priority"
            }
          },
          {
            "in": "query",
            "name": "task_type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Task Type"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FollowupTaskListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Followup Tasks",
        "tags": [
          "processing"
        ]
      }
    },
    "/api/processing/followups/{followup_id}": {
      "patch": {
        "description": "Update a follow-up task (e.g., mark as completed).\n\nArgs:\n    followup_id: UUID of the follow-up task\n    request: Update data\n\nReturns:\n    UpdateFollowupResponse with updated task status",
        "operationId": "update_followup_task_api_processing_followups__followup_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "followup_id",
            "required": true,
            "schema": {
              "title": "Followup Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateFollowupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateFollowupResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Followup Task",
        "tags": [
          "processing"
        ]
      }
    },
    "/api/processing/pending": {
      "get": {
        "description": "Get all content items pending processing.\n\nReturns content that has been ingested but not yet processed,\noptionally including items that failed processing.\n\nArgs:\n    limit: Maximum number of items to return (default 100)\n    include_failed: Whether to include failed items (default False)\n\nReturns:\n    PendingContentResponse with list of pending items",
        "operationId": "get_pending_content_api_processing_pending_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "include_failed",
            "required": false,
            "schema": {
              "default": false,
              "title": "Include Failed",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PendingContentResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Pending Content",
        "tags": [
          "processing"
        ]
      }
    },
    "/api/processing/reprocess": {
      "post": {
        "description": "Reprocess specific stages for existing content.\n\nUseful when prompts are updated or specific stages need to be re-run.\n\nArgs:\n    content_id: UUID of content to reprocess\n    stages: List of stages to run (e.g., [ProcessingStage.SUMMARIZATION])\n\nReturns:\n    Status indicating reprocessing was queued",
        "operationId": "reprocess_content_api_processing_reprocess_post",
        "parameters": [
          {
            "in": "query",
            "name": "content_id",
            "required": true,
            "schema": {
              "title": "Content Id",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "items": {
                      "$ref": "#/components/schemas/ProcessingStage"
                    },
                    "type": "array"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Stages"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Reprocess Content",
        "tags": [
          "processing"
        ]
      }
    },
    "/api/processing/result/{content_id}": {
      "get": {
        "description": "Get full processing result for a content item.\n\nReturns the complete processing result including analysis,\nsummaries, concepts, tags, connections, and more.\n\nArgs:\n    content_id: UUID of the content\n\nReturns:\n    ProcessingResultResponse with all processing outputs\n\nRaises:\n    HTTPException 404: If content or processing result not found",
        "operationId": "get_processing_result_api_processing_result__content_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "content_id",
            "required": true,
            "schema": {
              "title": "Content Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProcessingResultResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Processing Result",
        "tags": [
          "processing"
        ]
      }
    },
    "/api/processing/status/{content_id}": {
      "get": {
        "description": "Get processing status for a content item.\n\nReturns the current status and metadata about the most recent\nprocessing run.\n\nArgs:\n    content_id: UUID of the content\n\nReturns:\n    ProcessingStatusResponse with status and timing info",
        "operationId": "get_processing_status_api_processing_status__content_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "content_id",
            "required": true,
            "schema": {
              "title": "Content Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProcessingStatusResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Processing Status",
        "tags": [
          "processing"
        ]
      }
    },
    "/api/processing/trigger": {
      "post": {
        "description": "Trigger LLM processing for a content item.\n\nProcessing runs asynchronously in the background. Use the status\nendpoint to check progress.\n\nArgs:\n    request: Processing request with content_id and optional config\n\nReturns:\n    TriggerProcessingResponse with queued status",
        "operationId": "trigger_processing_api_processing_trigger_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TriggerProcessingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerProcessingResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Trigger Processing",
        "tags": [
          "processing"
        ]
      }
    },
    "/api/review/cards": {
      "get": {
        "description": "List all cards with optional filters.\n\nBrowse the entire card catalogue with filtering by topic, type, or state.",
        "operationId": "list_cards_api_review_cards_get",
        "parameters": [
          {
            "description": "Filter by topic tag",
            "in": "query",
            "name": "topic",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by topic tag",
              "title": "Topic"
            }
          },
          {
            "description": "Filter by card type",
            "in": "query",
            "name": "card_type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by card type",
              "title": "Card Type"
            }
          },
          {
            "description": "Filter by card state (new, learning, review, mastered)",
            "in": "query",
            "name": "state",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by card state (new, learning, review, mastered)",
              "title": "State"
            }
          },
          {
            "description": "Maximum cards to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "description": "Maximum cards to return",
              "maximum": 500,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Pagination offset",
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "description": "Pagination offset",
              "minimum": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/CardResponse"
                  },
                  "title": "Response List Cards Api Review Cards Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Cards",
        "tags": [
          "review"
        ]
      },
      "post": {
        "description": "Create a new spaced repetition card.\n\nCard is created in NEW state with FSRS initial parameters.",
        "operationId": "create_card_api_review_cards_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Card",
        "tags": [
          "review"
        ]
      }
    },
    "/api/review/cards/{card_id}": {
      "get": {
        "description": "Get a card by ID.",
        "operationId": "get_card_api_review_cards__card_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "card_id",
            "required": true,
            "schema": {
              "title": "Card Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Card",
        "tags": [
          "review"
        ]
      }
    },
    "/api/review/due": {
      "get": {
        "description": "Get cards due for review.\n\nReturns cards ordered by due date (oldest first) with a review forecast.",
        "operationId": "get_due_cards_api_review_due_get",
        "parameters": [
          {
            "description": "Maximum cards to return",
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "description": "Maximum cards to return",
              "maximum": 200,
              "minimum": 1,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "description": "Filter by topic tag",
            "in": "query",
            "name": "topic",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by topic tag",
              "title": "Topic"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DueCardsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Due Cards",
        "tags": [
          "review"
        ]
      }
    },
    "/api/review/ensure-cards": {
      "post": {
        "description": "Ensure a minimum number of cards exist for a topic.\n\nIf fewer than `minimum` cards exist, generates more using LLM.\nReturns immediately if enough cards already exist.",
        "operationId": "ensure_cards_for_topic_api_review_ensure_cards_post",
        "parameters": [
          {
            "description": "Topic path",
            "in": "query",
            "name": "topic",
            "required": true,
            "schema": {
              "description": "Topic path",
              "title": "Topic",
              "type": "string"
            }
          },
          {
            "description": "Minimum cards required",
            "in": "query",
            "name": "minimum",
            "required": false,
            "schema": {
              "default": 5,
              "description": "Minimum cards required",
              "maximum": 50,
              "minimum": 1,
              "title": "Minimum",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardGenerationResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Ensure Cards For Topic",
        "tags": [
          "review"
        ]
      }
    },
    "/api/review/evaluate": {
      "post": {
        "description": "Evaluate a typed answer for a card using LLM.\n\nThis enables \"active recall\" mode where users type their answer\ninstead of just flipping the card. The LLM evaluates the answer\nsemantically and returns an appropriate FSRS rating.\n\nUse the returned rating with the /rate endpoint to save the review.\n\nReturns:\n- rating: FSRS rating (1-4) based on answer quality\n- is_correct: True if rating >= 3 (Good or Easy)\n- feedback: Explanation of what was correct/incorrect\n- expected_answer: The correct answer for comparison",
        "operationId": "evaluate_card_answer_api_review_evaluate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardEvaluateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardEvaluateResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Evaluate Card Answer",
        "tags": [
          "review"
        ]
      }
    },
    "/api/review/generate": {
      "post": {
        "description": "Generate spaced repetition cards for a topic on-demand.\n\nUses existing content and LLM to generate flashcards for the specified topic.\nUseful when starting a review session for a topic with few or no cards.",
        "operationId": "generate_cards_api_review_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardGenerationResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Generate Cards",
        "tags": [
          "review"
        ]
      }
    },
    "/api/review/rate": {
      "post": {
        "description": "Submit a review rating for a card.\n\nFSRS ratings:\n- AGAIN (1): Complete failure, reset to learning\n- HARD (2): Significant difficulty, shorter interval\n- GOOD (3): Correct with effort, normal interval\n- EASY (4): Too easy, longer interval\n\nReturns the new scheduling information.",
        "operationId": "rate_card_api_review_rate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CardReviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardReviewResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Rate Card",
        "tags": [
          "review"
        ]
      }
    },
    "/api/review/stats": {
      "get": {
        "description": "Get card statistics.\n\nReturns counts by state, average stability/difficulty, and due counts.",
        "operationId": "get_card_stats_api_review_stats_get",
        "parameters": [
          {
            "description": "Filter by topic tag",
            "in": "query",
            "name": "topic",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by topic tag",
              "title": "Topic"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CardStats"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Card Stats",
        "tags": [
          "review"
        ]
      }
    },
    "/api/vault/assets/{asset_path}": {
      "get": {
        "description": "Serve a static asset (image, PDF, etc.) from the vault.\n\nThis endpoint serves files from the vault's assets folder, which contains\nextracted images from PDFs, uploaded attachments, and other media files.\n\nArgs:\n    asset_path: Relative path to the asset from the assets folder.\n               Example: \"images/abc123/page_1_img_0.png\"\n\nReturns:\n    The file content with appropriate MIME type.\n\nRaises:\n    404: If the asset is not found.\n    403: If the path attempts to escape the assets folder.",
        "operationId": "get_asset_api_vault_assets__asset_path__get",
        "parameters": [
          {
            "in": "path",
            "name": "asset_path",
            "required": true,
            "schema": {
              "title": "Asset Path",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Asset",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/content/{content_id}/images": {
      "get": {
        "description": "List all images extracted from a specific content item.\n\nQueries the database first for image metadata. Falls back to filesystem\nscanning for backward compatibility with images extracted before database\ntracking was added.\n\nArgs:\n    content_id: UUID of the content item.\n\nReturns:\n    List of image metadata including paths, descriptions, and dimensions.",
        "operationId": "get_content_images_api_vault_content__content_id__images_get",
        "parameters": [
          {
            "in": "path",
            "name": "content_id",
            "required": true,
            "schema": {
              "title": "Content Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Content Images Api Vault Content  Content Id  Images Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Content Images",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/daily": {
      "post": {
        "description": "Create a daily note.",
        "operationId": "create_daily_note_api_vault_daily_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DailyNoteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Create Daily Note Api Vault Daily Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Daily Note",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/daily/inbox": {
      "post": {
        "description": "Add an item to today's daily note inbox.",
        "operationId": "add_inbox_item_api_vault_daily_inbox_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InboxItemRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Add Inbox Item Api Vault Daily Inbox Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Add Inbox Item",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/ensure-structure": {
      "post": {
        "description": "Ensure vault folder structure exists (idempotent).\n\nCreates any missing folders. Safe to call multiple times.",
        "operationId": "ensure_vault_structure_api_vault_ensure_structure_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Ensure Vault Structure Api Vault Ensure Structure Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Ensure Vault Structure",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/folders": {
      "get": {
        "description": "List all content type folders in the vault.",
        "operationId": "list_folders_api_vault_folders_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response List Folders Api Vault Folders Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Folders",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/indices/regenerate": {
      "post": {
        "description": "Regenerate all folder indices.",
        "operationId": "regenerate_indices_api_vault_indices_regenerate_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Regenerate Indices Api Vault Indices Regenerate Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Regenerate Indices",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/notes": {
      "get": {
        "description": "List notes in the vault with filtering and pagination.\n\nScans the vault for markdown files and returns metadata.\nSupports filtering by folder, search term, tag, and content type.",
        "operationId": "list_notes_api_vault_notes_get",
        "parameters": [
          {
            "description": "Filter by folder path",
            "in": "query",
            "name": "folder",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by folder path",
              "title": "Folder"
            }
          },
          {
            "description": "Search in file names",
            "in": "query",
            "name": "search",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search in file names",
              "title": "Search"
            }
          },
          {
            "description": "Filter by tag",
            "in": "query",
            "name": "tag",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tag",
              "title": "Tag"
            }
          },
          {
            "description": "Filter by content type",
            "in": "query",
            "name": "content_type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by content type",
              "title": "Content Type"
            }
          },
          {
            "description": "Page number",
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "default": 1,
              "description": "Page number",
              "minimum": 1,
              "title": "Page",
              "type": "integer"
            }
          },
          {
            "description": "Notes per page",
            "in": "query",
            "name": "page_size",
            "required": false,
            "schema": {
              "default": 50,
              "description": "Notes per page",
              "maximum": 200,
              "minimum": 1,
              "title": "Page Size",
              "type": "integer"
            }
          },
          {
            "description": "Sort by: modified, name, title, size",
            "in": "query",
            "name": "sort_by",
            "required": false,
            "schema": {
              "default": "modified",
              "description": "Sort by: modified, name, title, size",
              "title": "Sort By",
              "type": "string"
            }
          },
          {
            "description": "Sort descending",
            "in": "query",
            "name": "sort_desc",
            "required": false,
            "schema": {
              "default": true,
              "description": "Sort descending",
              "title": "Sort Desc",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotesListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Notes",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/notes/{note_path}": {
      "get": {
        "description": "Get the full content of a specific note.\n\nArgs:\n    note_path: Relative path to the note from vault root (e.g., \"papers/my-paper.md\")\n\nReturns:\n    Full note content with parsed frontmatter.",
        "operationId": "get_note_api_vault_notes__note_path__get",
        "parameters": [
          {
            "in": "path",
            "name": "note_path",
            "required": true,
            "schema": {
              "title": "Note Path",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NoteContent"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Note",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/status": {
      "get": {
        "description": "Get vault status and statistics.",
        "operationId": "get_vault_status_api_vault_status_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Vault Status Api Vault Status Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Vault Status",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/sync": {
      "post": {
        "description": "Sync entire vault to Neo4j (runs in background).",
        "operationId": "sync_vault_to_neo4j_api_vault_sync_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "title": "Response Sync Vault To Neo4J Api Vault Sync Post",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Sync Vault To Neo4J",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/sync/status": {
      "get": {
        "description": "Get the current status of vault-to-Neo4j sync.\n\nReturns:\n    - is_running: Whether a sync is currently in progress\n    - sync_type: Type of sync (\"full\" or \"reconciliation\")\n    - progress: Current progress (total, processed, synced, failed, percent)\n    - last_result: Result of the last completed sync\n    - last_completed_at: When the last sync completed\n    - last_error: Error message if the last sync failed",
        "operationId": "get_vault_sync_status_api_vault_sync_status_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Vault Sync Status Api Vault Sync Status Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Vault Sync Status",
        "tags": [
          "vault"
        ]
      }
    },
    "/api/vault/watcher/status": {
      "get": {
        "description": "Get the current status of the vault file watcher.",
        "operationId": "get_vault_watcher_status_api_vault_watcher_status_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Get Vault Watcher Status Api Vault Watcher Status Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Vault Watcher Status",
        "tags": [
          "vault"
        ]
      }
    },
    "/graph": {
      "get": {
        "description": "Get all nodes and relationships from Neo4j.\n\nReturns a graph structure with nodes and relationships.",
        "operationId": "graph_graph_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "title": "Response Graph Graph Get",
                  "type": "object"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Graph"
      }
    }
  }
}
