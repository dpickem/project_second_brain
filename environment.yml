# Second Brain Project - Miniconda Environment Configuration
# 
# Setup with one command:
#   conda env create -f environment.yml
#
# Activate with:
#   conda activate second-brain
#
# Update existing environment:
#   conda env update -f environment.yml --prune

name: second-brain
channels:
  - conda-forge
  - pytorch
  - defaults

dependencies:
  # ============================================
  # Core Python Runtime (Updated to 3.12 for performance)
  # ============================================
  - python=3.12

  # ============================================
  # Web Framework & API
  # ============================================
  - pip

  # ============================================
  # Database Drivers (conda packages)
  # ============================================
  - postgresql
  - redis-py

  # ============================================
  # Scientific Computing
  # ============================================
  - numpy
  - scipy

  # ============================================
  # Audio Processing
  # ============================================
  - ffmpeg

  # ============================================
  # Node.js for Frontend (Updated to v22 LTS)
  # ============================================
  - nodejs=22

  # ============================================
  # Development Tools
  # ============================================
  - git

  # ============================================
  # Pip Dependencies
  # ============================================
  - pip:
    # ------------------------------------------
    # Web Framework & API
    # ------------------------------------------
    - fastapi>=0.115.0
    - uvicorn[standard]>=0.30.0
    - pydantic>=2.9.0
    - pydantic-settings>=2.5.0
    - python-multipart>=0.0.12
    - python-jose[cryptography]>=3.3.0
    - passlib[bcrypt]>=1.7.4
    - email-validator>=2.2.0
    
    # ------------------------------------------
    # Database & ORM
    # ------------------------------------------
    - sqlalchemy>=2.0.35
    - alembic>=1.13.3
    - asyncpg>=0.30.0
    - psycopg2-binary>=2.9.10
    - neo4j>=5.25.0
    - redis>=5.1.0
    
    # ------------------------------------------
    # Task Queue & Background Processing
    # ------------------------------------------
    - celery>=5.4.0
    - flower>=2.0.1
    
    # ------------------------------------------
    # LLM Integration & Processing
    # ------------------------------------------
    - litellm>=1.50.0
    - openai>=1.52.0
    - anthropic>=0.37.0
    - tiktoken>=0.8.0
    - tenacity>=9.0.0
    - aisuite
    
    # ------------------------------------------
    # OCR & Document Processing
    # ------------------------------------------
    - mistralai>=1.2.0
    - pillow>=11.0.0
    
    # ------------------------------------------
    # Content Ingestion
    # ------------------------------------------
    - httpx>=0.27.2
    - aiohttp>=3.10.10
    - aiofiles>=24.1.0
    - beautifulsoup4>=4.12.3
    - lxml>=5.3.0
    - pypdf>=5.1.0
    - pdfplumber>=0.11.4
    - markdown>=3.7
    - python-frontmatter>=1.1.0
    - watchdog>=6.0.0
    - ebooklib>=0.18
    - youtube-transcript-api>=0.6.3
    - openai-whisper>=20240930
    
    # ------------------------------------------
    # Knowledge Hub / Obsidian Note Generation
    # ------------------------------------------
    - jinja2>=3.1.4
    - ruamel.yaml>=0.18.6
    - pyyaml>=6.0.2
    
    # ------------------------------------------
    # Structured Logging & Monitoring
    # ------------------------------------------
    - structlog>=24.4.0
    - python-dotenv>=1.0.1
    - rich>=13.9.0
    
    # ------------------------------------------
    # Data Validation & Serialization
    # ------------------------------------------
    - orjson>=3.10.10
    - typing-extensions>=4.12.0
    
    # ------------------------------------------
    # Date/Time Handling
    # ------------------------------------------
    - python-dateutil>=2.9.0
    - pytz>=2024.2
    
    # ------------------------------------------
    # Testing
    # ------------------------------------------
    - pytest>=8.3.3
    - pytest-asyncio>=0.24.0
    - pytest-cov>=6.0.0
    - pytest-mock>=3.14.0
    - factory-boy>=3.3.1
    - faker>=30.8.0
    - respx>=0.21.1
    
    # ------------------------------------------
    # Code Quality & Development
    # ------------------------------------------
    - black>=24.10.0
    - ruff>=0.7.0
    - mypy>=1.13.0
    - pre-commit>=4.0.0
    - ipython>=8.29.0
    - jupyter>=1.1.0
